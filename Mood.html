<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mood Disorders</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel for JSX compilation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Lucide Icons (Vanilla) -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f8fafc; }
        @import url('https://fonts.googleapis.com/css2?family=Noto+Kufi+Arabic:wght@400;700&display=swap');
        .font-arabic { font-family: 'Noto Kufi Arabic', sans-serif; }
        
        /* Smooth scrolling */
        html { scroll-behavior: smooth; }
        
        /* Custom scrollbar for inner containers */
        .custom-scroll::-webkit-scrollbar { width: 6px; }
        .custom-scroll::-webkit-scrollbar-track { background: #f1f5f9; border-radius: 4px; }
        .custom-scroll::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        .custom-scroll::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef, useLayoutEffect } = React;

        // --- ICON SYSTEM SETUP ---
        const IconWrapper = ({ name, ...props }) => {
            const ref = useRef(null);
            
            useLayoutEffect(() => {
                if (ref.current && window.lucide && window.lucide.icons[name]) {
                    const iconElement = window.lucide.createElement(window.lucide.icons[name]);
                    if (props.className) {
                        const existingClass = iconElement.getAttribute('class') || '';
                        iconElement.setAttribute('class', `${existingClass} ${props.className}`);
                    }
                    if (props.size) {
                        iconElement.setAttribute('width', props.size);
                        iconElement.setAttribute('height', props.size);
                    }
                    ref.current.innerHTML = '';
                    ref.current.appendChild(iconElement);
                }
            }, [name, props.className, props.size]);

            return <span ref={ref} style={{ display: 'inline-flex', verticalAlign: 'middle' }} />;
        };

        const createIconComponent = (name) => (props) => <IconWrapper name={name} {...props} />;

        const Brain = createIconComponent('Brain');
        const Heart = createIconComponent('Heart');
        const Activity = createIconComponent('Activity');
        const BookOpen = createIconComponent('BookOpen');
        const Target = createIconComponent('Target');
        const ChevronDown = createIconComponent('ChevronDown');
        const ChevronUp = createIconComponent('ChevronUp');
        const AlertCircle = createIconComponent('AlertCircle');
        const ShieldAlert = createIconComponent('ShieldAlert');
        const Pill = createIconComponent('Pill');
        const Users = createIconComponent('Users');
        const Zap = createIconComponent('Zap');
        const TrendingDown = createIconComponent('TrendingDown');
        const TrendingUp = createIconComponent('TrendingUp');
        const List = createIconComponent('List');
        const Compass = createIconComponent('Compass');
        const Lightbulb = createIconComponent('Lightbulb');
        const CheckCircle2 = createIconComponent('CheckCircle2');

        // --- DEPARTMENT LOGO (Kept exactly as requested) ---
        const DepartmentLogo = ({ className = "w-10 h-10" }) => (
            <svg viewBox="0 0 100 120" className={className} xmlns="http://www.w3.org/2000/svg">
                <path d="M 5 80 C 15 100 40 110 60 105 C 80 100 95 85 95 75 C 95 70 85 65 75 75 C 65 85 50 90 35 85 C 25 80 15 75 5 80 Z" fill="#004a8f" />
                <path d="M 30 85 C 45 92 60 90 75 80" stroke="#ffffff" strokeWidth="2.5" strokeLinecap="round" fill="none" />
                <path d="M 40 78 C 55 85 70 80 85 70" stroke="#ffffff" strokeWidth="2.5" strokeLinecap="round" fill="none" />
                <path d="M 50 65 L 53 72 L 58 67 L 58 57 C 58 52 64 50 64 45 C 64 43 60 41 60 39 L 68 37 C 70 36 70 34 68 32 C 65 31 62 32 60 29 C 60 15 48 5 35 10" stroke="#004a8f" strokeWidth="3" strokeLinecap="round" strokeLinejoin="round" fill="none" />
                <g stroke="#1e1b4b" strokeWidth="1.5" fill="none">
                    <circle cx="35" cy="22" r="9" />
                    <circle cx="28" cy="35" r="9" />
                    <circle cx="42" cy="35" r="9" />
                </g>
                <text x="35" y="24.5" fontSize="7" fill="#1e1b4b" textAnchor="middle" fontWeight="bold" fontFamily="sans-serif">C</text>
                <text x="28" y="37.5" fontSize="7" fill="#1e1b4b" textAnchor="middle" fontWeight="bold" fontFamily="sans-serif">C</text>
                <text x="42" y="37.5" fontSize="7" fill="#1e1b4b" textAnchor="middle" fontWeight="bold" fontFamily="sans-serif">A</text>
            </svg>
        );

        // --- FACULTY LOGO (New from prompt) ---
        const FacultyLogo = ({ className = "w-24 h-28" }) => (
            <svg viewBox="0 0 100 130" className={className} xmlns="http://www.w3.org/2000/svg">
                <path d="M 2 2 L 98 2 L 98 65 C 98 110 50 128 50 128 C 50 128 2 110 2 65 Z" fill="#24335c" />
                <path d="M 4 4 L 96 4 L 96 65 C 96 108 50 125 50 125 C 50 125 4 108 4 65 Z" fill="#ffffff" />
                <path d="M 6 6 L 94 6 L 94 65 C 94 106 50 122 50 122 C 50 122 6 106 6 65 Z" fill="#66c5f4" />
                <path d="M 6 75 L 94 75 C 94 106 50 122 50 122 C 50 122 6 106 6 75 Z" fill="#1da2d8" />
                <g stroke="#1a2f57" strokeWidth="0.8">
                    <line x1="50" y1="18" x2="15" y2="12" />
                    <line x1="50" y1="18" x2="10" y2="20" />
                    <line x1="50" y1="18" x2="10" y2="28" />
                    <line x1="50" y1="18" x2="15" y2="35" />
                    <line x1="50" y1="18" x2="85" y2="12" />
                    <line x1="50" y1="18" x2="90" y2="20" />
                    <line x1="50" y1="18" x2="90" y2="28" />
                    <line x1="50" y1="18" x2="85" y2="35" />
                </g>
                <g fill="#c49341" stroke="#1a2f57" strokeWidth="1.2" strokeLinejoin="round">
                    <polygon points="12,60 10,75 22,75 20,60" />
                    <rect x="10" y="56" width="12" height="4" />
                    <rect x="11" y="53" width="10" height="3" />
                    <rect x="20" y="63" width="18" height="12" />
                    <polygon points="80,60 78,75 90,75 88,60" />
                    <rect x="78" y="56" width="12" height="4" />
                    <rect x="79" y="53" width="10" height="3" />
                    <rect x="62" y="63" width="18" height="12" />
                    <polygon points="40,40 33,75 67,75 60,40" />
                    <rect x="38" y="38" width="24" height="4" />
                    <rect x="42" y="24" width="16" height="14" />
                    <rect x="40" y="22" width="20" height="3" />
                    <rect x="45" y="14" width="10" height="8" />
                    <rect x="44" y="12" width="12" height="2" />
                    <polygon points="47,12 48,7 52,7 53,12" />
                </g>
                <g fill="none" stroke="#1a2f57" strokeWidth="1.2">
                    <rect x="22" y="66" width="3" height="4" />
                    <rect x="27" y="66" width="3" height="4" />
                    <rect x="32" y="66" width="3" height="4" />
                    <rect x="65" y="66" width="3" height="4" />
                    <rect x="70" y="66" width="3" height="4" />
                    <rect x="75" y="66" width="3" height="4" />
                    <rect x="47" y="64" width="6" height="11" />
                    <rect x="48" y="54" width="4" height="5" />
                    <rect x="48" y="46" width="4" height="5" />
                    <rect x="44" y="27" width="4" height="4" />
                    <rect x="52" y="27" width="4" height="4" />
                </g>
                <g fill="#1a2f57" stroke="none">
                    <path d="M 12 85 Q 16 87 20 85 L 20 87 Q 16 89 12 87 Z" />
                    <path d="M 28 85 Q 32 87 36 85 L 36 87 Q 32 89 28 87 Z" />
                    <path d="M 44 85 Q 48 87 52 85 L 52 87 Q 48 89 44 87 Z" />
                    <path d="M 60 85 Q 64 87 68 85 L 68 87 Q 64 89 60 87 Z" />
                    <path d="M 76 85 Q 80 87 84 85 L 84 87 Q 80 89 76 87 Z" />
                    <path d="M 20 95 Q 24 97 28 95 L 28 97 Q 24 99 20 97 Z" />
                    <path d="M 36 95 Q 40 97 44 95 L 44 97 Q 40 99 36 97 Z" />
                    <path d="M 52 95 Q 56 97 60 95 L 60 97 Q 56 99 52 97 Z" />
                    <path d="M 68 95 Q 72 97 76 95 L 76 97 Q 72 99 68 97 Z" />
                    <path d="M 28 105 Q 32 107 36 105 L 36 107 Q 32 109 28 107 Z" />
                    <path d="M 44 105 Q 48 107 52 105 L 52 107 Q 48 109 44 107 Z" />
                    <path d="M 60 105 Q 64 107 68 105 L 68 107 Q 64 109 60 107 Z" />
                    <path d="M 40 115 Q 44 117 48 115 L 48 117 Q 44 119 40 117 Z" />
                    <path d="M 52 115 Q 56 117 60 115 L 60 117 Q 56 119 52 117 Z" />
                </g>
            </svg>
        );

        // --- NEW 15+ CUSTOM SVG ILLUSTRATIONS ---

        // 1. Classification Tree
        const ClassificationTreeSVG = () => (
            <svg viewBox="0 0 300 150" className="w-full h-auto drop-shadow-sm my-4">
                <rect x="100" y="10" width="100" height="30" rx="5" fill="#1e3a8a" />
                <text x="150" y="30" fill="white" fontSize="12" textAnchor="middle" fontWeight="bold">Mood Disorders</text>
                
                <path d="M 150 40 L 150 60" stroke="#64748b" strokeWidth="2" />
                <path d="M 75 60 L 225 60" stroke="#64748b" strokeWidth="2" />
                <path d="M 75 60 L 75 80" stroke="#64748b" strokeWidth="2" />
                <path d="M 225 60 L 225 80" stroke="#64748b" strokeWidth="2" />

                <rect x="20" y="80" width="110" height="40" rx="5" fill="#2563eb" />
                <text x="75" y="98" fill="white" fontSize="10" textAnchor="middle" fontWeight="bold">Depressive</text>
                <text x="75" y="112" fill="white" fontSize="10" textAnchor="middle" fontWeight="bold">Disorders</text>

                <rect x="170" y="80" width="110" height="40" rx="5" fill="#9333ea" />
                <text x="225" y="98" fill="white" fontSize="10" textAnchor="middle" fontWeight="bold">Bipolar</text>
                <text x="225" y="112" fill="white" fontSize="10" textAnchor="middle" fontWeight="bold">Disorders</text>
            </svg>
        );

        // 2. MDD Criteria Icons
        const MDDCriteriaSVG = () => (
            <svg viewBox="0 0 200 120" className="w-full h-full">
                <rect x="10" y="10" width="180" height="100" rx="10" fill="#eff6ff" stroke="#bfdbfe" strokeWidth="2" />
                <text x="100" y="30" fontSize="12" fontWeight="bold" fill="#1e40af" textAnchor="middle">MDD Symptoms (â‰¥4)</text>
                <g fill="#3b82f6">
                    <circle cx="30" cy="50" r="4" /> <text x="40" y="54" fontSize="10" fill="#475569">Appetite/Weight</text>
                    <circle cx="30" cy="70" r="4" /> <text x="40" y="74" fontSize="10" fill="#475569">Sleep change</text>
                    <circle cx="30" cy="90" r="4" /> <text x="40" y="94" fontSize="10" fill="#475569">Energy loss</text>
                    <circle cx="120" cy="50" r="4" /> <text x="130" y="54" fontSize="10" fill="#475569">Guilt</text>
                    <circle cx="120" cy="70" r="4" /> <text x="130" y="74" fontSize="10" fill="#475569">Concentration</text>
                    <circle cx="120" cy="90" r="4" /> <text x="130" y="94" fontSize="10" fill="#475569">Suicidality</text>
                </g>
            </svg>
        );

        // 3. Dysthymia Timeline
        const DysthymiaTimelineSVG = () => (
            <svg viewBox="0 0 300 80" className="w-full h-auto my-2">
                <line x1="20" y1="40" x2="280" y2="40" stroke="#94a3b8" strokeWidth="4" />
                <polygon points="280,35 290,40 280,45" fill="#94a3b8" />
                
                <circle cx="50" cy="40" r="6" fill="#3b82f6" />
                <text x="50" y="25" fontSize="12" fontWeight="bold" fill="#1e40af" textAnchor="middle">Start</text>
                
                <circle cx="200" cy="40" r="6" fill="#ef4444" />
                <text x="200" y="25" fontSize="12" fontWeight="bold" fill="#b91c1c" textAnchor="middle">At least 2 Years</text>
                
                <path d="M 50 50 Q 125 70 200 50" fill="none" stroke="#3b82f6" strokeWidth="2" strokeDasharray="4 4" />
                <text x="125" y="75" fontSize="10" fill="#475569" textAnchor="middle">Persistently depressed mood</text>
            </svg>
        );

        // 4. Neurotransmitters Deficit
        const NeurotransmitterSVG = () => (
            <svg viewBox="0 0 200 120" className="w-full h-full">
                <path d="M 40 20 C 60 20, 80 40, 80 60 C 80 80, 60 100, 40 100" fill="none" stroke="#94a3b8" strokeWidth="8" strokeLinecap="round" />
                <path d="M 160 20 C 140 20, 120 40, 120 60 C 120 80, 140 100, 160 100" fill="none" stroke="#94a3b8" strokeWidth="8" strokeLinecap="round" />
                <text x="100" y="115" fontSize="10" fill="#64748b" textAnchor="middle">Synaptic Cleft</text>
                {/* Deficit dots */}
                <circle cx="95" cy="50" r="3" fill="#3b82f6" />
                <circle cx="105" cy="65" r="3" fill="#eab308" />
                <circle cx="90" cy="75" r="3" fill="#10b981" />
                <text x="100" y="20" fontSize="12" fontWeight="bold" fill="#ef4444" textAnchor="middle">Deficiency</text>
                <text x="100" y="35" fontSize="8" fill="#475569" textAnchor="middle">Nor-epinephrine, Serotonin, Dopamine</text>
            </svg>
        );

        // 5. Psychoanalytic Theory (Anger inward)
        const PsychoanalyticSVG = () => (
            <svg viewBox="0 0 150 150" className="w-full h-full drop-shadow-sm">
                <circle cx="75" cy="40" r="20" fill="#fde68a" stroke="#d97706" strokeWidth="2" />
                <line x1="75" y1="60" x2="75" y2="110" stroke="#d97706" strokeWidth="3" />
                <line x1="75" y1="80" x2="40" y2="60" stroke="#d97706" strokeWidth="3" />
                <line x1="75" y1="80" x2="110" y2="60" stroke="#d97706" strokeWidth="3" />
                <line x1="75" y1="110" x2="50" y2="140" stroke="#d97706" strokeWidth="3" />
                <line x1="75" y1="110" x2="100" y2="140" stroke="#d97706" strokeWidth="3" />
                
                <path d="M 30 20 Q 75 -10 120 20" fill="none" stroke="#ef4444" strokeWidth="3" markerEnd="url(#red-arrow)" />
                <path d="M 130 50 Q 150 80 100 90" fill="none" stroke="#ef4444" strokeWidth="3" markerEnd="url(#red-arrow)" />
                <path d="M 20 50 Q 0 80 50 90" fill="none" stroke="#ef4444" strokeWidth="3" markerEnd="url(#red-arrow)" />
                
                <defs>
                    <marker id="red-arrow" markerWidth="8" markerHeight="8" refX="4" refY="4" orient="auto">
                        <polygon points="0 0, 8 4, 0 8" fill="#ef4444" />
                    </marker>
                </defs>
                <text x="75" y="15" fontSize="10" fill="#ef4444" textAnchor="middle" fontWeight="bold">Anger turned inward</text>
            </svg>
        );

        // 6. Learned Helplessness
        const LearnedHelplessnessSVG = () => (
            <svg viewBox="0 0 150 150" className="w-full h-full">
                <rect x="25" y="50" width="100" height="100" fill="none" stroke="#64748b" strokeWidth="4" />
                <circle cx="75" cy="110" r="10" fill="#cbd5e1" />
                <line x1="75" y1="120" x2="75" y2="140" stroke="#cbd5e1" strokeWidth="2" />
                <line x1="75" y1="125" x2="60" y2="115" stroke="#cbd5e1" strokeWidth="2" />
                <line x1="75" y1="125" x2="90" y2="115" stroke="#cbd5e1" strokeWidth="2" />
                <path d="M 65 90 C 50 70, 100 70, 85 90" fill="none" stroke="#94a3b8" strokeWidth="2" />
                <text x="75" y="75" fontSize="10" fill="#475569" textAnchor="middle">"No Control"</text>
            </svg>
        );

        // 7. Beck's Triad (Kept & Enhanced)
        const CognitiveTriadIllustration = () => (
            <div className="flex justify-center my-6">
                <div className="bg-white p-6 rounded-xl border border-slate-200 shadow-sm relative w-full max-w-md flex flex-col items-center">
                    <h5 className="font-bold text-slate-700 mb-4 text-center">Beck's Depressive Cognitive Triad</h5>
                    <svg width="240" height="220" viewBox="0 0 240 220" className="mx-auto drop-shadow-md">
                        <polygon points="120,40 200,180 40,180" fill="none" stroke="#94a3b8" strokeWidth="2" strokeDasharray="5,5" />
                        <path d="M 130 55 L 180 145" stroke="#3b82f6" strokeWidth="2" fill="none" markerEnd="url(#arrow)" />
                        <path d="M 170 180 L 70 180" stroke="#3b82f6" strokeWidth="2" fill="none" markerEnd="url(#arrow)" />
                        <path d="M 60 145 L 110 55" stroke="#3b82f6" strokeWidth="2" fill="none" markerEnd="url(#arrow)" />
                        <defs>
                            <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                                <polygon points="0 0, 10 3.5, 0 7" fill="#3b82f6" />
                            </marker>
                        </defs>
                        <circle cx="120" cy="40" r="35" fill="#eff6ff" stroke="#3b82f6" strokeWidth="3" />
                        <text x="120" y="35" fontSize="12" fontWeight="bold" fill="#1e40af" textAnchor="middle">Negative</text>
                        <text x="120" y="50" fontSize="12" fontWeight="bold" fill="#1e40af" textAnchor="middle">View of SELF</text>

                        <circle cx="200" cy="180" r="35" fill="#eff6ff" stroke="#3b82f6" strokeWidth="3" />
                        <text x="200" y="175" fontSize="12" fontWeight="bold" fill="#1e40af" textAnchor="middle">Negative</text>
                        <text x="200" y="190" fontSize="12" fontWeight="bold" fill="#1e40af" textAnchor="middle">View of FUTURE</text>

                        <circle cx="40" cy="180" r="35" fill="#eff6ff" stroke="#3b82f6" strokeWidth="3" />
                        <text x="40" y="175" fontSize="12" fontWeight="bold" fill="#1e40af" textAnchor="middle">Negative</text>
                        <text x="40" y="190" fontSize="12" fontWeight="bold" fill="#1e40af" textAnchor="middle">View of WORLD</text>
                    </svg>
                </div>
            </div>
        );

        // 8. Vegetative Signs
        const VegetativeSignsSVG = () => (
            <svg viewBox="0 0 200 60" className="w-full h-auto">
                <rect x="10" y="10" width="40" height="40" rx="5" fill="#fef3c7" />
                <circle cx="30" cy="30" r="10" fill="none" stroke="#d97706" strokeWidth="2" />
                <path d="M 25 30 L 35 30 M 30 25 L 30 35" stroke="#d97706" strokeWidth="2" />
                <text x="30" y="58" fontSize="8" fill="#d97706" textAnchor="middle">Eating</text>

                <rect x="70" y="10" width="40" height="40" rx="5" fill="#e0e7ff" />
                <path d="M 85 25 Q 90 35 85 40 Q 95 35 85 25" fill="#4f46e5" />
                <text x="90" y="58" fontSize="8" fill="#4f46e5" textAnchor="middle">Sleep</text>

                <rect x="130" y="10" width="40" height="40" rx="5" fill="#fce7f3" />
                <path d="M 145 25 L 145 35 M 155 25 L 155 35 M 140 25 L 160 25 M 140 35 L 160 35" stroke="#db2777" strokeWidth="2" />
                <text x="150" y="58" fontSize="8" fill="#db2777" textAnchor="middle">Sex/Libido</text>
            </svg>
        );

        // 9. Suicide Risk Gauge
        const SuicideRiskSVG = () => (
            <svg viewBox="0 0 200 100" className="w-full h-auto drop-shadow-sm my-2">
                <path d="M 20 80 A 80 80 0 0 1 180 80" fill="none" stroke="#e2e8f0" strokeWidth="15" strokeLinecap="round" />
                <path d="M 20 80 A 80 80 0 0 1 100 20" fill="none" stroke="#eab308" strokeWidth="15" strokeLinecap="round" />
                <path d="M 100 20 A 80 80 0 0 1 180 80" fill="none" stroke="#ef4444" strokeWidth="15" strokeLinecap="round" />
                <circle cx="100" cy="80" r="10" fill="#334155" />
                <polygon points="100,75 140,40 105,85" fill="#334155" />
                <text x="100" y="98" fontSize="12" fontWeight="bold" fill="#334155" textAnchor="middle">Lethality of Plan</text>
                <text x="40" y="40" fontSize="10" fill="#ca8a04">Clues</text>
                <text x="160" y="40" fontSize="10" fill="#dc2626">High Risk</text>
            </svg>
        );

        // 10. Bipolar Spectrum (Enhanced)
        const BipolarSpectrumIllustration = () => (
            <div className="bg-white p-4 rounded-lg border border-slate-200 shadow-sm my-6 overflow-hidden">
                <h5 className="font-bold text-slate-700 mb-4 text-center">Bipolar Mood Spectrum</h5>
                <div className="relative w-full h-40">
                    <svg viewBox="0 0 400 150" className="w-full h-full" preserveAspectRatio="none">
                        <line x1="0" y1="25" x2="400" y2="25" stroke="#f1f5f9" strokeWidth="1" />
                        <line x1="0" y1="75" x2="400" y2="75" stroke="#cbd5e1" strokeWidth="2" strokeDasharray="4 4" />
                        <line x1="0" y1="125" x2="400" y2="125" stroke="#f1f5f9" strokeWidth="1" />
                        
                        <text x="5" y="20" fontSize="10" fill="#ef4444" fontWeight="bold">Mania (High)</text>
                        <text x="5" y="45" fontSize="10" fill="#f59e0b" fontWeight="bold">Hypomania</text>
                        <text x="5" y="72" fontSize="10" fill="#64748b" fontWeight="bold">Euthymia (Normal)</text>
                        <text x="5" y="105" fontSize="10" fill="#60a5fa" fontWeight="bold">Mild Depression</text>
                        <text x="5" y="140" fontSize="10" fill="#3b82f6" fontWeight="bold">Major Depression (Low)</text>

                        <path d="M 80 75 C 100 75, 110 10, 130 15 C 150 20, 160 140, 190 140 C 220 140, 240 75, 260 75" fill="none" stroke="#ef4444" strokeWidth="3" />
                        <text x="130" y="10" fontSize="10" fill="#ef4444" textAnchor="middle">Bipolar I</text>

                        <path d="M 260 75 C 280 75, 290 40, 310 40 C 330 40, 340 140, 370 140 C 390 140, 400 75, 400 75" fill="none" stroke="#f59e0b" strokeWidth="3" strokeDasharray="3 3" />
                        <text x="310" y="35" fontSize="10" fill="#f59e0b" textAnchor="middle">Bipolar II</text>
                    </svg>
                </div>
            </div>
        );

        // 11. Flight of Ideas
        const FlightOfIdeasSVG = () => (
            <svg viewBox="0 0 150 150" className="w-full h-full">
                <path d="M 50 120 C 30 120, 30 60, 50 50 C 70 40, 100 40, 110 60 C 120 80, 100 120, 70 120" fill="none" stroke="#9333ea" strokeWidth="3" />
                <path d="M 80 50 Q 120 10 140 30" fill="none" stroke="#d946ef" strokeWidth="2" markerEnd="url(#purple-arrow)" />
                <path d="M 110 70 Q 140 80 140 100" fill="none" stroke="#d946ef" strokeWidth="2" markerEnd="url(#purple-arrow)" />
                <path d="M 90 45 Q 100 0 70 10" fill="none" stroke="#d946ef" strokeWidth="2" markerEnd="url(#purple-arrow)" />
                <defs>
                    <marker id="purple-arrow" markerWidth="6" markerHeight="6" refX="3" refY="3" orient="auto">
                        <polygon points="0 0, 6 3, 0 6" fill="#d946ef" />
                    </marker>
                </defs>
                <text x="75" y="140" fontSize="10" fill="#7e22ce" textAnchor="middle" fontWeight="bold">Flight of ideas</text>
            </svg>
        );

        // 12. Manic Behavior
        const ManicBehaviorSVG = () => (
            <svg viewBox="0 0 150 150" className="w-full h-full">
                <polygon points="75,20 60,70 85,65 70,120 95,55 70,60" fill="#eab308" />
                <path d="M 20 80 Q 40 50 60 70" fill="none" stroke="#ef4444" strokeWidth="2" strokeDasharray="2 2" />
                <path d="M 90 90 Q 120 120 140 90" fill="none" stroke="#ef4444" strokeWidth="2" strokeDasharray="2 2" />
                <text x="75" y="140" fontSize="10" fill="#b45309" textAnchor="middle" fontWeight="bold">Hyperactivity & Energy</text>
            </svg>
        );

        // 13. Clang Association
        const ClangAssociationSVG = () => (
            <svg viewBox="0 0 150 100" className="w-full h-full">
                <rect x="10" y="20" width="40" height="30" rx="4" fill="#f3e8ff" stroke="#a855f7" />
                <text x="30" y="40" fontSize="12" fill="#7e22ce" textAnchor="middle">deck</text>
                
                <rect x="55" y="50" width="40" height="30" rx="4" fill="#f3e8ff" stroke="#a855f7" />
                <text x="75" y="70" fontSize="12" fill="#7e22ce" textAnchor="middle">luck</text>
                
                <rect x="100" y="20" width="40" height="30" rx="4" fill="#f3e8ff" stroke="#a855f7" />
                <text x="120" y="40" fontSize="12" fill="#7e22ce" textAnchor="middle">duck</text>

                <path d="M 30 50 Q 50 80 55 65" fill="none" stroke="#a855f7" strokeWidth="2" strokeDasharray="2 2" />
                <path d="M 95 65 Q 110 80 120 50" fill="none" stroke="#a855f7" strokeWidth="2" strokeDasharray="2 2" />
                <text x="75" y="95" fontSize="10" fill="#6b21a8" textAnchor="middle" fontWeight="bold">Meaningless Rhyming</text>
            </svg>
        );

        // 14. Lithium Pill
        const LithiumPillSVG = () => (
            <svg viewBox="0 0 100 100" className="w-12 h-12 mx-auto mb-2">
                <rect x="20" y="30" width="60" height="30" rx="15" fill="#e2e8f0" stroke="#64748b" strokeWidth="2" />
                <path d="M 50 30 L 50 60" stroke="#64748b" strokeWidth="2" />
                <text x="35" y="50" fontSize="12" fill="#334155" textAnchor="middle" fontWeight="bold">Li</text>
                <text x="65" y="50" fontSize="12" fill="#334155" textAnchor="middle" fontWeight="bold">+</text>
            </svg>
        );

        // 15. ECT
        const ECTSVG = () => (
            <svg viewBox="0 0 100 100" className="w-12 h-12 mx-auto mb-2">
                <path d="M 30 70 C 20 70, 20 30, 50 30 C 80 30, 80 70, 70 70" fill="none" stroke="#fcd34d" strokeWidth="3" />
                <polygon points="50,40 45,55 55,50 50,70 60,50 45,55" fill="#eab308" />
            </svg>
        );

        // 16. Nursing Observation
        const NursingObservationSVG = () => (
            <svg viewBox="0 0 100 100" className="w-12 h-12 mx-auto mb-2">
                <rect x="30" y="20" width="40" height="60" rx="3" fill="#f8fafc" stroke="#475569" strokeWidth="2" />
                <line x1="40" y1="40" x2="60" y2="40" stroke="#475569" strokeWidth="2" />
                <line x1="40" y1="50" x2="60" y2="50" stroke="#475569" strokeWidth="2" />
                <circle cx="50" cy="70" r="8" fill="#ef4444" />
                <path d="M 40 20 L 60 20" stroke="#475569" strokeWidth="4" />
            </svg>
        );


        // --- APPLICATION DATA (Verbatim from prompt) ---

        const SECTIONS = {
            INTRO: 'intro',
            DEPRESSION: 'depression',
            BIPOLAR: 'bipolar',
            QUIZ: 'quiz'
        };

        const OBJECTIVES = [
            "Describe types of mood disorders as defined by DSM-5.",
            "Discuss the epidemiology of mood disorders.",
            "Explain the etiological factors related to mood disorders.",
            "Discuss nursing diagnoses related to depressive and bipolar disorders.",
            "Relate treatment modalities to different mood disorders."
        ];

        const DEPRESSION_DATA = {
            classification: [
                { term: "Major Depressive Disorder", def: "Characterized by a depressed mood or loss of interest or pleasure in almost all activities for at least 2 weeks in addition to at least four other depressive symptoms which include: change in appetite, weight, and/ or sleep; decrease in energy or activity; feelings of guilt or worthlessness; decreased concentration; suicidal thoughts or actions." },
                { term: "Persistent Depressive Disorder (Dysthymia)", def: "Persistently depressed mood that continues for at least 2 years. The mean age of onset is typically in the early 20s. Hospitalization is rarely necessary unless the person becomes suicidal." },
                { term: "Premenstrual Dysphoric Disorder", def: "An extreme form of premenstrual syndrome characterized by strong emotional symptoms such as depression, anxiety, moodiness and irritability." }
            ],
            etiology: [
                {
                    category: "I. Biological Theories",
                    items: [
                        { term: "Genetic Theory", def: "Genetic theory supports the view that depressive illness is inherited. Incidence is greater in relatives. Identical twins show a 50% chance. Adoption studies found biological children remain at increased risk." },
                        { term: "Neurotransmitter Hypothesis", def: "It has been hypothesized that depressive illness may be related to a deficiency of the neurotransmitters nor-epinephrine, serotonin, and dopamine at receptor sites in the brain." },
                        { term: "Endocrine Hypothesis", def: "A correlation between hyper secretion of cortisol and depressive disorder was reported. One third of patients have decreased release of thyroid stimulating hormone and growth hormone." }
                    ]
                },
                {
                    category: "II. Psychological Theories",
                    items: [
                        { term: "Psychoanalytic Theory (Freud)", def: "Emphasizes unconscious conflicts. Proposes depression is the result of a harsh and punitive superego. Child interprets withdrawal of affection as rejection, represses hostility, and turns feelings against the self." },
                        { term: "Learning Theory (Seligman)", def: "Depression arises out of 'learned helplessness'. Person expects negative results, believes response makes no difference, blames self, and feels no control over outcome." },
                        { term: "Cognitive Theory (Beck)", def: "Depression results from a tendency to interpret life events in a negative way. Results in three automatic negative thoughts: negative view of self, the world, and the future." }
                    ]
                }
            ],
            assessment: [
                { area: "1. General Appearance", details: ["Extreme neglect of personal grooming and hygiene.", "Patient may look older than his chronological age.", "Looks gloomy and pessimistic.", "Downcast, fixed and averted gaze.", "Stopped posture, and movement is usually heavy and slow."] },
                { area: "2. Affect and Mood", details: ["Worthlessness: Ranges from feeling inadequate to unrealistic evaluation ('I'm not good').", "Shame and guilt feelings.", "Helplessness: Inability to carry out simplest tasks.", "Hopelessness: Persistent pessimism and despair which can lead to suicidal act.", "Anger and irritability: May be expressed in physical aggression toward self.", "Anxiety."] },
                { area: "3. Thought Process", details: ["Pessimistic thinking concerning present, future, and past.", "Judgment is poor, and indecisiveness is common.", "Memory and concentration are poor.", "Delusional thinking: Self-blame, Poverty, Nihilistic.", "Suicidal behaviors: At increased risk of suicide."] },
                { area: "4. Physical Behaviors", details: ["Fatigue and lethargy: Sustained fatigue without physical exertion.", "Psychomotor retardation: Movements are extremely slow and difficult.", "Psychomotor agitation: Constantly pace, bite nails, feeling fidgety."] },
                { area: "5. Vegetative Signs", details: ["Changes in eating: About 60-70% report anorexia. Overeating may occur in mild depression.", "Change in sleep patterns: Insomnia (waking at 3 or 4 A.M.) or hypersomnia.", "Decline in sexual interest (loss of libido)."] },
                { area: "6. Communication & Interpersonal", details: ["Withdrawn and seek social isolation.", "Slow speech and answering with a single word.", "Exhibiting delayed responses to question.", "Having low tone of voice and may be mute."] },
                { area: "7. Assessment of suicide risk", details: ["Direct statements ('I will die').", "Indirect statements ('Things will never work out').", "Behavioral clues (Giving away prized possessions).", "Emotional clues (Sudden lifts in mood).", "Lethality of suicide plan and availability of means.", "High risk factors: previous history, family history, living alone."] }
            ],
            diagnoses: [
                {
                    diagnosis: "1. High risk for self-directed violence",
                    relatedTo: "Depressed mood, feeling of worthlessness, anger turned inward, misinterpretation of reality.",
                    goal: "Patient will remain safe. Patient will learn coping skills.",
                    interventions: [
                        "Establish a therapeutic relationship with the patient. Suicide is a cry for help.",
                        "Continually assess the patient's potential for suicide.",
                        "Ask the patient if he or she has a plan for suicide.",
                        "Formulate a short-term verbal or written contract that the patient will not harm self.",
                        "Provide close observation (participant observation).",
                        "Assign one staff member to be responsible for the patient at all time.",
                        "Place patient in room close to nurse's station.",
                        "Provide safe environment (remove sharps, matches, etc.).",
                        "Watch the patient carefully during taking medication.",
                        "Make round at frequent, irregular intervals especially at night/early morning.",
                        "Assess any change in patient's mood and behavior (sudden lift in mood)."
                    ]
                },
                {
                    diagnosis: "2. Self-esteem disturbance",
                    relatedTo: "Feelings of guilt, despair. Self-criticism. Learned helplessness.",
                    goal: "The patient will be able to verbalize feelings of self-worth.",
                    interventions: [
                        "Encourage the patient to engage in self-care grooming activities.",
                        "Initially, provide simple activities that can be accomplished easily.",
                        "Give the patient positive feedbacks for completion of responsibilities.",
                        "Help patients to make a written list of his or her personal strengths.",
                        "Encourage increasing decision making.",
                        "Convey an attitude of confidence in the abilities of the patients."
                    ]
                },
                {
                    diagnosis: "3. Impaired social interaction",
                    relatedTo: "Feelings of inadequacy, psychomotor retardation, lack of energy/social skills.",
                    goal: "Patient will verbalize willing to interact with others.",
                    interventions: [
                        "Initially, interact with patient on a one-to-one basis.",
                        "Establish a daily interaction time with the patient.",
                        "Initially comment on neutral topics.",
                        "Emphasize attendance at routine ward activities.",
                        "Remain with the patient even he/she doesn't engage in conversation.",
                        "Give praise about each interaction."
                    ]
                },
                {
                    diagnosis: "4. Altered thought process",
                    relatedTo: "Neurobiological changes. Low self-esteem. Feeling of hopelessness.",
                    goal: "Patient will demonstrate reality-based thinking and feeling of control.",
                    interventions: [
                        "Don't ask for detailed explanations regarding the delusion.",
                        "State the reality, giving accurate information.",
                        "Avoid laughing, joking, and acting cheerfully.",
                        "Avoid use of value judgment (state 'you are wearing a new dress' instead of 'you look nice').",
                        "Provide opportunities for patient to exercise control in situation that he can deal with.",
                        "Teach the patient to construct pleasant thoughts to overcome hopelessness."
                    ]
                },
                {
                    diagnosis: "5. Impaired verbal communication",
                    relatedTo: "Psychomotor retardation, low self-esteem, severe anxiety.",
                    goal: "Patient will be able to respond in one-to-one interaction.",
                    interventions: [
                        "Use simple concrete words.",
                        "Allow time for patient to respond.",
                        "Ask only about one thing at a time.",
                        "Use more directive approach ('It is time for lunch, I will go with you').",
                        "Sit with him in silence for short period if not speaking."
                    ]
                },
                {
                    diagnosis: "6. Self-care deficit",
                    relatedTo: "Loss of energy, lack of motivation and interest, psychomotor retardation.",
                    goal: "Patient will be able to perform self-care independently.",
                    interventions: [
                        "Encourage the use of toothbrush, soap, shaving equipment.",
                        "Give step by step reminders ('Wash the right side of your face, now the left').",
                        "Maintain a routine for dressing, grooming and hygiene.",
                        "Gently and firmly setting limits regarding time spend in bed."
                    ]
                },
                {
                    diagnosis: "7. Altered nutrition, less than body requirement",
                    relatedTo: "Disturbances of appetite or regular eating patterns.",
                    goal: "To gain weight progressively until reach appropriate body weight.",
                    interventions: [
                        "Offer small meals and snacks frequently.",
                        "Stay with the patient during the meal to offer encouragement.",
                        "Offer choices, ask the patient which food or drinks he or she likes.",
                        "Provide spoon feeding.",
                        "Weight the patient weekly."
                    ]
                }
            ],
            education: [
                "Teach the patient the signs and symptoms of depression.",
                "Emphasize that depression is a medical illness with treatments that are effective.",
                "Reinforce the rationales for the medications and therapies.",
                "Explain it may take two to four weeks to reach a good response from medications.",
                "Explain that healthy life choices and behaviors can influence mood.",
                "Remind patient that alcohol and other mood-altering drugs can worsen depression."
            ]
        };

        const BIPOLAR_DATA = {
            intro: "Bipolar disorder (manic depression) is a serious mental illness causing unusual and severe mood changes. The person may experience 'highs' (mania) and 'lows' (depression). Episodes may switch rapidly and inhibit the ability to function.",
            classification: [
                { term: "Bipolar I Disorder", def: "History of at least one full manic episode. May have been preceded and followed by hypomanic or major depressive episodes. May include psychotic features." },
                { term: "Bipolar II Disorder", def: "Presence of major depressive episode alternating with episodes of hypomania." },
                { term: "Cyclothymic Disorder", def: "Mild form of bipolar II. Episode of hypomania and mild depression lasting for at least 2 years." },
                { term: "Substance/Medication-Induced", def: "Diagnostic features essentially the same as mania or depression, occurs after drug use (stimulants, steroids) and persists beyond physiological effects." },
                { term: "Due to Another Medical Condition", def: "Attributable to conditions like Cushing's disease, multiple sclerosis, stroke, and traumatic brain injuries." }
            ],
            etiology: [
                { term: "Genetic Theory", def: "Identical twins four to five times more likely. If one parent has bipolar I, 25% chance; if both parents, 50-75% chance." },
                { term: "Neurotransmitter Hypothesis", def: "Hypothesized that manic disorder may be related to excess of norepinephrine and dopamine." },
                { term: "Psychoanalytic Theory", def: "Manic episodes viewed as extreme defenses against depression (reaction formation or denial) to avoid inner pain through exhausting activity." }
            ],
            assessment: [
                { area: "1. Mood", details: ["Euphoria: Unstable and inconstant. May change to irritation and quick anger.", "Labile mood: Switching from laughter to irritability to depression in minutes."] },
                { area: "2. Behavior", details: ["Hyperactivity ranges from mild to extreme (outbursts, assaultive).", "Busy all hours of the day and night.", "Flies from one activity/project to another.", "Spending large sums of money, gives away possessions.", "Bizarre dress, colorful, inappropriate make-up.", "Reduced need for sleep.", "Too busy to eat or engage in sexual activities (risk of physical exhaustion)."] },
                { area: "3. Thought Process", details: ["Flight of ideas.", "Pressure of speech with loud voice.", "Joking, playing on words (puns), teasing.", "Sexually explicit/vulgar speech.", "Clang association (deck, luck, duck).", "Highly distractible, poor judgment.", "Delusions of grandeur and persecution."] },
                { area: "4. Interpersonal Relationship", details: ["Treat everyone with familiarity, inappropriate intimacy with stranger.", "Intrusive conversation with others."] }
            ],
            diagnoses: [
                {
                    diagnosis: "1. Risk for violence directed at others",
                    relatedTo: "Hostile behavior, poor impulse control, neurotransmitters disturbance.",
                    goal: "Demonstrate increased control of motor behavior. Free from any harm.",
                    interventions: [
                        "Maintain non-stimulating environment (away from bright lights, loud noises).",
                        "Place furniture with sharp edges close to wall. Remove hazardous object.",
                        "Provide gross motion activities in an open secure area.",
                        "Provide consistent, structured environment.",
                        "Redirect violent behaviors through physical exercises.",
                        "Instruct patient to seek out staff when experiencing agitation.",
                        "Avoid arguing when patient verbalizes unrealistic or grandiose ideas.",
                        "Use physical restraints only when verbal intervention and seclusion have failed."
                    ]
                },
                {
                    diagnosis: "2. Impaired social interaction",
                    relatedTo: "Poor judgment and impulsivity, expansive and irritable mood.",
                    goal: "Patient will be able to interact in appropriate manner.",
                    interventions: [
                        "Be consistent in approach and expectations.",
                        "Maintain a calm and neutral manner. Don't laugh at humorous statements.",
                        "Set limit on manipulative, intrusive, or interruptive behaviors.",
                        "Activities should be simple, non-stimulating, easily accomplished.",
                        "Avoid competitive games."
                    ]
                },
                {
                    diagnosis: "3. Impaired verbal communication",
                    relatedTo: "High level of anxiety, insecurity.",
                    goal: "Communicate in understandable and appropriate manner.",
                    interventions: [
                        "Use short and concise explanations or statements.",
                        "Use therapeutic techniques (focusing, clarification).",
                        "Help patient to speak slowly and follow one line of thought."
                    ]
                },
                {
                    diagnosis: "4. Altered nutrition less than body requirements",
                    relatedTo: "Hyperactivity, non-stop physical activity.",
                    goal: "Maintain adequate nutrition.",
                    interventions: [
                        "Provide interval feeding, using finger foods (sandwich, fruit).",
                        "Offer easy to carry drinks high in vitamins.",
                        "Offer high protein and carbohydrate diet.",
                        "Ensure minimum of 2000cc per 24 hours fluid.",
                        "Frequently remind patient to eat."
                    ]
                },
                {
                    diagnosis: "5. Sleep pattern disturbances",
                    relatedTo: "Reduced need for sleep.",
                    goal: "Achieve restful sleep.",
                    interventions: [
                        "Decrease environmental stimuli in room.",
                        "Discourage intake of caffeine and cigarettes after 6 p.m.",
                        "Restrict activities in the evening prior to bedtime."
                    ]
                },
                {
                    diagnosis: "6. Self-care deficits",
                    relatedTo: "Lack of concern, hyperactivity, impulsivity.",
                    goal: "Performance self-care activities within level of own ability.",
                    interventions: [
                        "Provide physical assistance, reminders.",
                        "Give simple step by step reminder for hygiene and dress.",
                        "Limit the selection of clothing available."
                    ]
                }
            ],
            treatments: [
                { term: "A. Pharmacotherapy", def: "Antidepressants (for depressive disorders). Lithium (primary drug of choice for bipolar). Anticonvulsants (prevent mood symptoms). Antipsychotics (stabilize moods)." },
                { term: "B. Electroconvulsive Therapy (ECT)", def: "Treatment of choice for very severe, unresponsive patients with major depression and bipolar disorder." },
                { term: "C. Psychotherapy", def: "Useful in mildly depressive or normal portion. Includes Cognitive Behavioral Therapy (CBT), Family-focused therapy, Psychoeducation." }
            ],
            education: [
                "Treatment plan needs to be discussed with patient and family members.",
                "Patient and family need to understand that long-term treatment is necessary.",
                "Educate about prodromal symptoms (recognize early signs).",
                "Teach about destigmatization (illness responds easily to treatment).",
                "Enhance coping skills through self-esteem improvements."
            ]
        };

        const QUIZ_QUESTIONS = [
            {
                q: "According to Beck's Cognitive Theory, the 'Depressive Cognitive Triad' includes a negative view of:",
                options: ["Self, World, and Future", "Past, Present, and Future", "Family, Friends, and Self", "Work, Health, and Wealth"],
                correct: 0
            },
            {
                q: "What is the primary defining characteristic of Persistent Depressive Disorder (Dysthymia)?",
                options: ["Severe suicidal ideation", "Persistently depressed mood lasting for at least 2 years", "Alternating with manic episodes", "Occurring only during the premenstrual period"],
                correct: 1
            },
            {
                q: "Which nursing intervention is crucial when a depressed patient's energy suddenly improves?",
                options: ["Discharge the patient immediately", "Decrease observation as they are getting better", "Increase assessment for suicide risk", "Encourage competitive group sports"],
                correct: 2
            },
            {
                q: "A patient diagnosed with Bipolar I is constantly pacing, loudly rhyming words, and wearing excessive makeup. Providing 'finger foods' while walking is an intervention for which diagnosis?",
                options: ["Impaired social interaction", "Risk for violence", "Altered nutrition less than body requirements", "Sleep pattern disturbance"],
                correct: 2
            },
            {
                q: "Which medication is described as the primary drug of choice in the treatment of bipolar disorder?",
                options: ["Cortisol", "Lithium", "Serotonin", "Dopamine"],
                correct: 1
            }
        ];

        // --- REUSABLE UI COMPONENTS ---

        const Card = ({ children, className = "" }) => (
            <div className={`bg-white rounded-xl shadow-sm border border-slate-200 p-5 ${className}`}>
                {children}
            </div>
        );

        const SectionHeader = ({ title, icon, colorClass }) => (
            <div className={`flex items-center gap-3 mb-6 p-4 rounded-xl ${colorClass}`}>
                <div className={`p-2 rounded-lg bg-white shadow-sm`}>
                    {icon}
                </div>
                <h2 className="text-2xl font-bold text-slate-800">{title}</h2>
            </div>
        );

        const TermItem = ({ term, def, icon, isPathology }) => (
            <div className={`mb-3 flex items-start gap-3 p-3 rounded-lg border-l-4 ${isPathology ? 'border-red-400 bg-red-50' : 'border-blue-400 bg-slate-50'}`}>
                {icon && <span className="mt-1 text-slate-500">{icon}</span>}
                <div>
                    <h4 className="font-bold text-slate-800">{term}</h4>
                    <p className="text-slate-600 text-sm leading-relaxed mt-1">{def}</p>
                </div>
            </div>
        );

        const NursingDiagnosisCard = ({ data, colorTheme }) => {
            const [isOpen, setIsOpen] = useState(false);
            const isBipolar = colorTheme === 'purple';
            const baseColor = isBipolar ? 'purple' : 'blue';
            
            return (
                <div className={`mb-4 border border-slate-200 rounded-lg overflow-hidden transition-all duration-300 shadow-sm`}>
                    <div 
                        className={`p-4 flex justify-between items-center cursor-pointer hover:bg-${baseColor}-50 bg-white`}
                        onClick={() => setIsOpen(!isOpen)}
                    >
                        <div>
                            <h4 className={`font-bold text-lg text-${baseColor}-800`}>{data.diagnosis}</h4>
                            {!isOpen && <p className="text-sm text-slate-500 mt-1 truncate max-w-md">Goal: {data.goal}</p>}
                        </div>
                        <button className={`text-${baseColor}-500 bg-${baseColor}-100 p-1 rounded-full`}>
                            {isOpen ? <ChevronUp size={20} /> : <ChevronDown size={20} />}
                        </button>
                    </div>
                    
                    {isOpen && (
                        <div className="p-4 bg-slate-50 border-t border-slate-200 animate-in fade-in">
                            <div className="mb-3">
                                <span className="font-semibold text-slate-700 text-sm uppercase">May be related to:</span>
                                <p className="text-slate-600 text-sm mt-1 italic">{data.relatedTo}</p>
                            </div>
                            <div className="mb-4">
                                <span className="font-semibold text-green-700 text-sm uppercase flex items-center gap-1">
                                    <Target size={14}/> Goal:
                                </span>
                                <p className="text-slate-800 font-medium mt-1">{data.goal}</p>
                            </div>
                            <div>
                                <span className="font-semibold text-slate-700 text-sm uppercase mb-2 block">Nursing Interventions:</span>
                                <ul className="space-y-2">
                                    {data.interventions.map((intervention, idx) => (
                                        <li key={idx} className="flex gap-2 text-sm text-slate-700">
                                            <CheckCircle2 size={16} className={`text-${baseColor}-500 flex-shrink-0 mt-0.5`} />
                                            <span>{intervention}</span>
                                        </li>
                                    ))}
                                </ul>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        // --- MAIN APP COMPONENT ---

        function MoodDisordersApp() {
            const [activeSection, setActiveSection] = useState(SECTIONS.INTRO);
            const [quizScore, setQuizScore] = useState(0);
            const [quizSubmitted, setQuizSubmitted] = useState(false);
            const [quizAnswers, setQuizAnswers] = useState({});

            const handleNavClick = (section) => {
                setActiveSection(section);
                window.scrollTo({ top: 0, behavior: 'smooth' });
            };

            const handleQuizOption = (qIndex, optIndex) => {
                if (quizSubmitted) return;
                setQuizAnswers(prev => ({ ...prev, [qIndex]: optIndex }));
            };

            const submitQuiz = () => {
                let score = 0;
                QUIZ_QUESTIONS.forEach((q, i) => {
                    if (quizAnswers[i] === q.correct) score++;
                });
                setQuizScore(score);
                setQuizSubmitted(true);
            };

            const resetQuiz = () => {
                setQuizAnswers({});
                setQuizSubmitted(false);
                setQuizScore(0);
            };

            // --- VIEWS ---

            const IntroView = () => (
                <div className="space-y-8 animate-in fade-in duration-500">
                    <div className="bg-gradient-to-r from-indigo-700 to-blue-800 text-white p-8 md:p-10 rounded-2xl shadow-xl relative overflow-hidden">
                        <div className="relative z-10">
                            <span className="bg-blue-900 bg-opacity-50 text-blue-100 text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wider mb-4 inline-block">Psychiatric Nursing</span>
                            <h1 className="text-4xl md:text-5xl font-extrabold mb-4">Mood Disorders</h1>
                            <p className="text-blue-100 text-lg max-w-2xl leading-relaxed">
                                Mood refers to a prolonged emotional state that colors a person's perception of the world. Mood disorders encompass a large group of disorders in which pathological mood and related disturbances dominate the clinical picture.
                            </p>
                            <div className="mt-8 flex flex-wrap gap-4">
                                <button onClick={() => handleNavClick(SECTIONS.DEPRESSION)} className="bg-white text-indigo-800 px-6 py-3 rounded-full font-bold hover:bg-indigo-50 transition shadow-md flex items-center gap-2">
                                    <TrendingDown size={20}/> Depressive Disorders
                                </button>
                                <button onClick={() => handleNavClick(SECTIONS.BIPOLAR)} className="bg-indigo-900 bg-opacity-40 text-white border border-indigo-400 px-6 py-3 rounded-full font-bold hover:bg-opacity-60 transition flex items-center gap-2">
                                    <TrendingUp size={20}/> Bipolar Disorders
                                </button>
                            </div>
                        </div>
                        <Heart className="absolute -bottom-10 -right-10 text-white opacity-10 w-64 h-64" />
                    </div>

                    <div className="grid md:grid-cols-2 gap-6">
                        <Card className="border-t-4 border-t-indigo-500">
                            <h3 className="text-xl font-bold mb-4 flex items-center gap-2 text-indigo-900">
                                <Target className="text-indigo-500" /> Learning Objectives
                            </h3>
                            <ul className="space-y-3">
                                {OBJECTIVES.map((obj, i) => (
                                    <li key={i} className="flex gap-3 text-slate-700">
                                        <div className="w-6 h-6 rounded-full bg-indigo-100 text-indigo-700 flex items-center justify-center text-xs font-bold flex-shrink-0 mt-0.5">{i+1}</div>
                                        <span>{obj}</span>
                                    </li>
                                ))}
                            </ul>
                        </Card>

                        <Card className="bg-slate-50 border-slate-200">
                            <h3 className="text-xl font-bold mb-4 flex items-center gap-2 text-slate-800">
                                <List className="text-slate-500" /> Classifications Overview
                            </h3>
                            <ClassificationTreeSVG />
                        </Card>
                    </div>
                </div>
            );

            const DepressionView = () => (
                <div className="animate-in slide-in-from-right-4 duration-500">
                    <SectionHeader title="Depressive Disorders" icon={<TrendingDown size={32} className="text-blue-600"/>} colorClass="bg-blue-100/50" />
                    
                    <p className="text-slate-600 mb-8 text-lg border-l-4 border-blue-500 pl-4 bg-white p-4 rounded-r-lg shadow-sm">
                        Depression goes beyond sadness. It seriously affects an individual's feeling about his or her self, the world, and the future. It is the second cause of disability worldwide.
                    </p>

                    <div className="space-y-10">
                        {/* 1. Classification */}
                        <section>
                            <h3 className="text-2xl font-bold text-slate-800 mb-4 border-b pb-2">1. Classifications</h3>
                            <div className="grid md:grid-cols-2 gap-4 mb-4">
                                <div className="space-y-4">
                                    {DEPRESSION_DATA.classification.slice(0, 1).map((item, idx) => (
                                        <TermItem key={idx} term={item.term} def={item.def} icon={<BookOpen size={20}/>} />
                                    ))}
                                    <Card className="bg-blue-50/50 p-2">
                                        <MDDCriteriaSVG />
                                    </Card>
                                </div>
                                <div className="space-y-4">
                                    {DEPRESSION_DATA.classification.slice(1).map((item, idx) => (
                                        <div key={idx}>
                                            <TermItem term={item.term} def={item.def} icon={<BookOpen size={20}/>} />
                                            {item.term.includes('Dysthymia') && <DysthymiaTimelineSVG />}
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </section>

                        {/* 2. Etiology */}
                        <section>
                            <h3 className="text-2xl font-bold text-slate-800 mb-4 border-b pb-2">2. Etiological Factors</h3>
                            <div className="grid md:grid-cols-2 gap-6 mt-6">
                                {DEPRESSION_DATA.etiology.map((cat, idx) => (
                                    <Card key={idx} className="bg-blue-50/30">
                                        <h4 className="font-bold text-lg text-blue-900 mb-4">{cat.category}</h4>
                                        <div className="space-y-3">
                                            {cat.items.map((item, i) => (
                                                <div key={i} className="bg-white p-3 rounded shadow-sm border border-slate-100">
                                                    <span className="font-bold text-slate-800 block mb-1">{item.term}</span>
                                                    <span className="text-sm text-slate-600">{item.def}</span>
                                                    
                                                    {/* Inject relevant SVG based on term */}
                                                    {item.term === "Neurotransmitter Hypothesis" && <div className="mt-2 h-24"><NeurotransmitterSVG /></div>}
                                                    {item.term === "Psychoanalytic Theory (Freud)" && <div className="mt-2 h-24"><PsychoanalyticSVG /></div>}
                                                    {item.term === "Learning Theory (Seligman)" && <div className="mt-2 h-24 w-24 mx-auto"><LearnedHelplessnessSVG /></div>}
                                                    
                                                </div>
                                            ))}
                                        </div>
                                    </Card>
                                ))}
                            </div>
                            <CognitiveTriadIllustration />
                        </section>

                        {/* 3. Assessment */}
                        <section>
                            <h3 className="text-2xl font-bold text-slate-800 mb-4 border-b pb-2">3. Nursing Assessment</h3>
                            <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                                {DEPRESSION_DATA.assessment.map((area, idx) => (
                                    <Card key={idx} className={area.area.includes('Suicide') ? 'border-red-300 bg-red-50/30 md:col-span-2 lg:col-span-3 flex flex-col md:flex-row gap-4' : ''}>
                                        <div className="flex-1">
                                            <h4 className={`font-bold mb-3 ${area.area.includes('Suicide') ? 'text-red-800 flex items-center gap-2' : 'text-slate-800'}`}>
                                                {area.area.includes('Suicide') && <ShieldAlert size={18}/>}
                                                {area.area}
                                            </h4>
                                            <ul className="space-y-2">
                                                {area.details.map((detail, i) => (
                                                    <li key={i} className="flex gap-2 text-sm text-slate-600">
                                                        <span className="text-blue-400 mt-1">â€¢</span>
                                                        <span>{detail}</span>
                                                    </li>
                                                ))}
                                            </ul>
                                        </div>
                                        {/* Special Assessment SVGs */}
                                        {area.area.includes('Vegetative') && (
                                            <div className="w-full mt-4"><VegetativeSignsSVG /></div>
                                        )}
                                        {area.area.includes('Suicide') && (
                                            <div className="w-full md:w-1/3 flex items-center justify-center"><SuicideRiskSVG /></div>
                                        )}
                                    </Card>
                                ))}
                            </div>
                        </section>

                        {/* 4. Nursing Diagnoses */}
                        <section>
                            <h3 className="text-2xl font-bold text-slate-800 mb-4 border-b pb-2">4. Nursing Diagnoses & Interventions</h3>
                            <div className="max-w-3xl">
                                {DEPRESSION_DATA.diagnoses.map((diag, idx) => (
                                    <NursingDiagnosisCard key={idx} data={diag} colorTheme="blue" />
                                ))}
                            </div>
                        </section>

                        {/* 5. Patient Education */}
                        <section>
                            <h3 className="text-2xl font-bold text-slate-800 mb-4 border-b pb-2 flex items-center gap-2"><Lightbulb className="text-yellow-500" /> Patient and Family Education</h3>
                            <Card className="bg-yellow-50/30 border-yellow-200">
                                <ul className="space-y-2">
                                    {DEPRESSION_DATA.education.map((edu, idx) => (
                                        <li key={idx} className="flex gap-2 text-sm text-slate-700">
                                            <CheckCircle2 size={16} className="text-yellow-600 flex-shrink-0 mt-0.5" />
                                            <span>{edu}</span>
                                        </li>
                                    ))}
                                </ul>
                            </Card>
                        </section>
                    </div>
                </div>
            );

            const BipolarView = () => (
                <div className="animate-in slide-in-from-right-4 duration-500">
                    <SectionHeader title="Bipolar Disorders" icon={<TrendingUp size={32} className="text-purple-600"/>} colorClass="bg-purple-100/50" />
                    
                    <p className="text-slate-600 mb-8 text-lg border-l-4 border-purple-500 pl-4 bg-white p-4 rounded-r-lg shadow-sm">
                        {BIPOLAR_DATA.intro}
                    </p>

                    <BipolarSpectrumIllustration />

                    <div className="space-y-10">
                        {/* Classification */}
                        <section>
                            <h3 className="text-2xl font-bold text-slate-800 mb-4 border-b pb-2">1. Classifications (DSM-5)</h3>
                            <div className="grid md:grid-cols-2 gap-4">
                                {BIPOLAR_DATA.classification.map((item, idx) => (
                                    <Card key={idx} className="border-l-4 border-l-purple-400">
                                        <h4 className="font-bold text-purple-900 mb-1">{item.term}</h4>
                                        <p className="text-sm text-slate-600">{item.def}</p>
                                    </Card>
                                ))}
                            </div>
                        </section>

                        {/* Etiology & Assessment */}
                        <div className="grid md:grid-cols-2 gap-8">
                            <section>
                                <h3 className="text-2xl font-bold text-slate-800 mb-4 border-b pb-2">2. Etiological Factors</h3>
                                <div className="space-y-3">
                                    {BIPOLAR_DATA.etiology.map((item, idx) => (
                                        <TermItem key={idx} term={item.term} def={item.def} />
                                    ))}
                                </div>
                            </section>

                            <section>
                                <h3 className="text-2xl font-bold text-slate-800 mb-4 border-b pb-2">3. Assessment of Mania</h3>
                                <div className="space-y-4">
                                    {BIPOLAR_DATA.assessment.map((area, idx) => (
                                        <div key={idx} className="bg-white p-4 rounded-lg shadow-sm border border-slate-200">
                                            <h4 className="font-bold text-slate-800 mb-2">{area.area}</h4>
                                            
                                            {/* Inject SVGs for Assessment */}
                                            {area.area.includes('Behavior') && <div className="h-20 w-full flex justify-center"><ManicBehaviorSVG /></div>}
                                            {area.area.includes('Thought') && (
                                                <div className="flex gap-2 h-24 mb-2">
                                                    <div className="flex-1"><FlightOfIdeasSVG/></div>
                                                    <div className="flex-1"><ClangAssociationSVG/></div>
                                                </div>
                                            )}

                                            <ul className="space-y-1 mt-2">
                                                {area.details.map((d, i) => (
                                                    <li key={i} className="text-sm text-slate-600 flex gap-2">
                                                        <span className="text-purple-400">â€¢</span> {d}
                                                    </li>
                                                ))}
                                            </ul>
                                        </div>
                                    ))}
                                </div>
                            </section>
                        </div>

                        {/* Nursing Diagnoses */}
                        <section>
                            <h3 className="text-2xl font-bold text-slate-800 mb-4 border-b pb-2">4. Nursing Diagnoses & Interventions</h3>
                            <div className="max-w-3xl">
                                {BIPOLAR_DATA.diagnoses.map((diag, idx) => (
                                    <NursingDiagnosisCard key={idx} data={diag} colorTheme="purple" />
                                ))}
                                {/* Illustration for observation */}
                                <div className="bg-purple-50 p-4 rounded-lg flex items-center justify-center mt-4 border border-purple-200">
                                    <NursingObservationSVG />
                                    <span className="text-sm font-semibold text-purple-800 ml-3">Close monitoring and consistent structured environment are vital.</span>
                                </div>
                            </div>
                        </section>

                        {/* Treatment Modalities */}
                        <section>
                            <h3 className="text-2xl font-bold text-slate-800 mb-4 border-b pb-2">5. Treatment Modalities</h3>
                            <div className="grid md:grid-cols-3 gap-4">
                                {BIPOLAR_DATA.treatments.map((t, idx) => (
                                    <Card key={idx} className="bg-slate-800 text-white border-none text-center flex flex-col items-center p-6">
                                        {idx === 0 && <LithiumPillSVG />}
                                        {idx === 1 && <ECTSVG />}
                                        {idx === 2 && <Users size={40} className="text-green-400 mb-4"/>}
                                        <h4 className="font-bold text-lg mb-2">{t.term}</h4>
                                        <p className="text-sm text-slate-300">{t.def}</p>
                                    </Card>
                                ))}
                            </div>
                        </section>

                        {/* Patient Education */}
                        <section>
                            <h3 className="text-2xl font-bold text-slate-800 mb-4 border-b pb-2 flex items-center gap-2"><Lightbulb className="text-yellow-500" /> Patient and Family Education</h3>
                            <Card className="bg-yellow-50/30 border-yellow-200">
                                <ul className="space-y-2">
                                    {BIPOLAR_DATA.education.map((edu, idx) => (
                                        <li key={idx} className="flex gap-2 text-sm text-slate-700">
                                            <CheckCircle2 size={16} className="text-yellow-600 flex-shrink-0 mt-0.5" />
                                            <span>{edu}</span>
                                        </li>
                                    ))}
                                </ul>
                            </Card>
                        </section>
                    </div>
                </div>
            );

            const QuizView = () => (
                <div className="animate-in slide-in-from-right-4 duration-500 max-w-2xl mx-auto">
                    <SectionHeader title="Knowledge Check" icon={<Lightbulb size={32} className="text-amber-500"/>} colorClass="bg-amber-100/50" />
                    
                    {!quizSubmitted ? (
                        <div className="space-y-6">
                            {QUIZ_QUESTIONS.map((q, qIndex) => (
                                <Card key={qIndex} className="p-6 border-t-4 border-t-amber-400">
                                    <h4 className="font-bold text-lg mb-4 text-slate-800">{qIndex + 1}. {q.q}</h4>
                                    <div className="space-y-3">
                                        {q.options.map((opt, optIndex) => (
                                            <button
                                                key={optIndex}
                                                onClick={() => handleQuizOption(qIndex, optIndex)}
                                                className={`w-full text-left p-4 rounded-lg border-2 transition-all ${
                                                    quizAnswers[qIndex] === optIndex 
                                                        ? 'bg-amber-50 border-amber-500 text-amber-900 font-medium shadow-sm' 
                                                        : 'bg-white border-slate-200 hover:border-amber-300 hover:bg-slate-50 text-slate-700'
                                                }`}
                                            >
                                                <div className="flex items-center gap-3">
                                                    <div className={`w-6 h-6 rounded-full border flex items-center justify-center flex-shrink-0 ${
                                                        quizAnswers[qIndex] === optIndex ? 'border-amber-500 bg-amber-500' : 'border-slate-300'
                                                    }`}>
                                                        {quizAnswers[qIndex] === optIndex && <div className="w-2.5 h-2.5 bg-white rounded-full"></div>}
                                                    </div>
                                                    {opt}
                                                </div>
                                            </button>
                                        ))}
                                    </div>
                                </Card>
                            ))}
                            <button 
                                onClick={submitQuiz}
                                disabled={Object.keys(quizAnswers).length < QUIZ_QUESTIONS.length}
                                className="w-full py-4 bg-slate-800 text-white rounded-xl font-bold text-lg disabled:opacity-50 hover:bg-slate-900 transition-colors shadow-md"
                            >
                                Submit Answers
                            </button>
                        </div>
                    ) : (
                        <Card className="text-center p-10 border-t-4 border-t-green-500">
                            <div className="text-6xl mb-6">{quizScore >= 4 ? 'ðŸ†' : 'ðŸ“š'}</div>
                            <h2 className="text-3xl font-bold mb-3 text-slate-800">You scored {quizScore} / {QUIZ_QUESTIONS.length}</h2>
                            <p className="text-slate-600 mb-8 text-lg">
                                {quizScore === 5 ? "Perfect! You've mastered Mood Disorders." : "Good effort! Review the sections to strengthen your knowledge."}
                            </p>
                            
                            <div className="space-y-4 mb-8 text-left bg-slate-50 p-6 rounded-xl border border-slate-200">
                                <h3 className="font-bold text-lg border-b pb-2 mb-4">Answers Review:</h3>
                                {QUIZ_QUESTIONS.map((q, i) => (
                                    <div key={i} className="text-sm">
                                        <span className="font-semibold text-slate-700">Q{i+1}: </span>
                                        <span className={quizAnswers[i] === q.correct ? 'text-green-600 font-medium' : 'text-red-600 font-medium'}>
                                            {quizAnswers[i] === q.correct ? 'Correct' : 'Incorrect'}
                                        </span>
                                        <div className="text-slate-500 mt-1">Correct answer: {q.options[q.correct]}</div>
                                    </div>
                                ))}
                            </div>

                            <button onClick={resetQuiz} className="bg-blue-600 text-white px-8 py-3 rounded-full font-bold hover:bg-blue-700 transition shadow-sm">Take Quiz Again</button>
                        </Card>
                    )}
                </div>
            );

            return (
                <div className="min-h-screen bg-slate-50 font-sans text-slate-800 flex flex-col">
                    {/* Top Navigation */}
                    <nav className="bg-white shadow-sm sticky top-0 z-50 border-b border-slate-200">
                        <div className="max-w-6xl mx-auto px-4 h-16 flex items-center justify-between">
                            <div className="flex items-center gap-3 font-bold text-sm md:text-lg text-indigo-900 cursor-pointer" onClick={() => handleNavClick(SECTIONS.INTRO)}>
                                <DepartmentLogo className="w-10 h-10 md:w-11 md:h-11 flex-shrink-0 drop-shadow-sm" />
                                <span className="hidden sm:inline">Psychiatric & Mental Health Nursing</span>
                                <span className="sm:hidden">PMHN Dept</span>
                            </div>
                            
                            <div className="hidden md:flex gap-2">
                                {[
                                    { id: SECTIONS.INTRO, label: 'Intro', icon: <Compass size={16}/> },
                                    { id: SECTIONS.DEPRESSION, label: 'Depression', icon: <TrendingDown size={16}/> },
                                    { id: SECTIONS.BIPOLAR, label: 'Bipolar', icon: <TrendingUp size={16}/> },
                                    { id: SECTIONS.QUIZ, label: 'Quiz', icon: <Lightbulb size={16}/> },
                                ].map(nav => (
                                    <button
                                        key={nav.id}
                                        onClick={() => handleNavClick(nav.id)}
                                        className={`flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all ${
                                            activeSection === nav.id 
                                                ? 'bg-indigo-100 text-indigo-700 shadow-sm' 
                                                : 'text-slate-600 hover:bg-slate-100'
                                        }`}
                                    >
                                        {nav.icon} {nav.label}
                                    </button>
                                ))}
                            </div>
                            
                            {/* Mobile menu simple icon */}
                            <div className="md:hidden flex gap-2">
                                 <button onClick={() => handleNavClick(SECTIONS.DEPRESSION)} className={`p-2 rounded-full ${activeSection === SECTIONS.DEPRESSION ? 'bg-indigo-100 text-indigo-700' : 'text-slate-600'}`}><TrendingDown size={20}/></button>
                                 <button onClick={() => handleNavClick(SECTIONS.BIPOLAR)} className={`p-2 rounded-full ${activeSection === SECTIONS.BIPOLAR ? 'bg-indigo-100 text-indigo-700' : 'text-slate-600'}`}><TrendingUp size={20}/></button>
                                 <button onClick={() => handleNavClick(SECTIONS.QUIZ)} className={`p-2 rounded-full ${activeSection === SECTIONS.QUIZ ? 'bg-amber-100 text-amber-700' : 'text-slate-600'}`}><Lightbulb size={20}/></button>
                            </div>
                        </div>
                    </nav>

                    {/* Main Content Area */}
                    <main className="flex-grow max-w-5xl w-full mx-auto px-4 py-8 md:py-12">
                        {activeSection === SECTIONS.INTRO && <IntroView />}
                        {activeSection === SECTIONS.DEPRESSION && <DepressionView />}
                        {activeSection === SECTIONS.BIPOLAR && <BipolarView />}
                        {activeSection === SECTIONS.QUIZ && <QuizView />}
                    </main>

                    {/* New Footer Provided */}
                    <footer className="bg-slate-900 text-slate-300 py-10 mt-12 border-t-4 border-indigo-600">
                        <div className="max-w-5xl mx-auto px-6 flex flex-col md:flex-row items-center md:items-start justify-between gap-8">
                            <div className="flex flex-col sm:flex-row items-center sm:items-start gap-5 text-center sm:text-left">
                                <FacultyLogo className="w-24 h-28 flex-shrink-0 drop-shadow-md" />
                                <div className="mt-2">
                                    <p className="mb-1 text-lg font-bold text-white">Psychiatric Nursing & Mental Health</p>
                                    <p className="text-sm text-slate-400 max-w-xs">Introduction to Psychiatric and Mental Health Nursing â€¢ Educational Material</p>
                                </div>
                            </div>
                            
                            <div className="text-center md:text-right space-y-2 text-sm border-t md:border-t-0 border-slate-700 pt-6 md:pt-0 w-full md:w-auto">
                                <p className="flex flex-col sm:block"><span className="text-slate-500 text-xs uppercase tracking-wider block sm:inline sm:mr-2">Dean of The Faculty:</span> <span className="text-slate-200">Prof. Dr. Hanan Hosny El-Sherbiny</span></p>
                                <p className="flex flex-col sm:block"><span className="text-slate-500 text-xs uppercase tracking-wider block sm:inline sm:mr-2">Acting Head of Department:</span> <span className="text-slate-200">Asst. Prof. Dr. Mayar Ezz-Eldin El-Naqeeb</span></p>
                                <p className="flex flex-col sm:block"><span className="text-slate-500 text-xs uppercase tracking-wider block sm:inline sm:mr-2">Created by:</span> <span className="font-semibold text-white">M.Abdallah Abozaid</span></p>
                            </div>
                        </div>
                    </footer>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<MoodDisordersApp />);
    </script>
</body>
</html>