<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Delusional Disorder</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel for JSX compilation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Lucide Icons (Vanilla) -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f8fafc; }
        /* Arabic Font support (just in case needed for localized examples) */
        @import url('https://fonts.googleapis.com/css2?family=Noto+Kufi+Arabic:wght@400;700&display=swap');
        .font-arabic { font-family: 'Noto Kufi Arabic', sans-serif; }
        
        /* Custom Scrollbar for the table */
        .custom-scrollbar::-webkit-scrollbar { height: 8px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: #f1f5f9; border-radius: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef, useLayoutEffect } = React;

        // --- ICON SYSTEM SETUP ---
        const IconWrapper = ({ name, ...props }) => {
            const ref = useRef(null);
            
            useLayoutEffect(() => {
                if (ref.current && window.lucide && window.lucide.icons[name]) {
                    const iconElement = window.lucide.createElement(window.lucide.icons[name]);
                    if (props.className) {
                        const existingClass = iconElement.getAttribute('class') || '';
                        iconElement.setAttribute('class', `${existingClass} ${props.className}`);
                    }
                    if (props.size) {
                        iconElement.setAttribute('width', props.size);
                        iconElement.setAttribute('height', props.size);
                    }
                    ref.current.innerHTML = '';
                    ref.current.appendChild(iconElement);
                }
            }, [name, props.className, props.size]);

            return <span ref={ref} style={{ display: 'inline-flex', verticalAlign: 'middle' }} />;
        };

        const createIconComponent = (name) => (props) => <IconWrapper name={name} {...props} />;

        // UI Icons
        const Brain = createIconComponent('Brain');
        const Heart = createIconComponent('Heart');
        const Activity = createIconComponent('Activity');
        const BookOpen = createIconComponent('BookOpen');
        const Search = createIconComponent('Search');
        const ChevronDown = createIconComponent('ChevronDown');
        const ChevronUp = createIconComponent('ChevronUp');
        const Shield = createIconComponent('Shield');
        const Users = createIconComponent('Users');
        const Network = createIconComponent('Network');
        const Stethoscope = createIconComponent('Stethoscope');
        const Pill = createIconComponent('Pill');
        const Target = createIconComponent('Target');
        const Compass = createIconComponent('Compass');
        const AlertCircle = createIconComponent('AlertCircle');
        const AlertTriangle = createIconComponent('AlertTriangle');
        const Lightbulb = createIconComponent('Lightbulb');

        // --- DEPARTMENT LOGO (SVG REPLICA) ---
        const DepartmentLogo = ({ className = "w-10 h-10" }) => (
            <svg viewBox="0 0 100 120" className={className} xmlns="http://www.w3.org/2000/svg">
                {/* Hand Base (Solid Blue) */}
                <path d="M 5 80 C 15 100 40 110 60 105 C 80 100 95 85 95 75 C 95 70 85 65 75 75 C 65 85 50 90 35 85 C 25 80 15 75 5 80 Z" fill="#004a8f" />
                {/* Finger Lines (White) */}
                <path d="M 30 85 C 45 92 60 90 75 80" stroke="#ffffff" strokeWidth="2.5" strokeLinecap="round" fill="none" />
                <path d="M 40 78 C 55 85 70 80 85 70" stroke="#ffffff" strokeWidth="2.5" strokeLinecap="round" fill="none" />
                {/* Head Outline (Blue) */}
                <path d="M 50 65 L 53 72 L 58 67 L 58 57 C 58 52 64 50 64 45 C 64 43 60 41 60 39 L 68 37 C 70 36 70 34 68 32 C 65 31 62 32 60 29 C 60 15 48 5 35 10" stroke="#004a8f" strokeWidth="3" strokeLinecap="round" strokeLinejoin="round" fill="none" />
                {/* Three Overlapping Circles */}
                <g stroke="#1e1b4b" strokeWidth="1.5" fill="none">
                    <circle cx="35" cy="22" r="9" />
                    <circle cx="28" cy="35" r="9" />
                    <circle cx="42" cy="35" r="9" />
                </g>
                <text x="35" y="24.5" fontSize="7" fill="#1e1b4b" textAnchor="middle" fontWeight="bold" fontFamily="sans-serif">C</text>
                <text x="28" y="37.5" fontSize="7" fill="#1e1b4b" textAnchor="middle" fontWeight="bold" fontFamily="sans-serif">C</text>
                <text x="42" y="37.5" fontSize="7" fill="#1e1b4b" textAnchor="middle" fontWeight="bold" fontFamily="sans-serif">A</text>
            </svg>
        );

        // --- FACULTY LOGO (SVG REPLICA) ---
        const FacultyLogo = ({ className = "w-24 h-28" }) => (
            <svg viewBox="0 0 100 130" className={className} xmlns="http://www.w3.org/2000/svg">
                {/* Outer Borders */}
                <path d="M 2 2 L 98 2 L 98 65 C 98 110 50 128 50 128 C 50 128 2 110 2 65 Z" fill="#24335c" />
                <path d="M 4 4 L 96 4 L 96 65 C 96 108 50 125 50 125 C 50 125 4 108 4 65 Z" fill="#ffffff" />
                
                {/* Sky & Sea */}
                <path d="M 6 6 L 94 6 L 94 65 C 94 106 50 122 50 122 C 50 122 6 106 6 65 Z" fill="#66c5f4" />
                <path d="M 6 75 L 94 75 C 94 106 50 122 50 122 C 50 122 6 106 6 75 Z" fill="#1da2d8" />
                
                {/* Beams */}
                <g stroke="#1a2f57" strokeWidth="0.8">
                    <line x1="50" y1="18" x2="15" y2="12" />
                    <line x1="50" y1="18" x2="10" y2="20" />
                    <line x1="50" y1="18" x2="10" y2="28" />
                    <line x1="50" y1="18" x2="15" y2="35" />
                    
                    <line x1="50" y1="18" x2="85" y2="12" />
                    <line x1="50" y1="18" x2="90" y2="20" />
                    <line x1="50" y1="18" x2="90" y2="28" />
                    <line x1="50" y1="18" x2="85" y2="35" />
                </g>
                
                {/* Fortress & Lighthouse */}
                <g fill="#c49341" stroke="#1a2f57" strokeWidth="1.2" strokeLinejoin="round">
                    {/* Left Tower */}
                    <polygon points="12,60 10,75 22,75 20,60" />
                    <rect x="10" y="56" width="12" height="4" />
                    <rect x="11" y="53" width="10" height="3" />
                    {/* Left Wall */}
                    <rect x="20" y="63" width="18" height="12" />
                    
                    {/* Right Tower */}
                    <polygon points="80,60 78,75 90,75 88,60" />
                    <rect x="78" y="56" width="12" height="4" />
                    <rect x="79" y="53" width="10" height="3" />
                    {/* Right Wall */}
                    <rect x="62" y="63" width="18" height="12" />
                    
                    {/* Main Lighthouse Base */}
                    <polygon points="40,40 33,75 67,75 60,40" />
                    <rect x="38" y="38" width="24" height="4" />
                    {/* Mid Tier */}
                    <rect x="42" y="24" width="16" height="14" />
                    <rect x="40" y="22" width="20" height="3" />
                    {/* Top Tier */}
                    <rect x="45" y="14" width="10" height="8" />
                    <rect x="44" y="12" width="12" height="2" />
                    {/* Lantern */}
                    <polygon points="47,12 48,7 52,7 53,12" />
                </g>
                
                {/* Details (Windows/Doors) */}
                <g fill="none" stroke="#1a2f57" strokeWidth="1.2">
                    {/* Left Wall Windows */}
                    <rect x="22" y="66" width="3" height="4" />
                    <rect x="27" y="66" width="3" height="4" />
                    <rect x="32" y="66" width="3" height="4" />
                    
                    {/* Right Wall Windows */}
                    <rect x="65" y="66" width="3" height="4" />
                    <rect x="70" y="66" width="3" height="4" />
                    <rect x="75" y="66" width="3" height="4" />
                    
                    {/* Main Tower Door & Windows */}
                    <rect x="47" y="64" width="6" height="11" />
                    <rect x="48" y="54" width="4" height="5" />
                    <rect x="48" y="46" width="4" height="5" />
                    
                    {/* Mid Tier Windows */}
                    <rect x="44" y="27" width="4" height="4" />
                    <rect x="52" y="27" width="4" height="4" />
                </g>
                
                {/* Wave styling */}
                <g fill="#1a2f57" stroke="none">
                    <path d="M 12 85 Q 16 87 20 85 L 20 87 Q 16 89 12 87 Z" />
                    <path d="M 28 85 Q 32 87 36 85 L 36 87 Q 32 89 28 87 Z" />
                    <path d="M 44 85 Q 48 87 52 85 L 52 87 Q 48 89 44 87 Z" />
                    <path d="M 60 85 Q 64 87 68 85 L 68 87 Q 64 89 60 87 Z" />
                    <path d="M 76 85 Q 80 87 84 85 L 84 87 Q 80 89 76 87 Z" />
                    
                    <path d="M 20 95 Q 24 97 28 95 L 28 97 Q 24 99 20 97 Z" />
                    <path d="M 36 95 Q 40 97 44 95 L 44 97 Q 40 99 36 97 Z" />
                    <path d="M 52 95 Q 56 97 60 95 L 60 97 Q 56 99 52 97 Z" />
                    <path d="M 68 95 Q 72 97 76 95 L 76 97 Q 72 99 68 97 Z" />

                    <path d="M 28 105 Q 32 107 36 105 L 36 107 Q 32 109 28 107 Z" />
                    <path d="M 44 105 Q 48 107 52 105 L 52 107 Q 48 109 44 107 Z" />
                    <path d="M 60 105 Q 64 107 68 105 L 68 107 Q 64 109 60 107 Z" />
                    
                    <path d="M 40 115 Q 44 117 48 115 L 48 117 Q 44 119 40 117 Z" />
                    <path d="M 52 115 Q 56 117 60 115 L 60 117 Q 56 119 52 117 Z" />
                </g>
            </svg>
        );

        // --- 15+ CUSTOM SVG ILLUSTRATIONS ---

        // 1. Kraepelin View (Schizophrenia vs Delusional)
        const IllKraepelin = () => (
            <svg viewBox="0 0 200 100" className="w-full h-32 my-4">
                <text x="100" y="15" fontSize="10" fill="#475569" textAnchor="middle" fontWeight="bold">Kraepelin's Differentiation</text>
                {/* Schizophrenia Side */}
                <rect x="20" y="30" width="70" height="50" rx="4" fill="#f87171" opacity="0.2" />
                <text x="55" y="45" fontSize="8" fill="#b91c1c" textAnchor="middle" fontWeight="bold">Schizophrenia</text>
                <text x="55" y="58" fontSize="6" fill="#7f1d1d" textAnchor="middle">Deterioration</text>
                <text x="55" y="68" fontSize="6" fill="#7f1d1d" textAnchor="middle">Bizarre Delusions</text>
                {/* Separator */}
                <line x1="100" y1="30" x2="100" y2="80" stroke="#cbd5e1" strokeWidth="2" strokeDasharray="4" />
                {/* Paranoia Side */}
                <rect x="110" y="30" width="70" height="50" rx="4" fill="#60a5fa" opacity="0.2" />
                <text x="145" y="45" fontSize="8" fill="#1d4ed8" textAnchor="middle" fontWeight="bold">Paranoia</text>
                <text x="145" y="58" fontSize="6" fill="#1e3a8a" textAnchor="middle">No Deterioration</text>
                <text x="145" y="68" fontSize="6" fill="#1e3a8a" textAnchor="middle">Non-Bizarre</text>
            </svg>
        );

        // 2. Age of Onset Timeline
        const IllAgeOfOnset = () => (
            <svg viewBox="0 0 300 60" className="w-full h-20 my-2">
                <line x1="20" y1="30" x2="280" y2="30" stroke="#94a3b8" strokeWidth="4" strokeLinecap="round" />
                {/* Ticks */}
                {[10, 20, 30, 40, 50, 60].map(age => (
                    <g key={age}>
                        <line x1={20 + (age/70)*260} y1="25" x2={20 + (age/70)*260} y2="35" stroke="#64748b" strokeWidth="2" />
                        <text x={20 + (age/70)*260} y="50" fontSize="10" fill="#64748b" textAnchor="middle">{age}</text>
                    </g>
                ))}
                {/* Highlight 30-40 */}
                <rect x={20 + (30/70)*260} y="26" width={((40-30)/70)*260} height="8" fill="#ef4444" opacity="0.5" rx="4" />
                <text x={20 + (35/70)*260} y="15" fontSize="10" fill="#dc2626" textAnchor="middle" fontWeight="bold">Age of Onset (30-40+)</text>
            </svg>
        );

        // 3. Epidemiology Pie Chart
        const IllEpidemiology = () => (
            <svg viewBox="0 0 100 100" className="w-full h-32 my-4">
                {/* Base circle 98% */}
                <circle cx="50" cy="50" r="40" fill="#e2e8f0" />
                {/* 2% slice - approx 7.2 degrees */}
                <path d="M 50 50 L 50 10 A 40 40 0 0 1 55.02 10.31 Z" fill="#6366f1" />
                <text x="50" y="55" fontSize="10" fill="#4338ca" textAnchor="middle" fontWeight="bold">1-2%</text>
                <text x="50" y="98" fontSize="6" fill="#64748b" textAnchor="middle">Inpatient Admissions</text>
            </svg>
        );

        // 4. Genetics
        const IllGenetics = () => (
            <svg viewBox="0 0 200 100" className="w-full h-24 my-2">
                <path d="M 40 20 Q 70 50 100 20 T 160 20" fill="none" stroke="#8b5cf6" strokeWidth="3" />
                <path d="M 40 50 Q 70 20 100 50 T 160 50" fill="none" stroke="#a78bfa" strokeWidth="3" />
                <line x1="55" y1="35" x2="55" y2="35" stroke="#4c1d95" strokeWidth="8" strokeLinecap="round" />
                <line x1="85" y1="35" x2="85" y2="35" stroke="#4c1d95" strokeWidth="8" strokeLinecap="round" />
                <line x1="115" y1="35" x2="115" y2="35" stroke="#4c1d95" strokeWidth="8" strokeLinecap="round" />
                <line x1="145" y1="35" x2="145" y2="35" stroke="#4c1d95" strokeWidth="8" strokeLinecap="round" />
                <text x="100" y="85" fontSize="10" fill="#5b21b6" textAnchor="middle" fontWeight="bold">Genetic Factors</text>
            </svg>
        );

        // 5. Neurobiology (Dopamine/Norepinephrine)
        const IllNeurobiology = () => (
            <svg viewBox="0 0 200 100" className="w-full h-24 my-2">
                {/* Presynaptic */}
                <path d="M 20 20 L 60 20 Q 80 20 80 40 L 80 60 Q 80 80 60 80 L 20 80" fill="none" stroke="#3b82f6" strokeWidth="4" />
                {/* Postsynaptic */}
                <path d="M 180 20 L 140 20 Q 120 20 120 40 L 120 60 Q 120 80 140 80 L 180 80" fill="none" stroke="#3b82f6" strokeWidth="4" />
                {/* Neurotransmitters */}
                <circle cx="95" cy="40" r="3" fill="#ef4444" />
                <circle cx="105" cy="50" r="3" fill="#eab308" />
                <circle cx="95" cy="60" r="3" fill="#ef4444" />
                <circle cx="105" cy="35" r="3" fill="#eab308" />
                <circle cx="100" cy="70" r="3" fill="#ef4444" />
                <text x="100" y="95" fontSize="8" fill="#1e40af" textAnchor="middle">Excess NE & Dopamine</text>
            </svg>
        );

        // 6. EEG / Brain
        const IllEEG = () => (
            <svg viewBox="0 0 200 100" className="w-full h-24 my-2">
                <path d="M 60 50 C 60 20 140 20 140 50 C 140 80 60 80 60 50" fill="none" stroke="#94a3b8" strokeWidth="3" />
                <path d="M 100 25 L 100 75" fill="none" stroke="#94a3b8" strokeWidth="1" strokeDasharray="2" />
                {/* Right posterior glow */}
                <circle cx="120" cy="65" r="10" fill="#ef4444" opacity="0.6" filter="blur(2px)" />
                <text x="100" y="95" fontSize="8" fill="#475569" textAnchor="middle">Right Posterior Cortical Dysfunction</text>
            </svg>
        );

        // 7. Sullivan's Interpersonal Theory
        const IllSullivan = () => (
            <svg viewBox="0 0 200 100" className="w-full h-24 my-2">
                <circle cx="50" cy="50" r="20" fill="#cbd5e1" />
                <circle cx="50" cy="45" r="6" fill="#64748b" />
                <path d="M 40 60 Q 50 50 60 60" fill="none" stroke="#64748b" strokeWidth="3" strokeLinecap="round" />
                {/* Arrows of projection */}
                <path d="M 80 50 L 140 50" fill="none" stroke="#ef4444" strokeWidth="2" markerEnd="url(#arrowRed)" />
                <text x="110" y="45" fontSize="8" fill="#dc2626" textAnchor="middle">Transfer of Blame</text>
                <text x="50" y="85" fontSize="8" fill="#475569" textAnchor="middle">Inferiority / Insecurity</text>
                <defs>
                    <marker id="arrowRed" markerWidth="6" markerHeight="4" refX="5" refY="2" orient="auto">
                        <polygon points="0 0, 6 2, 0 4" fill="#ef4444" />
                    </marker>
                </defs>
            </svg>
        );

        // 8. Family Theory
        const IllFamily = () => (
            <svg viewBox="0 0 200 100" className="w-full h-24 my-2">
                {/* Rigid Parents */}
                <rect x="40" y="20" width="30" height="40" fill="#475569" />
                <rect x="130" y="20" width="30" height="40" fill="#475569" />
                {/* Demanding lines */}
                <line x1="60" y1="65" x2="90" y2="80" stroke="#000" strokeWidth="2" />
                <line x1="140" y1="65" x2="110" y2="80" stroke="#000" strokeWidth="2" />
                {/* Vulnerable adult */}
                <circle cx="100" cy="85" r="10" fill="#fecaca" stroke="#ef4444" strokeWidth="2" />
                <text x="100" y="15" fontSize="8" fill="#334155" textAnchor="middle">Rigid / Demanding Parents</text>
            </svg>
        );

        // 9. Freud Mechanism Illustration
        const FreudMechanismIllustration = () => (
            <div className="bg-white p-6 rounded-xl border border-purple-200 shadow-sm my-6 overflow-x-auto">
                <h5 className="font-bold text-purple-800 mb-4 text-center">Freud's Psychoanalytic Theory: Formation of Persecutory Delusion</h5>
                <div className="min-w-[600px] flex justify-center py-4">
                    <svg width="700" height="100" viewBox="0 0 700 100">
                        <rect x="10" y="20" width="160" height="50" rx="8" fill="#f3e8ff" stroke="#a855f7" strokeWidth="2" />
                        <rect x="270" y="20" width="160" height="50" rx="8" fill="#fee2e2" stroke="#ef4444" strokeWidth="2" />
                        <rect x="530" y="20" width="160" height="50" rx="8" fill="#e0f2fe" stroke="#0ea5e9" strokeWidth="2" />
                        
                        <text x="90" y="40" fontSize="12" fontWeight="bold" fill="#6b21a8" textAnchor="middle">Homosexual wishes</text>
                        <text x="90" y="55" fontSize="12" fontStyle="italic" fill="#6b21a8" textAnchor="middle">"I love him"</text>
                        
                        <text x="350" y="40" fontSize="12" fontWeight="bold" fill="#991b1b" textAnchor="middle">I do not love him</text>
                        <text x="350" y="55" fontSize="12" fontStyle="italic" fill="#991b1b" textAnchor="middle">"(I hate him)"</text>

                        <text x="610" y="40" fontSize="12" fontWeight="bold" fill="#0369a1" textAnchor="middle">Persecutory Delusion</text>
                        <text x="610" y="55" fontSize="12" fontStyle="italic" fill="#0369a1" textAnchor="middle">"He hates me"</text>

                        <path d="M 170 45 L 260 45" fill="none" stroke="#64748b" strokeWidth="2" markerEnd="url(#arrow)" />
                        <path d="M 430 45 L 520 45" fill="none" stroke="#64748b" strokeWidth="2" markerEnd="url(#arrow)" />

                        <text x="215" y="15" fontSize="10" fill="#475569" textAnchor="middle">Repression + Denial</text>
                        <text x="215" y="30" fontSize="10" fill="#475569" textAnchor="middle">+ Reaction formation</text>
                        <text x="475" y="35" fontSize="11" fontWeight="bold" fill="#475569" textAnchor="middle">Projection</text>

                        <defs>
                            <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                                <polygon points="0 0, 10 3.5, 0 7" fill="#64748b" />
                            </marker>
                        </defs>
                    </svg>
                </div>
                <p className="text-xs text-center text-slate-500 mt-2">The once loved object is turned into a persecutor, and the repressed love is transformed into a conscious hate.</p>
            </div>
        );

        // 10. Thought Process
        const IllThoughtProcess = () => (
            <svg viewBox="0 0 200 100" className="w-full h-24 my-2">
                {/* Normal gears */}
                <circle cx="60" cy="50" r="15" fill="none" stroke="#3b82f6" strokeWidth="3" strokeDasharray="4 2" />
                <circle cx="95" cy="50" r="15" fill="none" stroke="#3b82f6" strokeWidth="3" strokeDasharray="4 2" />
                {/* Delusion gear */}
                <circle cx="130" cy="50" r="15" fill="#fecaca" stroke="#ef4444" strokeWidth="3" />
                <text x="130" y="53" fontSize="8" fill="#b91c1c" textAnchor="middle" fontWeight="bold">!</text>
                <text x="100" y="85" fontSize="8" fill="#475569" textAnchor="middle">Intact Cognition + Non-Bizarre Delusion</text>
            </svg>
        );

        // 11. Behavioral Pattern
        const IllBehavior = () => (
            <svg viewBox="0 0 200 100" className="w-full h-24 my-2">
                <rect x="70" y="30" width="60" height="60" rx="8" fill="#e2e8f0" />
                <circle cx="100" cy="45" r="8" fill="#94a3b8" />
                <path d="M 85 70 Q 100 60 115 70" fill="none" stroke="#64748b" strokeWidth="3" strokeLinecap="round" />
                {/* Shield / Guarded */}
                <path d="M 85 45 L 85 75 C 85 85 100 90 100 90 C 100 90 115 85 115 75 L 115 45 Z" fill="#3b82f6" opacity="0.6" />
                <text x="100" y="15" fontSize="8" fill="#1e40af" textAnchor="middle" fontWeight="bold">Guarded / Secretive / Mistrust</text>
            </svg>
        );

        // 12. Mood and Affect
        const IllMood = () => (
            <svg viewBox="0 0 200 100" className="w-full h-24 my-2">
                <rect x="40" y="45" width="120" height="10" rx="5" fill="#e2e8f0" />
                <rect x="40" y="45" width="90" height="10" rx="5" fill="#ef4444" />
                <circle cx="130" cy="50" r="8" fill="#b91c1c" />
                <text x="40" y="35" fontSize="8" fill="#64748b">Calm</text>
                <text x="160" y="35" fontSize="8" fill="#ef4444" textAnchor="end">Anger / Sensitivity</text>
            </svg>
        );

        // 13. Subtype: Erotomanic
        const IllErotomanic = () => (
            <svg viewBox="0 0 100 100" className="w-full h-16">
                <path d="M 20 30 L 80 30 L 80 70 L 20 70 Z" fill="#fdf2f8" stroke="#db2777" strokeWidth="2" />
                <path d="M 20 30 L 50 50 L 80 30" fill="none" stroke="#db2777" strokeWidth="2" />
                <path d="M 50 55 C 40 45 35 60 50 70 C 65 60 60 45 50 55 Z" fill="#be185d" />
            </svg>
        );

        // 14. Subtype: Grandiose
        const IllGrandiose = () => (
            <svg viewBox="0 0 100 100" className="w-full h-16">
                <path d="M 30 60 L 35 30 L 50 45 L 65 30 L 70 60 Z" fill="#fde68a" stroke="#d97706" strokeWidth="2" />
                <circle cx="35" cy="25" r="4" fill="#fbbf24" />
                <circle cx="50" cy="35" r="4" fill="#fbbf24" />
                <circle cx="65" cy="25" r="4" fill="#fbbf24" />
                <rect x="30" y="65" width="40" height="10" fill="#b45309" />
            </svg>
        );

        // 15. Subtype: Persecutory
        const IllPersecutory = () => (
            <svg viewBox="0 0 100 100" className="w-full h-16">
                <circle cx="50" cy="50" r="25" fill="#fee2e2" stroke="#dc2626" strokeWidth="2" />
                <path d="M 35 50 Q 50 35 65 50 Q 50 65 35 50" fill="#ffffff" stroke="#991b1b" strokeWidth="2" />
                <circle cx="50" cy="50" r="5" fill="#991b1b" />
                <line x1="68" y1="68" x2="85" y2="85" stroke="#dc2626" strokeWidth="6" strokeLinecap="round" />
            </svg>
        );

        // 16. Subtype: Somatic
        const IllSomatic = () => (
            <svg viewBox="0 0 100 100" className="w-full h-16">
                <circle cx="50" cy="30" r="10" fill="#e0f2fe" stroke="#0369a1" strokeWidth="2" />
                <path d="M 35 70 C 35 40 65 40 65 70" fill="none" stroke="#0369a1" strokeWidth="2" />
                <circle cx="50" cy="55" r="6" fill="#10b981" opacity="0.8">
                    <animate attributeName="r" values="4;8;4" dur="2s" repeatCount="indefinite" />
                </circle>
            </svg>
        );

        // 17. Nursing: Potential for Violence (Space)
        const IllViolenceRisk = () => (
            <svg viewBox="0 0 200 100" className="w-full h-24 my-2">
                {/* Nurse */}
                <circle cx="40" cy="40" r="10" fill="#3b82f6" />
                <line x1="40" y1="50" x2="40" y2="80" stroke="#1d4ed8" strokeWidth="4" />
                {/* Patient */}
                <circle cx="160" cy="40" r="10" fill="#ef4444" />
                <line x1="160" y1="50" x2="160" y2="80" stroke="#b91c1c" strokeWidth="4" />
                {/* Personal Space indicator */}
                <line x1="60" y1="60" x2="140" y2="60" stroke="#94a3b8" strokeWidth="2" strokeDasharray="4" />
                <text x="100" y="55" fontSize="8" fill="#64748b" textAnchor="middle">Maintain Personal Space</text>
            </svg>
        );

        // 18. Nursing: Trust
        const IllTrust = () => (
            <svg viewBox="0 0 200 100" className="w-full h-24 my-2">
                <rect x="70" y="30" width="60" height="40" rx="4" fill="#ecfdf5" stroke="#10b981" strokeWidth="2" />
                <path d="M 85 30 C 85 10 115 10 115 30" fill="none" stroke="#10b981" strokeWidth="3" />
                <text x="100" y="55" fontSize="10" fill="#047857" textAnchor="middle" fontWeight="bold">Consistent & Reliable</text>
            </svg>
        );

        // --- APPLICATION CODE ---
        const SECTIONS = {
            INTRO: 'intro',
            ETIOLOGY: 'etiology',
            CLINICAL: 'clinical',
            NURSING: 'nursing',
            TREATMENT: 'treatment'
        };

        const DATA = {
            intro: {
                objectives: [
                    "Define delusional disorder",
                    "Identify the etiological factors that contribute to delusional disorder.",
                    "Assess a client with a delusional disorder.",
                    "Formulate a plan of care for a person manifested with delusional disorder."
                ],
                introduction: [
                    "The term delusional disorder (also known as paranoid disorder) was only coined in 1977, but the concept of paranoia has been used for centuries.",
                    "Emil Kraepelin, viewed paranoia as an uncommon, chronic condition different from schizophrenia by the presence of fixed, non-bizarre delusions, lack of deterioration over time, preserved thought process, and relatively slight involvement of affect and volition.",
                    "Generally, this disorder occurs in middle to later adulthood.",
                    "The age of onset is 30-40 years or later.",
                    "The illness may be discovered in a routine physical examination, emergency situation, legal situation, industrial or employment examination, nursing assessment on admission, or by accidental personal encounter."
                ],
                definition: [
                    "Delusional disorder is an illness characterized by the presence of one or more non-bizarre delusions for at least one-month duration, with no other psychotic symptoms.",
                    "These delusional beliefs include themes that may occur in real life such as being poisoned, being loved or deceived, or having an illness, provided no other symptoms of schizophrenia are exhibited.",
                    "Therefore, delusions may seem believable at face value, and patients may appear normal as long as an outsider does not touch upon their delusional themes.",
                    "Also, these delusions are not due to any medical condition or substance abuse."
                ],
                epidemiology: [
                    "Delusional disorder is uncommon in psychiatric practice, though this may be an underestimation due to the fact that those afflicted are lacking insight and thus avoid psychiatric assessment.",
                    "This disorder accounts for 1-2% of admissions to inpatient mental health facilities. The incidence of first admissions for delusional disorder is lower; from 0.001-0.003%. Gender does not appear to affect the overall frequency of the disorder."
                ]
            },
            etiology: [
                {
                    term: "1) Biological theory:",
                    icon: <Activity className="w-5 h-5 text-purple-600"/>,
                    details: [
                        "a- Genetic factors: Studies revealed that individuals whose family members manifest symptoms of paranoid disorder are at great risk than the general population. Twin studies have also suggested genetic involvement.",
                        "B- Neurobiological disturbances: An excess release of norepinephrine and dopamine was found in patients with delusional disorder. It is commonly known that large doses of drugs like amphetamines induce a state of paranoid psychosis in some people.",
                        "It was also found that electroencephalograms differentiate some paranoid patients from individuals in the general population. In this regard, there has been a link with denial of reality and dysfunction in the right posterior cortical area."
                    ],
                    illustrations: [<IllGenetics key="gen" />, <IllNeurobiology key="neuro" />, <IllEEG key="eeg" />]
                },
                {
                    term: "2) Psychoanalytic theory:",
                    icon: <Brain className="w-5 h-5 text-purple-600"/>,
                    def: "Freud's explanation of delusional disorder focuses on the premise that delusional thinking in both sexes comes from using the defenses of projection and reaction formation for unacceptable homosexual wishes toward the person involved in the delusional belief. These ideas result in persecutory delusions based on \"If he hates me and persecutes me, I must fear him\". Thus, the once loved object is turned into a persecutor, and the repressed love is transformed into a conscious hate.",
                    details: []
                },
                {
                    term: "3) Interpersonal theory:",
                    icon: <Users className="w-5 h-5 text-purple-600"/>,
                    details: [
                        "\"Sullivan\" postulated that the paranoid person suffers from a deep sense of inferiority, insecurity, and feelings of rejection.",
                        "These feelings keep the person from security and satisfaction and bring feelings of loneliness and unworthiness that are intolerable.",
                        "Security is obtained by the projection of these feelings and by transfer of blame onto others."
                    ],
                    illustrations: [<IllSullivan key="sul" />]
                },
                {
                    term: "4) Family theory:",
                    icon: <Users className="w-5 h-5 text-purple-600"/>,
                    details: [
                        "Some theorists believe that paranoid persons had parents who were distant, rigid, strict, harsh, demanding, dominating and perfectionist, engendering rage, had a sense of exaggerated self-importance, and mistrust, so the client becomes vulnerable as an adult to the disorder because of this early life experience."
                    ],
                    illustrations: [<IllFamily key="fam" />]
                }
            ],
            defenses: {
                intro: "Main defense mechanisms used by patients with delusional disorder:",
                details: [
                    "As a result of stressors and anxiety provoking situations, patient with delusional disorder will develop feelings of anger, mistrust and high sensitivity, but these feelings will be denied and then projected onto others.",
                    "E.g. You are the ones who are provoking me not I am the person who is sensitive or feeling inferior and insecure\". Another defense that is commonly used is Reaction formation which is used to enable this person to be more outgoing, independent, organized, in control, and self-assured. In response to increased stress, the patient may be forced to use rationalization, which will convince him that he is right in his way of thinking.",
                    "Further stress will lead the person to fantasize and further rationalizes circumstances, and so, idea of reference develops.",
                    "And By time bits of truth will be confused with fantasies and this will be developed into a system of delusional beliefs."
                ]
            },
            clinical: {
                thought: [
                    "The mental examination is usually normal with the exception of the presence of one or more no bizarre delusional belief for at least one-month duration.",
                    "These may include persecutory, jealous, erotic, grandiose, or somatic delusional beliefs. These beliefs involving situations that occur in real life such as being persecuted by a boss, having extra ordinary power or talents and so being hated and envied by a colleague, or even having unfaithful spouse.",
                    "Memory and cognition are intact. Level of consciousness is unimpaired.",
                    "Patients usually have little insight and impaired judgment regarding their pathology. Police, family members, coworkers, and physicians other than psychiatrists are usually the first to suspect the problem and seek psychiatric consultation.",
                    "Tactile and olfactory hallucinations may be present and may be prominent if they are related to the delusional theme (eg, the sensation of being infested by insects, may be associated by the false perception of strange body odor).",
                    "Assessment of homicidal or suicidal ideation is extremely important in evaluating patients with delusional disorder.",
                    "The presence of homicidal or suicidal thoughts related to delusions should be actively screened for and the risk of carrying out violent plans should be carefully assessed.",
                    "It was reported that some types of this illness such as Erotomanic, jealous, and persecutory are associated with higher risk for violence than others.",
                    "History of previous violent acts as well as history of how aggressive feelings were managed in the past may help to assess the risk."
                ],
                behavior: [
                    "The behavior is remarkably normal, except when the patient focuses on the delusion.",
                    "At that time, thinking, attitudes, and mood may change abruptly.",
                    "Typical behaviors may include listening carefully and defensively to others words.",
                    "Rigidity, loss of flexibility.",
                    "Body language may show mistrust, he may carefully move about or sit on the edge of the chair.",
                    "Patient may also talk in a guarded manner, screening words, be secretive or sensitive.",
                    "Attitude of superiority pride and aloofness are common.",
                    "In hospital, he or she will have difficulty accepting rules, use statements that convey jealousy, insecurity and mistrusting others.",
                    "Personality does not usually change, but there is a gradual, progressive involvement with the delusional concern.",
                    "Patient with delusional disorder remains coherent, sensible and reasonable.",
                    "He is able to function fairly well, hold a job, marries, and has a family with no signs of disorganization, unless severely deteriorated.",
                    "In addition, the patient tends to be more extroverted and less socially withdrawn than patients with schizophrenia.",
                    "In general, patients are well groomed and well-dressed without evidence of gross impairment.",
                    "Patient tends to blame others for any minute difficulties he encounters.",
                    "He/she rationalizes behavior, feels persecuted by others and misinterprets their behavior.",
                    "The patient is usually secretive, has apparently an intact personality, and usually much self-control, he/she may live his/her life without disclosure."
                ],
                mood: [
                    "In delusional disorder, the patient reacts to most of the situations with anger, mistrust and increased sensitivity.",
                    "Mood and affect are consistent with delusional content; for example, patients with persecutory delusions may be suspicious and anxious.",
                    "Mild dysphoria may be present without regard of type of delusions."
                ],
                subtypes: [
                    { name: "1. Erotomaniac type", icon: <IllErotomanic />, desc: "patient believes that a person, usually of higher social standing, is in love with him." },
                    { name: "2. Grandiose type", icon: <IllGrandiose />, desc: "patient believes that he has some great but unrecognized talent or insight, a special identity, knowledge, power, self-worth, or special relationship with someone famous or with God." },
                    { name: "3. Persecutory type", icon: <IllPersecutory />, desc: "this delusion is a common subtype. It includes the belief that the person (or someone to whom the person is close) is being malevolently treated in some way. The patient may believe that he/she has been drugged, spied upon, harassed and so on and may seek \"justice\" by making police reports, taking court action or even acting violently." },
                    { name: "4. Somatic type", icon: <IllSomatic />, desc: "patient believes he is experiencing physical sensations or bodily dysfunctions, such as foul odors or insects crawling on or under the skin, or is suffering from a general medical condition or defect." },
                    { name: "5. Jealous type", desc: "(patient believes his partner has been unfaithful); persecutory type (patient believes he is being cheated, spied on, drugged, followed, slandered, or somehow mistreated)." },
                    { name: "6. Mixed type", desc: "(characteristics of more than one of the above types, but no one theme dominates); or unspecified type (patient's delusions do not fall in described categories)." },
                    { name: "7. Unspecified type", desc: "delusions that cannot be clearly determined or characterized in any of the categories in the specific types." }
                ],
                dsmTable: [
                    { criteria: "A", dsm4: "A. non-bizarre delusions (i.e., involving situations that occur in real life, such as being followed, poisoned, infected, loved at a distance, or deceived by spouse or lover, or having a disease) of at least 1 month's duration.", dsm5: "A. The presence of one (or more) delusions with a duration of 1 month or longer." },
                    { criteria: "B", dsm4: "B. Criterion A for schizophrenia has never been met. Note: Tactile and olfactory hallucinations may be present in delusional disorder if they are related to the delusional theme.", dsm5: "B. SAME except for note: Hallucinations, if present, are not prominent and are related to the delusion theme (e.g., the sensation of being infested with insects associated with delusions of infestation." },
                    { criteria: "C", dsm4: "C. Apart from the impact of the delusion(s) or its ramifications, functioning is not markedly impaired and behavior is not obviously odd or bizarre.", dsm5: "C. SAME" },
                    { criteria: "D", dsm4: "D. If mood episodes have occurred concurrently with delusions, their total duration has been brief relative to the duration of the delusional periods.", dsm5: "D. SAME" },
                    { criteria: "E", dsm4: "E. The disturbance is not due to the direct physiological effects of a substance (e.g., a drug of abuse, a medication) or a general medical condition.", dsm5: "E. The disturbance is not attributable to the physiological effects of a substance or another medical condition and is not better explained by another mental disorder, such as body dysmorphic disorder or obsessive-compulsive disorder." }
                ]
            },
            nursing: [
                {
                    title: "Altered thought process",
                    relatedTo: "- Insecurity and mistrusting others\n- Psychosocial stressors(to be recorded according to each individual patient)\n- Increased anxiety and fear (characteristics of the delusional patient)",
                    evidencedBy: "- Delusions.\n- Mistrusting others.\n- Defensive attitude.",
                    goals: [
                        "Identify meaning of delusion.",
                        "Demonstrate reality-based thinking.",
                        "Deal with anxieties and fears with logical based thinking.",
                        "Develop feeling of trust toward others."
                    ],
                    interventions: [
                        "Convey to the patient that you are aware of his feelings (focus on feelings rather than resulting behaviors) e.g., \"You seem upset about what is happening\".",
                        "Be consistently reliable; do what you say you plan to do and keep your promises.",
                        "A consistent secure environment is important. This could be assured by: Maintain consistency in all aspects around the patient. For example, in enforcing limits or word routine. Avoid laughing in groups near the patient. Whenever you make changes, allow for the patient's suspicious questioning: \"Why did you move the chair over there?\", \"Why are we eating at 4?\", and listen to the inquiries.",
                        "Be genuine and honest in what you say about your feelings or intentions.",
                        "Be open and not secretive, but this does not mean expressing yourself freely and fully to your patients.",
                        "Explain misunderstanding. This does not mean defending every word you say but rather responding trustfully, so that the patient at least hears your intention to help and protect.",
                        "Do not argue with the patient or attempt to disprove his delusional beliefs in order not to increase his anxiety and fix his beliefs.",
                        "If he asks, \"You believe what I'm saying, don't you?\" respond to the feelings rather than to the false belief .e.g. I know how difficult to feel like that.",
                        "Avoid counter aggression.",
                        "Communicate in clear, concise terms with clearly stated rules about what the patient can/cannot do. The suspicious patient needs to have strait information, and rules can enhance patient's sense of control.",
                        "A non-judgmental respectful, neutral approach is effective. Emotional, worm attitude can be frightening to a patient who needs emotional distancing.",
                        "Avoid discussing the content of the delusions after completing the assessment; rather look for the feelings behind the delusions.",
                        "Clarify and restate your role and explain everything you are going to do before you do it. This will prevent misinterpretations.",
                        "Recognize and support the patient's accomplishments (activities or projects completed and responsibilities fulfilled in order to raise self-esteem)."
                    ],
                    illustration: <IllTrust />
                },
                {
                    title: "Potential for violence, directed toward self or others.",
                    relatedTo: "- Perceived threats or danger. - Increased feelings of anxiety and insecurity.",
                    evidencedBy: "- Acting out in an irrational manner.\n- Becoming threatening or assaultive in the face of perceived threats.",
                    goals: ["The patient will cope with anxiety without the use of assaultive behavior."],
                    interventions: [
                        "Provide for personal space and do not touch the patient without warning.",
                        "Assist the patient to identify situations that trigger anxiety and aggressive behaviour.",
                        "Help the patient to identify consequences of handling these situations with aggression.",
                        "Encourage patient to engage in solitary activities instead of group activities. Begin with one to one activity, then activities in small groups, and gradually provide for large group interaction. Because anxiety, fear and suspiciousness may increase in competitive/group activities.",
                        "Be careful in offering a pat on the shoulder, hug, etc, because gestures involving touch may be misinterpreted as aggressive by the person.",
                        "Encourage verbalizations of feelings and promote outlets for expression. This will reduce the need for physical action.",
                        "Be alert to signs of impending behaviour, e.g., increase in psychomotor activity, intensity of affect, verbalization of delusional thinking, especially threatening expressions, because therapeutic interventions are more effective before behaviour becomes violent.",
                        "Accept verbal hostility without retaliation or defence because behaviour is not usually directed personally at the nurse and responding defensively will tend to exacerbate the situation. Nurses need to be aware of their own responses to patient's behaviour, e.g., anger or fear.",
                        "Avoid confrontation. Although he is often angry, hostile and demanding, do not take this behaviour personally, not retaliate with such behaviour.",
                        "Provide safe, quiet environment, and tell the patient that he is \"safe\".",
                        "Isolate in non-punitive manner, using adequate help, if violent behaviour occurs. Hold client if necessary.",
                        "Administer antipsychotic medication as ordered."
                    ],
                    illustration: <IllViolenceRisk />
                },
                {
                    title: "Impaired social interaction",
                    relatedTo: "- Mistrust of others, insecurity and inability to trust. - Delusional thinking.",
                    evidencedBy: "- Difficulty in establishing relationships with others, expression of feeling of rejection.\n- Misinterpretation of others behaviours within social situations -.",
                    goals: ["The patient will engage in activities of daily living, work and leisure with others."],
                    interventions: [
                        "Support and encourage the patient to engage in activities of daily living in a way that is satisfying to self and others. At first the paranoid patient, may have to be separated from others to decrease the mutual irritability and anger that may result from his behaviours. However, social interactions must be increased gradually.",
                        "The patient who has delusions first needs experience with one person, who can be trusted, before he or she can dare to trust others.",
                        "Do not argue or try to give advice to the angry, suspicious patient, but try to understand why the person is feeling threatened. Give support as needed.",
                        "Remain calm, kind, and accepting. Let the patient know that you care but that you cannot allow behaviour that is harmful to self or others.",
                        "Explore more acceptable ways of handling feelings.",
                        "Activities may be helpful to an overtly angry person, e.g., a long walk may release energy to cope with angry feelings.",
                        "Avoid competitive, aggressive activities and such activities that are necessitating body contact. Support will be needed during activities.",
                        "Remember that this person is lonely and frightened within the group even if the overt reaction is one of anger rather than fear. Help the client talk about feelings and reactions to the group.",
                        "Limit setting at times is important. You need to be firm but not authoritarian in stating restrictions in activity or rules to be followed. The paranoid person becomes threatened when he feels a loss of control. Allow the need for control to be expressed in a healthy way.",
                        "Talking releases angry feeling, so discuss neutral topics when angry can be displayed. Focus on topics that the person feels he can handle.",
                        "Encourage talking about self and feelings rather than about others and how they are behaving.",
                        "Support positive feelings toward interactions with others.",
                        "Avoid power struggle by avoiding giving necessary demands to help patient to feel accepted and secure.",
                        "Avoid using seclusion as a punishment.",
                        "Identify support systems available to the patient, family and friends, and help him to relate gradually.",
                        "State that his desire for privacy or distance is respected."
                    ]
                }
            ],
            treatment: [
                {
                    type: "Psychotherapy",
                    icon: <Users className="w-6 h-6 text-indigo-500"/>,
                    details: [
                        "The essential element in effective psychotherapy is to establish a relationship in which patients begin to trust the therapist and this may act as a corrective experience that could be generalized later on to other situations and persons.",
                        "Through therapy, people with delusional disorder can learn to manage their symptoms, identify early warning signs of relapse and develop relapse prevention plans.",
                        "Individual psychotherapy seems to be more effective than group therapy; insight-oriented, supportive, cognitive, and behavioral therapies are often effective.",
                        "Cognitive behavioral therapy (CBT): Through CBT, they can unlearn negative thoughts and behaviors and learn to adopt healthier thinking patterns and habits.",
                        "Family-focused therapy: This treatment involves psychoeducation regarding delusional disorder, communication improvement training and problem-solving skills training."
                    ]
                },
                {
                    type: "Hospitalization",
                    icon: <Target className="w-6 h-6 text-indigo-500"/>,
                    details: [
                        "Patients with delusional disorder can generally be treated on outpatient level, but hospitalization could be mandatory in certain situations such as having uncontrolled aggression either toward self or other, or even if delusional beliefs interfere with the overall functioning."
                    ]
                },
                {
                    type: "Pharmacotherapy",
                    icon: <Pill className="w-6 h-6 text-indigo-500"/>,
                    details: [
                        "Antipsychotic drugs are the best choice in these cases, but lack of insight may be a barrier and administering medication could be a challenge.",
                        "As patients may refuse medication and may easily incorporate the administration of drugs into their delusional systems."
                    ]
                },
                {
                    type: "Psycho-education",
                    icon: <BookOpen className="w-6 h-6 text-indigo-500"/>,
                    details: [
                        "Psycho-education is done through giving series of sessions that deliver information about the disorder that include its sign and symptom the impact of patient behavior on others and interpersonal skills to improve the patients relationship with others."
                    ]
                }
            ]
        };

        // --- COMPONENTS ---
        const Card = ({ children, className = "" }) => (
            <div className={`bg-white rounded-xl shadow-sm border border-slate-200 p-5 ${className}`}>
                {children}
            </div>
        );

        const SectionHeader = ({ title, icon, color }) => (
            <div className={`flex items-center gap-4 mb-8 p-5 rounded-xl ${color} bg-opacity-15 border border-opacity-30 border-current shadow-sm`}>
                <div className={`p-3 rounded-full bg-white shadow-sm ${color.replace('bg-', 'text-')}`}>
                    {icon}
                </div>
                <h2 className="text-2xl font-bold text-slate-800 tracking-tight">{title}</h2>
            </div>
        );

        const TermItem = ({ term, def, details, illustrations, icon, isAlert }) => {
            const [isOpen, setIsOpen] = useState(false);
            const hasExtra = details && details.length > 0;
            
            return (
                <div className={`mb-3 border-l-4 ${isAlert ? 'border-amber-400 bg-amber-50' : 'border-indigo-400 bg-slate-50'} rounded-r-lg overflow-hidden transition-all duration-300`}>
                    <div 
                        className={`p-4 flex justify-between items-start ${hasExtra ? 'cursor-pointer hover:bg-slate-100' : ''}`}
                        onClick={() => hasExtra && setIsOpen(!isOpen)}
                    >
                        <div className="flex items-start gap-3 w-full">
                            {icon && <span className="mt-1">{icon}</span>}
                            <div className="w-full">
                                <h4 className="font-bold text-slate-800 text-[1.05rem]">{term}</h4>
                                {def && <p className="text-slate-600 text-sm leading-relaxed mt-1">{def}</p>}
                                
                                {illustrations && (
                                    <div className="flex flex-col sm:flex-row gap-2 mt-2 w-full">
                                        {illustrations}
                                    </div>
                                )}
                                
                                {hasExtra && !isOpen && <p className="text-xs text-indigo-500 mt-2 font-medium">Click to view details...</p>}
                            </div>
                        </div>
                        {hasExtra && (
                            <button className="text-slate-400 hover:text-indigo-600 mt-1">
                                {isOpen ? <ChevronUp size={20} /> : <ChevronDown size={20} />}
                            </button>
                        )}
                    </div>
                    
                    {isOpen && hasExtra && (
                        <div className="bg-white p-4 border-t border-slate-200 text-sm animate-in fade-in slide-in-from-top-1">
                            <ul className="list-disc list-inside space-y-2 text-slate-700">
                                {details.map((item, i) => <li key={i} className="leading-relaxed">{item}</li>)}
                            </ul>
                        </div>
                    )}
                </div>
            );
        };

        const SimpleList = ({ items, icon }) => (
            <ul className="space-y-3">
                {items.map((item, idx) => (
                    <li key={idx} className="flex gap-3 text-slate-700 leading-relaxed text-sm">
                        <span className="mt-1 flex-shrink-0 text-slate-400">{icon || <div className="w-1.5 h-1.5 rounded-full bg-current mt-1.5"/>}</span>
                        <span>{item}</span>
                    </li>
                ))}
            </ul>
        );

        function App() {
            const [activeSection, setActiveSection] = useState(SECTIONS.INTRO);

            const handleNavClick = (section) => {
                setActiveSection(section);
                window.scrollTo({ top: 0, behavior: 'smooth' });
            };

            // --- Views ---
            const IntroView = () => (
                <div className="space-y-8 animate-in fade-in duration-500">
                    <div className="bg-gradient-to-br from-blue-700 via-indigo-800 to-purple-900 text-white p-8 md:p-10 rounded-2xl shadow-xl relative overflow-hidden">
                        <div className="relative z-10">
                            <div className="inline-block bg-blue-900 bg-opacity-50 px-3 py-1 rounded-full text-blue-200 text-sm font-bold mb-4 border border-blue-400 border-opacity-30">Unit 2, Chapter 2</div>
                            <h1 className="text-4xl md:text-5xl font-extrabold mb-6">Delusional Disorder</h1>
                            <div className="text-blue-100 text-lg max-w-2xl space-y-2">
                                <p>Delusional disorder is an illness characterized by the presence of one or more non-bizarre delusions for at least one-month duration, with no other psychotic symptoms.</p>
                            </div>
                            <div className="mt-8 flex flex-wrap gap-4">
                                <button onClick={() => handleNavClick(SECTIONS.CLINICAL)} className="bg-white text-indigo-900 px-6 py-2.5 rounded-full font-bold hover:bg-blue-50 transition shadow-lg flex items-center gap-2">
                                    <Activity size={18}/> Clinical Picture
                                </button>
                                <button onClick={() => handleNavClick(SECTIONS.NURSING)} className="bg-indigo-900 bg-opacity-40 text-white border border-indigo-400 px-6 py-2.5 rounded-full font-bold hover:bg-opacity-60 transition flex items-center gap-2">
                                    <Stethoscope size={18}/> Nursing Process
                                </button>
                            </div>
                        </div>
                        <Brain className="absolute -right-10 -bottom-10 text-white opacity-10 w-64 h-64" />
                    </div>

                    <div className="grid md:grid-cols-2 gap-6">
                        <Card className="border-t-4 border-t-blue-500">
                            <h3 className="text-xl font-bold mb-4 flex items-center gap-2 text-slate-800">
                                <Target className="text-blue-500" /> Objectives
                            </h3>
                            <p className="text-sm font-semibold mb-2">By the end of this lecture, the students will be able to:-</p>
                            <SimpleList items={DATA.intro.objectives} icon={<span className="text-blue-500 font-bold"></span>} />
                        </Card>

                        <Card className="border-t-4 border-t-indigo-500">
                            <h3 className="text-xl font-bold mb-4 flex items-center gap-2 text-slate-800">
                                <Compass className="text-indigo-500" /> Introduction
                            </h3>
                            <SimpleList items={DATA.intro.introduction} />
                            <IllKraepelin />
                            <IllAgeOfOnset />
                        </Card>
                    </div>

                    <div className="grid md:grid-cols-3 gap-6">
                        <Card className="md:col-span-2 bg-blue-50 border-blue-100">
                            <h3 className="text-xl font-bold mb-3 flex items-center gap-2 text-blue-900">
                                <BookOpen className="text-blue-600" /> Definition
                            </h3>
                            <SimpleList items={DATA.intro.definition} icon={<AlertCircle size={14} className="text-blue-500"/>} />
                        </Card>

                        <Card className="bg-slate-50">
                            <h3 className="text-xl font-bold mb-4 flex items-center gap-2 text-slate-800">
                                <Users className="text-slate-500" /> Epidemiology
                            </h3>
                            <IllEpidemiology />
                            <SimpleList items={DATA.intro.epidemiology} />
                        </Card>
                    </div>
                </div>
            );

            const EtiologyView = () => (
                <div className="animate-in slide-in-from-right-4 duration-500">
                    <SectionHeader title="A-Etiology of delusional disorder:" icon={<Network size={32} />} color="bg-purple-100 text-purple-700" />
                    
                    <div className="space-y-8">
                        <div className="grid md:grid-cols-2 gap-6">
                            {DATA.etiology.map((theory, idx) => (
                                <TermItem key={idx} {...theory} />
                            ))}
                        </div>

                        {/* Freud Mechanism Focus */}
                        <FreudMechanismIllustration />

                        <Card className="border-t-4 border-t-amber-400 bg-amber-50 shadow-sm">
                            <h3 className="text-xl font-bold mb-4 flex items-center gap-2 text-amber-900 border-b border-amber-200 pb-2">
                                <Shield className="text-amber-600" /> {DATA.defenses.intro}
                            </h3>
                            <div className="space-y-2 mt-4 text-sm text-slate-700">
                                {DATA.defenses.details.map((p, idx) => (
                                    <p key={idx} className="leading-relaxed bg-white p-3 rounded border border-amber-100">{p}</p>
                                ))}
                            </div>
                        </Card>
                    </div>
                </div>
            );

            const ClinicalView = () => (
                <div className="animate-in slide-in-from-right-4 duration-500">
                    <SectionHeader title="Signs and symptoms:" icon={<Activity size={32} />} color="bg-rose-100 text-rose-700" />
                    
                    <div className="space-y-8">
                        {/* Clinical Presentation */}
                        <div className="grid lg:grid-cols-3 gap-6">
                            <Card className="border-t-4 border-t-blue-500">
                                <h3 className="text-lg font-bold mb-4 flex items-center gap-2 text-blue-900 border-b pb-2">
                                    <Brain className="text-blue-500" /> Thought process:
                                </h3>
                                <IllThoughtProcess />
                                <SimpleList items={DATA.clinical.thought} />
                            </Card>
                            
                            <Card className="border-t-4 border-t-emerald-500">
                                <h3 className="text-lg font-bold mb-4 flex items-center gap-2 text-emerald-900 border-b pb-2">
                                    <Users className="text-emerald-500" /> Behavioral pattern
                                </h3>
                                <IllBehavior />
                                <SimpleList items={DATA.clinical.behavior} />
                            </Card>

                            <Card className="border-t-4 border-t-rose-500">
                                <h3 className="text-lg font-bold mb-4 flex items-center gap-2 text-rose-900 border-b pb-2">
                                    <Heart className="text-rose-500" /> Mood and affect:
                                </h3>
                                <IllMood />
                                <SimpleList items={DATA.clinical.mood} />
                            </Card>
                        </div>

                        {/* Subtypes */}
                        <Card className="bg-slate-50 border-slate-200">
                            <h3 className="text-xl font-bold mb-6 text-slate-800 text-center">Subtypes of delusional disorder:</h3>
                            <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
                                {DATA.clinical.subtypes.map((sub, idx) => (
                                    <div key={idx} className={`bg-white rounded-xl p-5 border border-slate-200 shadow-sm flex flex-col items-center text-center ${!sub.icon ? 'lg:col-span-2' : ''}`}>
                                        {sub.icon}
                                        <h4 className="font-bold text-slate-800 mt-2 mb-2">{sub.name}</h4>
                                        <p className="text-xs text-slate-500 leading-relaxed">{sub.desc}</p>
                                    </div>
                                ))}
                            </div>
                        </Card>

                        {/* DSM Table */}
                        <Card className="overflow-hidden">
                            <h3 className="text-xl font-bold mb-4 text-slate-800 flex items-center gap-2">
                                <BookOpen className="text-slate-500" /> Difference between diagnosis of delusional disorder in DSM IV and DSM 5
                            </h3>
                            <div className="overflow-x-auto custom-scrollbar">
                                <table className="w-full text-left border-collapse min-w-[600px]">
                                    <thead>
                                        <tr className="bg-slate-100 text-slate-700 text-sm font-bold tracking-wide">
                                            <th className="p-3 border border-slate-200 w-12 text-center"></th>
                                            <th className="p-3 border border-slate-200 w-1/2">DSM IV (Delusional Disorder)</th>
                                            <th className="p-3 border border-slate-200 w-1/2">DSM 5 (Delusional Disorder)</th>
                                        </tr>
                                    </thead>
                                    <tbody className="text-sm text-slate-700">
                                        {DATA.clinical.dsmTable.map((row, idx) => (
                                            <tr key={idx} className={idx % 2 === 0 ? 'bg-white' : 'bg-slate-50'}>
                                                <td className="p-3 border border-slate-200 font-bold text-center text-slate-500">{row.criteria}</td>
                                                <td className="p-3 border border-slate-200 leading-relaxed">{row.dsm4}</td>
                                                <td className="p-3 border border-slate-200 leading-relaxed font-medium text-indigo-900">{row.dsm5}</td>
                                            </tr>
                                        ))}
                                    </tbody>
                                </table>
                            </div>
                        </Card>
                    </div>
                </div>
            );

            const NursingView = () => (
                <div className="animate-in slide-in-from-right-4 duration-500">
                    <SectionHeader title="Nursing Process for patients with delusional disorder:" icon={<Stethoscope size={32} />} color="bg-emerald-100 text-emerald-700" />
                    <p className="mb-6 text-slate-600 bg-emerald-50 p-4 rounded-lg border border-emerald-100">
                        Psychiatric nurse must be aware that establishing contacts and trust with such character is difficult because of his suspicious thinking and mistrust. Care of this patient could be as following:
                    </p>
                    
                    <div className="space-y-6">
                        {DATA.nursing.map((dx, idx) => (
                            <Card key={idx} className="border-l-4 border-l-emerald-500 shadow-md">
                                <div className="mb-4 pb-4 border-b border-slate-100">
                                    <div className="flex justify-between items-start">
                                        <h3 className="text-xl font-bold text-emerald-900 mb-2">Nursing diagnosis: {dx.title}</h3>
                                    </div>
                                    <div className="grid md:grid-cols-2 gap-4 text-sm mt-3">
                                        <div className="bg-slate-50 p-3 rounded">
                                            <span className="font-bold text-slate-700 block mb-1">May be related to:</span>
                                            <span className="text-slate-600 whitespace-pre-line">{dx.relatedTo}</span>
                                        </div>
                                        <div className="bg-slate-50 p-3 rounded">
                                            <span className="font-bold text-slate-700 block mb-1">Evidenced by:</span>
                                            <span className="text-slate-600 whitespace-pre-line">{dx.evidencedBy}</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div className="mb-4">
                                    <h4 className="font-bold text-emerald-800 mb-2 flex items-center gap-2"><Target size={16}/> Goals:</h4>
                                    <ul className="list-disc list-inside text-sm text-slate-700 space-y-1 ml-2">
                                        {dx.goals.map((goal, gIdx) => <li key={gIdx}>{goal}</li>)}
                                    </ul>
                                </div>

                                <div>
                                    <h4 className="font-bold text-emerald-800 mb-3 flex items-center gap-2"><Activity size={16}/> Nursing interventions:</h4>
                                    {dx.illustration}
                                    <div className="grid sm:grid-cols-1 gap-y-2 mt-4">
                                        {dx.interventions.map((int, intIdx) => (
                                            <div key={intIdx} className="flex gap-2 text-sm text-slate-700 items-start">
                                                <div className="w-1.5 h-1.5 rounded-full bg-emerald-400 mt-1.5 flex-shrink-0"></div>
                                                <span className="leading-relaxed">{int}</span>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            </Card>
                        ))}
                    </div>
                </div>
            );

            const TreatmentView = () => (
                <div className="animate-in slide-in-from-right-4 duration-500">
                    <SectionHeader title="Treatment modalities:" icon={<Pill size={32} />} color="bg-indigo-100 text-indigo-700" />
                    
                    <div className="mb-6 bg-white p-5 rounded-xl border border-slate-200 text-slate-700 leading-relaxed text-sm">
                        <ul className="list-disc list-inside space-y-1">
                            <li>Delusional disorder was generally regarded as resistant to treatment.</li>
                            <li>Lacking insight may add to the problem and delay the treatment seeking action.</li>
                            <li>Interventions often focused on reducing the impact of the delusion on the patients and familys life. This may be done through:</li>
                        </ul>
                    </div>

                    <div className="grid md:grid-cols-2 gap-6">
                        {DATA.treatment.map((modality, idx) => (
                            <Card key={idx} className="border-t-4 border-t-indigo-400 hover:shadow-md transition-shadow">
                                <div className="flex items-center gap-3 mb-4 border-b border-indigo-50 pb-3">
                                    <div className="bg-indigo-50 p-2 rounded-lg">
                                        {modality.icon}
                                    </div>
                                    <h3 className="text-lg font-bold text-indigo-900">{modality.type}</h3>
                                </div>
                                <ul className="space-y-3">
                                    {modality.details.map((detail, dIdx) => (
                                        <li key={dIdx} className="flex gap-3 text-sm text-slate-600 leading-relaxed">
                                            <span className="text-indigo-400 mt-0.5"></span>
                                            <span>{detail}</span>
                                        </li>
                                    ))}
                                </ul>
                            </Card>
                        ))}
                    </div>
                </div>
            );

            return (
                <div className="min-h-screen bg-slate-50 font-sans text-slate-800 flex flex-col">
                    {/* Top Navigation */}
                    <nav className="bg-white shadow-sm sticky top-0 z-50 border-b border-slate-200">
                        <div className="max-w-6xl mx-auto px-4 h-16 flex items-center justify-between overflow-x-auto custom-scrollbar">
                            <div className="flex items-center gap-3 font-bold text-sm md:text-base text-indigo-900 cursor-pointer flex-shrink-0" onClick={() => handleNavClick(SECTIONS.INTRO)}>
                                <DepartmentLogo className="w-10 h-10 flex-shrink-0 drop-shadow-sm" />
                                <span className="hidden sm:inline">Psychiatric & Mental Health Nursing</span>
                                <span className="sm:hidden">PMHN Dept.</span>
                            </div>
                            
                            <div className="flex gap-1 ml-4 flex-shrink-0">
                                {[
                                    { id: SECTIONS.INTRO, label: 'Intro', icon: <Compass size={16}/> },
                                    { id: SECTIONS.ETIOLOGY, label: 'Etiology', icon: <Network size={16}/> },
                                    { id: SECTIONS.CLINICAL, label: 'Clinical', icon: <Activity size={16}/> },
                                    { id: SECTIONS.NURSING, label: 'Nursing', icon: <Stethoscope size={16}/> },
                                    { id: SECTIONS.TREATMENT, label: 'Treatment', icon: <Pill size={16}/> }
                                ].map(nav => (
                                    <button
                                        key={nav.id}
                                        onClick={() => handleNavClick(nav.id)}
                                        className={`flex items-center gap-1.5 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${
                                            activeSection === nav.id 
                                                ? 'bg-indigo-50 text-indigo-700' 
                                                : 'text-slate-500 hover:bg-slate-100 hover:text-slate-700'
                                        }`}
                                    >
                                        <span className="hidden lg:inline">{nav.icon}</span> {nav.label}
                                    </button>
                                ))}
                            </div>
                        </div>
                    </nav>

                    {/* Main Content Area */}
                    <main className="flex-grow max-w-5xl w-full mx-auto px-4 py-8">
                        {activeSection === SECTIONS.INTRO && <IntroView />}
                        {activeSection === SECTIONS.ETIOLOGY && <EtiologyView />}
                        {activeSection === SECTIONS.CLINICAL && <ClinicalView />}
                        {activeSection === SECTIONS.NURSING && <NursingView />}
                        {activeSection === SECTIONS.TREATMENT && <TreatmentView />}
                    </main>

                    {/* Footer */}
                    <footer className="bg-slate-900 text-slate-300 py-10 mt-12 border-t-4 border-indigo-600">
                        <div className="max-w-5xl mx-auto px-6 flex flex-col md:flex-row items-center md:items-start justify-between gap-8">
                            <div className="flex flex-col sm:flex-row items-center sm:items-start gap-5 text-center sm:text-left">
                                <FacultyLogo className="w-24 h-28 flex-shrink-0 drop-shadow-md" />
                                <div className="mt-2">
                                    <p className="mb-1 text-lg font-bold text-white">Psychiatric Nursing & Mental Health</p>
                                    <p className="text-sm text-slate-400 max-w-xs">Introduction to Psychiatric and Mental Health Nursing  Educational Material</p>
                                </div>
                            </div>
                            
                            <div className="text-center md:text-right space-y-2 text-sm border-t md:border-t-0 border-slate-700 pt-6 md:pt-0 w-full md:w-auto">
                                <p className="flex flex-col sm:block"><span className="text-slate-500 text-xs uppercase tracking-wider block sm:inline sm:mr-2">Dean of The Faculty:</span> <span className="text-slate-200">Prof. Dr. Hanan Hosny El-Sherbiny</span></p>
                                <p className="flex flex-col sm:block"><span className="text-slate-500 text-xs uppercase tracking-wider block sm:inline sm:mr-2">Acting Head of Department:</span> <span className="text-slate-200">Asst. Prof. Dr. Mayar Ezz-Eldin El-Naqeeb</span></p>
                                <p className="flex flex-col sm:block"><span className="text-slate-500 text-xs uppercase tracking-wider block sm:inline sm:mr-2">Created by:</span> <span className="font-semibold text-white">M.Abdallah Abozaid</span></p>
                            </div>
                        </div>
                    </footer>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>