<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Somatic Therapy - ECT</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel for JSX compilation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Lucide Icons (Vanilla) -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f8fafc; }
        html { scroll-behavior: smooth; }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f5f9; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef, useLayoutEffect } = React;

        // --- ICON SYSTEM SETUP ---
        const IconWrapper = ({ name, ...props }) => {
            const ref = useRef(null);
            
            useLayoutEffect(() => {
                if (ref.current && window.lucide && window.lucide.icons[name]) {
                    const iconElement = window.lucide.createElement(window.lucide.icons[name]);
                    if (props.className) {
                        const existingClass = iconElement.getAttribute('class') || '';
                        iconElement.setAttribute('class', `${existingClass} ${props.className}`);
                    }
                    if (props.size) {
                        iconElement.setAttribute('width', props.size);
                        iconElement.setAttribute('height', props.size);
                    }
                    ref.current.innerHTML = '';
                    ref.current.appendChild(iconElement);
                }
            }, [name, props.className, props.size]);

            return <span ref={ref} style={{ display: 'inline-flex', verticalAlign: 'middle' }} />;
        };

        const createIconComponent = (name) => (props) => <IconWrapper name={name} {...props} />;

        const Brain = createIconComponent('Brain');
        const Zap = createIconComponent('Zap');
        const Activity = createIconComponent('Activity');
        const ShieldAlert = createIconComponent('ShieldAlert');
        const ChevronDown = createIconComponent('ChevronDown');
        const ChevronUp = createIconComponent('ChevronUp');
        const AlertCircle = createIconComponent('AlertCircle');
        const ListChecks = createIconComponent('ListChecks');
        const BookOpen = createIconComponent('BookOpen');
        const HeartPulse = createIconComponent('HeartPulse');
        const UserCheck = createIconComponent('UserCheck');
        const Lightbulb = createIconComponent('Lightbulb');
        const Clock = createIconComponent('Clock');
        const Settings = createIconComponent('Settings');
        const Stethoscope = createIconComponent('Stethoscope');

        // --- DEPARTMENT LOGO (SVG REPLICA) ---
        const DepartmentLogo = ({ className = "w-10 h-10" }) => (
            <svg viewBox="0 0 100 120" className={className} xmlns="http://www.w3.org/2000/svg">
                <path d="M 5 80 C 15 100 40 110 60 105 C 80 100 95 85 95 75 C 95 70 85 65 75 75 C 65 85 50 90 35 85 C 25 80 15 75 5 80 Z" fill="#004a8f" />
                <path d="M 30 85 C 45 92 60 90 75 80" stroke="#ffffff" strokeWidth="2.5" strokeLinecap="round" fill="none" />
                <path d="M 40 78 C 55 85 70 80 85 70" stroke="#ffffff" strokeWidth="2.5" strokeLinecap="round" fill="none" />
                <path d="M 50 65 L 53 72 L 58 67 L 58 57 C 58 52 64 50 64 45 C 64 43 60 41 60 39 L 68 37 C 70 36 70 34 68 32 C 65 31 62 32 60 29 C 60 15 48 5 35 10" stroke="#004a8f" strokeWidth="3" strokeLinecap="round" strokeLinejoin="round" fill="none" />
                <g stroke="#1e1b4b" strokeWidth="1.5" fill="none">
                    <circle cx="35" cy="22" r="9" />
                    <circle cx="28" cy="35" r="9" />
                    <circle cx="42" cy="35" r="9" />
                </g>
                <text x="35" y="24.5" fontSize="7" fill="#1e1b4b" textAnchor="middle" fontWeight="bold" fontFamily="sans-serif">C</text>
                <text x="28" y="37.5" fontSize="7" fill="#1e1b4b" textAnchor="middle" fontWeight="bold" fontFamily="sans-serif">C</text>
                <text x="42" y="37.5" fontSize="7" fill="#1e1b4b" textAnchor="middle" fontWeight="bold" fontFamily="sans-serif">A</text>
            </svg>
        );

        // --- FACULTY LOGO (SVG REPLICA) ---
        const FacultyLogo = ({ className = "w-24 h-28" }) => (
            <svg viewBox="0 0 100 130" className={className} xmlns="http://www.w3.org/2000/svg">
                <path d="M 2 2 L 98 2 L 98 65 C 98 110 50 128 50 128 C 50 128 2 110 2 65 Z" fill="#24335c" />
                <path d="M 4 4 L 96 4 L 96 65 C 96 108 50 125 50 125 C 50 125 4 108 4 65 Z" fill="#ffffff" />
                <path d="M 6 6 L 94 6 L 94 65 C 94 106 50 122 50 122 C 50 122 6 106 6 65 Z" fill="#66c5f4" />
                <path d="M 6 75 L 94 75 C 94 106 50 122 50 122 C 50 122 6 106 6 75 Z" fill="#1da2d8" />
                <g stroke="#1a2f57" strokeWidth="0.8">
                    <line x1="50" y1="18" x2="15" y2="12" />
                    <line x1="50" y1="18" x2="10" y2="20" />
                    <line x1="50" y1="18" x2="10" y2="28" />
                    <line x1="50" y1="18" x2="15" y2="35" />
                    <line x1="50" y1="18" x2="85" y2="12" />
                    <line x1="50" y1="18" x2="90" y2="20" />
                    <line x1="50" y1="18" x2="90" y2="28" />
                    <line x1="50" y1="18" x2="85" y2="35" />
                </g>
                <g fill="#c49341" stroke="#1a2f57" strokeWidth="1.2" strokeLinejoin="round">
                    <polygon points="12,60 10,75 22,75 20,60" />
                    <rect x="10" y="56" width="12" height="4" />
                    <rect x="11" y="53" width="10" height="3" />
                    <rect x="20" y="63" width="18" height="12" />
                    <polygon points="80,60 78,75 90,75 88,60" />
                    <rect x="78" y="56" width="12" height="4" />
                    <rect x="79" y="53" width="10" height="3" />
                    <rect x="62" y="63" width="18" height="12" />
                    <polygon points="40,40 33,75 67,75 60,40" />
                    <rect x="38" y="38" width="24" height="4" />
                    <rect x="42" y="24" width="16" height="14" />
                    <rect x="40" y="22" width="20" height="3" />
                    <rect x="45" y="14" width="10" height="8" />
                    <rect x="44" y="12" width="12" height="2" />
                    <polygon points="47,12 48,7 52,7 53,12" />
                </g>
                <g fill="none" stroke="#1a2f57" strokeWidth="1.2">
                    <rect x="22" y="66" width="3" height="4" />
                    <rect x="27" y="66" width="3" height="4" />
                    <rect x="32" y="66" width="3" height="4" />
                    <rect x="65" y="66" width="3" height="4" />
                    <rect x="70" y="66" width="3" height="4" />
                    <rect x="75" y="66" width="3" height="4" />
                    <rect x="47" y="64" width="6" height="11" />
                    <rect x="48" y="54" width="4" height="5" />
                    <rect x="48" y="46" width="4" height="5" />
                    <rect x="44" y="27" width="4" height="4" />
                    <rect x="52" y="27" width="4" height="4" />
                </g>
                <g fill="#1a2f57" stroke="none">
                    <path d="M 12 85 Q 16 87 20 85 L 20 87 Q 16 89 12 87 Z" />
                    <path d="M 28 85 Q 32 87 36 85 L 36 87 Q 32 89 28 87 Z" />
                    <path d="M 44 85 Q 48 87 52 85 L 52 87 Q 48 89 44 87 Z" />
                    <path d="M 60 85 Q 64 87 68 85 L 68 87 Q 64 89 60 87 Z" />
                    <path d="M 76 85 Q 80 87 84 85 L 84 87 Q 80 89 76 87 Z" />
                    <path d="M 20 95 Q 24 97 28 95 L 28 97 Q 24 99 20 97 Z" />
                    <path d="M 36 95 Q 40 97 44 95 L 44 97 Q 40 99 36 97 Z" />
                    <path d="M 52 95 Q 56 97 60 95 L 60 97 Q 56 99 52 97 Z" />
                    <path d="M 68 95 Q 72 97 76 95 L 76 97 Q 72 99 68 97 Z" />
                    <path d="M 28 105 Q 32 107 36 105 L 36 107 Q 32 109 28 107 Z" />
                    <path d="M 44 105 Q 48 107 52 105 L 52 107 Q 48 109 44 107 Z" />
                    <path d="M 60 105 Q 64 107 68 105 L 68 107 Q 64 109 60 107 Z" />
                    <path d="M 40 115 Q 44 117 48 115 L 48 117 Q 44 119 40 117 Z" />
                    <path d="M 52 115 Q 56 117 60 115 L 60 117 Q 56 119 52 117 Z" />
                </g>
            </svg>
        );

        // --- CUSTOM EDUCATIONAL SVGS ---

        const SomaticTherapiesSVG = ({className}) => (
            <svg viewBox="0 0 100 100" className={className}>
                <circle cx="50" cy="50" r="15" fill="#e0e7ff" stroke="#4f46e5" strokeWidth="2"/>
                <text x="50" y="52" fontSize="6" textAnchor="middle" fill="#312e81" fontWeight="bold">Soma</text>
                <path d="M 50 35 L 50 20 M 65 50 L 80 50 M 50 65 L 50 80 M 35 50 L 20 50" stroke="#94a3b8" strokeWidth="2" strokeDasharray="2 2"/>
                <circle cx="50" cy="15" r="8" fill="#fef08a"/> <text x="50" y="17" fontSize="4" textAnchor="middle">ECT</text>
                <circle cx="85" cy="50" r="8" fill="#bae6fd"/> <text x="85" y="52" fontSize="4" textAnchor="middle">TMS</text>
                <circle cx="50" cy="85" r="8" fill="#fed7aa"/> <text x="50" y="87" fontSize="4" textAnchor="middle">VNS</text>
                <circle cx="15" cy="50" r="8" fill="#fbcfe8"/> <text x="15" y="52" fontSize="4" textAnchor="middle">Photo</text>
            </svg>
        );

        const ECTMachineSVG = ({className}) => (
            <svg viewBox="0 0 100 100" className={className}>
                <rect x="20" y="30" width="60" height="50" rx="4" fill="#f1f5f9" stroke="#64748b" strokeWidth="2"/>
                <circle cx="35" cy="55" r="8" fill="#cbd5e1"/>
                <line x1="35" y1="55" x2="40" y2="50" stroke="#334155" strokeWidth="2"/>
                <rect x="55" y="45" width="15" height="8" fill="#0ea5e9"/>
                <path d="M 20 80 L 10 90 M 80 80 L 90 90" stroke="#64748b" strokeWidth="2"/>
                <path d="M 80 55 Q 95 60 90 75" fill="none" stroke="#ef4444" strokeWidth="2"/>
                <circle cx="90" cy="75" r="3" fill="#ef4444"/>
                <path d="M 50 10 L 45 25 L 55 25 L 50 40" fill="#f59e0b"/>
            </svg>
        );

        const SynapseSVG = ({className}) => (
            <svg viewBox="0 0 100 100" className={className}>
                <path d="M 30 10 C 30 40 20 50 50 50 C 80 50 70 40 70 10" fill="none" stroke="#8b5cf6" strokeWidth="4"/>
                <path d="M 20 90 C 20 70 30 65 50 65 C 70 65 80 70 80 90" fill="none" stroke="#10b981" strokeWidth="4"/>
                <circle cx="40" cy="55" r="3" fill="#f59e0b"/>
                <circle cx="50" cy="58" r="3" fill="#f59e0b"/>
                <circle cx="60" cy="53" r="3" fill="#f59e0b"/>
                <text x="50" y="95" fontSize="8" fill="#334155" textAnchor="middle">Receptors</text>
            </svg>
        );

        const EndocrineSVG = ({className}) => (
            <svg viewBox="0 0 100 100" className={className}>
                <path d="M 50 10 C 20 10 20 40 40 60 C 45 65 48 70 50 70 C 52 70 55 65 60 60 C 80 40 80 10 50 10 Z" fill="#e2e8f0" stroke="#94a3b8" strokeWidth="2"/>
                <circle cx="50" cy="65" r="4" fill="#ef4444"/>
                <path d="M 50 70 L 50 90 M 45 70 L 30 85 M 55 70 L 70 85" stroke="#3b82f6" strokeWidth="2" strokeDasharray="2 2"/>
                <circle cx="50" cy="90" r="3" fill="#3b82f6"/>
                <circle cx="30" cy="85" r="3" fill="#3b82f6"/>
                <circle cx="70" cy="85" r="3" fill="#3b82f6"/>
            </svg>
        );

        const DepressionSVG = ({className}) => (
            <svg viewBox="0 0 100 100" className={className}>
                <circle cx="50" cy="65" r="25" fill="#f1f5f9" stroke="#cbd5e1" strokeWidth="2"/>
                <path d="M 40 60 Q 45 65 50 60" fill="none" stroke="#64748b" strokeWidth="2"/>
                <circle cx="42" cy="55" r="2" fill="#64748b"/>
                <circle cx="58" cy="55" r="2" fill="#64748b"/>
                <path d="M 30 35 C 30 20 50 15 60 25 C 75 25 80 40 65 45 C 50 50 30 45 30 35 Z" fill="#94a3b8"/>
                <line x1="40" y1="45" x2="35" y2="55" stroke="#3b82f6" strokeWidth="1.5"/>
                <line x1="50" y1="48" x2="48" y2="58" stroke="#3b82f6" strokeWidth="1.5"/>
                <line x1="60" y1="45" x2="62" y2="55" stroke="#3b82f6" strokeWidth="1.5"/>
            </svg>
        );

        const SchizophreniaSVG = ({className}) => (
            <svg viewBox="0 0 100 100" className={className}>
                <path d="M 40 20 C 20 20 20 50 20 70 L 40 70 C 40 50 50 40 50 20 Z" fill="#14b8a6" opacity="0.6"/>
                <path d="M 60 20 C 80 20 80 50 80 70 L 60 70 C 60 50 50 40 50 20 Z" fill="#8b5cf6" opacity="0.6"/>
                <circle cx="35" cy="45" r="3" fill="#fff"/>
                <circle cx="65" cy="45" r="3" fill="#fff"/>
                <path d="M 45 80 L 55 80" stroke="#334155" strokeWidth="2"/>
                <path d="M 30 65 Q 40 60 50 65 Q 60 60 70 65" fill="none" stroke="#fff" strokeWidth="2"/>
            </svg>
        );

        const ManiaSVG = ({className}) => (
            <svg viewBox="0 0 100 100" className={className}>
                <rect x="30" y="30" width="40" height="60" rx="4" fill="#f8fafc" stroke="#f59e0b" strokeWidth="2"/>
                <rect x="40" y="25" width="20" height="5" fill="#f59e0b"/>
                <rect x="35" y="60" width="30" height="25" fill="#f59e0b"/>
                <path d="M 50 50 L 40 70 L 55 65 L 45 85" fill="none" stroke="#fff" strokeWidth="2"/>
                <path d="M 20 40 Q 50 10 80 40" fill="none" stroke="#ef4444" strokeWidth="3" strokeDasharray="4 4"/>
            </svg>
        );

        const PregnancyECTSVG = ({className}) => (
            <svg viewBox="0 0 100 100" className={className}>
                <path d="M 50 20 C 40 20 35 30 35 40 C 35 50 30 60 30 70 C 30 90 70 90 70 70 C 70 60 65 50 65 40 C 65 30 60 20 50 20 Z" fill="#fbcfe8" stroke="#ec4899" strokeWidth="2"/>
                <circle cx="50" cy="70" r="12" fill="#fff" stroke="#ec4899" strokeWidth="1.5"/>
                <path d="M 45 70 C 45 65 55 65 55 70" fill="none" stroke="#ec4899" strokeWidth="1.5"/>
                <path d="M 65 25 L 75 15 L 85 25 L 75 35 Z" fill="#3b82f6"/>
            </svg>
        );

        const EpilepsySVG = ({className}) => (
            <svg viewBox="0 0 100 100" className={className}>
                <circle cx="50" cy="50" r="30" fill="#f8fafc" stroke="#8b5cf6" strokeWidth="2"/>
                <path d="M 50 20 L 45 45 L 30 40 L 45 55 L 40 80 L 55 60 L 70 65 L 55 45 Z" fill="#fcd34d" stroke="#f59e0b" strokeWidth="1.5"/>
                <circle cx="50" cy="50" r="45" fill="none" stroke="#8b5cf6" strokeWidth="1" strokeDasharray="4 4" opacity="0.5"/>
            </svg>
        );

        const NPOSVG = ({className}) => (
            <svg viewBox="0 0 100 100" className={className}>
                <ellipse cx="40" cy="60" rx="20" ry="8" fill="#cbd5e1"/>
                <rect x="65" y="40" width="15" height="25" rx="2" fill="#cbd5e1"/>
                <path d="M 65 45 L 80 45" stroke="#fff" strokeWidth="2"/>
                <circle cx="50" cy="50" r="40" fill="none" stroke="#ef4444" strokeWidth="4"/>
                <line x1="20" y1="20" x2="80" y2="80" stroke="#ef4444" strokeWidth="4"/>
            </svg>
        );

        const MedicationsSVG = ({className}) => (
            <svg viewBox="0 0 100 100" className={className}>
                <rect x="20" y="40" width="15" height="30" rx="2" fill="#bae6fd" stroke="#0284c7" strokeWidth="1.5"/>
                <rect x="23" y="35" width="9" height="5" fill="#e2e8f0" stroke="#64748b" strokeWidth="1"/>
                <rect x="45" y="50" width="15" height="20" rx="2" fill="#bbf7d0" stroke="#16a34a" strokeWidth="1.5"/>
                <rect x="48" y="45" width="9" height="5" fill="#e2e8f0" stroke="#64748b" strokeWidth="1"/>
                <rect x="75" y="20" width="8" height="40" fill="#f1f5f9" stroke="#94a3b8" strokeWidth="1.5" transform="rotate(45 75 20)"/>
                <line x1="60" y1="75" x2="50" y2="85" stroke="#94a3b8" strokeWidth="2"/>
            </svg>
        );

        const BiteBlockSVG = ({className}) => (
            <svg viewBox="0 0 100 100" className={className}>
                <path d="M 20 40 C 20 20 80 20 80 40 C 80 45 20 45 20 40 Z" fill="#fff" stroke="#94a3b8" strokeWidth="2"/>
                <path d="M 20 60 C 20 80 80 80 80 60 C 80 55 20 55 20 60 Z" fill="#fff" stroke="#94a3b8" strokeWidth="2"/>
                <rect x="30" y="42" width="40" height="16" rx="4" fill="#3b82f6" stroke="#1e3a8a" strokeWidth="2"/>
                <line x1="40" y1="42" x2="40" y2="58" stroke="#1e3a8a" strokeWidth="1"/>
                <line x1="50" y1="42" x2="50" y2="58" stroke="#1e3a8a" strokeWidth="1"/>
                <line x1="60" y1="42" x2="60" y2="58" stroke="#1e3a8a" strokeWidth="1"/>
            </svg>
        );

        const EmergencyCartSVG = ({className}) => (
            <svg viewBox="0 0 100 100" className={className}>
                <rect x="25" y="30" width="50" height="50" fill="#ef4444" stroke="#b91c1c" strokeWidth="2" rx="2"/>
                <rect x="30" y="35" width="40" height="10" fill="#fff"/>
                <rect x="30" y="50" width="40" height="10" fill="#fff"/>
                <rect x="30" y="65" width="40" height="10" fill="#fff"/>
                <path d="M 45 15 L 55 15 L 55 25 L 45 25 Z" fill="#fff" stroke="#ef4444" strokeWidth="1"/>
                <path d="M 40 20 L 60 20" stroke="#fff" strokeWidth="3"/>
                <path d="M 50 10 L 50 30" stroke="#fff" strokeWidth="3"/>
                <circle cx="35" cy="85" r="5" fill="#334155"/>
                <circle cx="65" cy="85" r="5" fill="#334155"/>
            </svg>
        );

        const RecoveryPositionSVG = ({className}) => (
            <svg viewBox="0 0 100 100" className={className}>
                <circle cx="30" cy="50" r="10" fill="#cbd5e1" stroke="#475569" strokeWidth="2"/>
                <path d="M 40 50 L 70 50" stroke="#475569" strokeWidth="4" strokeLinecap="round"/>
                <path d="M 45 50 L 55 30" stroke="#475569" strokeWidth="3" strokeLinecap="round"/>
                <path d="M 45 50 L 60 70 L 70 70" stroke="#475569" strokeWidth="3" strokeLinecap="round"/>
                <path d="M 70 50 L 85 50" stroke="#475569" strokeWidth="4" strokeLinecap="round"/>
                <path d="M 70 50 L 80 40 L 85 55" stroke="#475569" strokeWidth="4" strokeLinecap="round"/>
                <line x1="10" y1="80" x2="90" y2="80" stroke="#94a3b8" strokeWidth="2" strokeDasharray="4 4"/>
            </svg>
        );

        const BoneFractureSVG = ({className}) => (
            <svg viewBox="0 0 100 100" className={className}>
                <path d="M 20 40 C 10 40 10 60 20 60 C 25 60 30 55 30 50 L 70 50 C 70 55 75 60 80 60 C 90 60 90 40 80 40 C 75 40 70 45 70 50 L 30 50 C 30 45 25 40 20 40 Z" fill="#f8fafc" stroke="#475569" strokeWidth="2"/>
                <path d="M 45 40 L 55 50 L 45 55 L 50 60" fill="none" stroke="#ef4444" strokeWidth="2"/>
            </svg>
        );

        const DislocationSVG = ({className}) => (
            <svg viewBox="0 0 100 100" className={className}>
                <path d="M 30 30 C 10 30 10 70 30 70 C 40 70 50 60 50 50 C 50 40 40 30 30 30 Z" fill="#e2e8f0" stroke="#475569" strokeWidth="2"/>
                <circle cx="75" cy="40" r="15" fill="#f8fafc" stroke="#475569" strokeWidth="2"/>
                <path d="M 85 50 L 95 80" stroke="#475569" strokeWidth="8" strokeLinecap="round"/>
                <path d="M 55 45 L 65 45" stroke="#ef4444" strokeWidth="2" strokeDasharray="2 2" markerEnd="url(#red-arrow)"/>
                <defs>
                    <marker id="red-arrow" markerWidth="6" markerHeight="6" refX="3" refY="3" orient="auto">
                        <polygon points="0 0, 6 3, 0 6" fill="#ef4444" />
                    </marker>
                </defs>
            </svg>
        );

        const OximeterSVG = ({className}) => (
            <svg viewBox="0 0 100 100" className={className}>
                <path d="M 20 45 C 20 35 80 35 80 45 C 80 55 20 55 20 45 Z" fill="#fbcfe8" stroke="#ec4899" strokeWidth="2"/>
                <rect x="40" y="30" width="30" height="30" rx="4" fill="#334155"/>
                <rect x="45" y="35" width="20" height="15" fill="#000"/>
                <path d="M 45 45 Q 50 35 55 45 T 65 45" fill="none" stroke="#10b981" strokeWidth="1.5"/>
                <circle cx="45" cy="55" r="2" fill="#ef4444"/>
            </svg>
        );

        const ElectrodePlacementIllustration = () => (
            <div className="grid md:grid-cols-2 gap-4 my-6">
                <div className="bg-white p-4 rounded-lg border border-slate-200 shadow-sm flex flex-col items-center">
                    <h5 className="font-bold text-slate-700 mb-2">Bilateral ECT</h5>
                    <svg width="150" height="150" viewBox="0 0 100 100" className="mx-auto">
                        <ellipse cx="50" cy="50" rx="35" ry="40" fill="#f1f5f9" stroke="#94a3b8" strokeWidth="2" />
                        <path d="M 50 10 C 40 10 30 15 25 25" fill="none" stroke="#94a3b8" strokeWidth="2" /> 
                        <circle cx="15" cy="50" r="6" fill="#ef4444" />
                        <circle cx="85" cy="50" r="6" fill="#ef4444" />
                        <path d="M 25 50 L 45 40 L 40 60 L 65 45" fill="none" stroke="#f59e0b" strokeWidth="2" />
                        <path d="M 75 50 L 55 60 L 60 40 L 35 55" fill="none" stroke="#f59e0b" strokeWidth="2" />
                        <text x="50" y="5" fontSize="8" fill="#64748b" textAnchor="middle">Front</text>
                    </svg>
                    <p className="text-xs text-center text-slate-500 mt-2">Electrodes on both frontotemporal areas. More effective, but more cognitive side effects.</p>
                </div>

                <div className="bg-white p-4 rounded-lg border border-slate-200 shadow-sm flex flex-col items-center">
                    <h5 className="font-bold text-slate-700 mb-2">Unilateral ECT</h5>
                    <svg width="150" height="150" viewBox="0 0 100 100" className="mx-auto">
                        <ellipse cx="50" cy="50" rx="35" ry="40" fill="#f1f5f9" stroke="#94a3b8" strokeWidth="2" />
                        <path d="M 50 10 C 40 10 30 15 25 25" fill="none" stroke="#94a3b8" strokeWidth="2" />
                        <circle cx="85" cy="50" r="6" fill="#ef4444" />
                        <circle cx="50" cy="50" r="6" fill="#ef4444" />
                        <path d="M 80 50 L 65 45 L 70 55 L 55 50" fill="none" stroke="#f59e0b" strokeWidth="2" />
                        <text x="50" y="5" fontSize="8" fill="#64748b" textAnchor="middle">Front</text>
                    </svg>
                    <p className="text-xs text-center text-slate-500 mt-2">One electrode on frontotemporal, one on vertex (non-dominant side). Fewer cognitive side effects.</p>
                </div>
            </div>
        );

        const MechanismIllustration = () => (
            <div className="bg-white p-4 rounded-lg border border-slate-200 shadow-sm my-6 flex flex-col items-center">
                <h5 className="font-bold text-slate-700 mb-4">Proposed Mechanisms of Action</h5>
                <div className="flex justify-center items-center w-full max-w-lg">
                    <svg viewBox="0 0 360 150" className="w-full">
                        <rect x="10" y="60" width="40" height="30" rx="4" fill="#3b82f6" />
                        <path d="M 50 75 Q 75 75 90 50" fill="none" stroke="#94a3b8" strokeWidth="2" strokeDasharray="4 2" />
                        <path d="M 100 50 C 100 20 150 20 150 50 C 150 20 200 20 200 50 C 200 80 150 100 150 100 C 150 100 100 80 100 50 Z" fill="#fbcfe8" stroke="#ec4899" strokeWidth="2"/>
                        <Zap className="text-amber-500" x="140" y="40" width="20" height="20" />
                        <path d="M 200 40 L 230 20" fill="none" stroke="#cbd5e1" strokeWidth="2" markerEnd="url(#arrow)" />
                        <circle cx="240" cy="20" r="10" fill="#10b981" />
                        <text x="255" y="23" fontSize="8" fill="#334155">↑ Serotonin/Dopamine</text>
                        <path d="M 200 60 L 230 60" fill="none" stroke="#cbd5e1" strokeWidth="2" markerEnd="url(#arrow)" />
                        <circle cx="240" cy="60" r="10" fill="#8b5cf6" />
                        <text x="255" y="63" fontSize="8" fill="#334155">Release of Hormones</text>
                        <path d="M 190 80 L 230 100" fill="none" stroke="#cbd5e1" strokeWidth="2" markerEnd="url(#arrow)" />
                        <circle cx="240" cy="100" r="10" fill="#f59e0b" />
                        <text x="255" y="103" fontSize="8" fill="#334155">↑ Seizure Threshold</text>
                        <defs>
                            <marker id="arrow" markerWidth="6" markerHeight="6" refX="0" refY="3" orient="auto-start-reverse">
                                <polygon points="0 0, 6 3, 0 6" fill="#cbd5e1" />
                            </marker>
                        </defs>
                    </svg>
                </div>
            </div>
        );

        // --- APPLICATION CODE ---

        const SECTIONS = {
            INTRO: 'introduction',
            BASICS: 'basics',
            TYPES: 'types',
            MANAGEMENT: 'management',
            QUIZ: 'quiz'
        };

        const LECTURE_DATA = {
            objectives: [
                "Describe how ECT works.",
                "Compare bilateral and unilateral ECT.",
                "Identify the indications for using ECT.",
                "Recognize side effects of ECT.",
                "Analyze the condition associated with increased risk during ECT.",
                "Explain the ECT procedure.",
                "Formulate nursing interventions for the client undergoing ECT.",
                "Appraise the complication of ECT."
            ],
            intro: [
                "With the advance in biological therapy and neurosciences, the use of somatic therapies for psychiatric illness has increased.",
                "Somatic therapies mean any type of therapy that is applied to the soma (body) including electroconvulsive therapy, phototherapy, sleep deprivation therapy, transcranial magnetic stimulation, and vagal nerve stimulation and deep brain stimulation.",
                "Electro-Convulsive Therapy (ECT) is one type of the somatic therapy.",
                "ECT was first described in 1938 as a treatment for schizophrenia, and then generalized for the treatment of several disorders especially mood disorders."
            ],
            basics: {
                definition: {
                    title: "Definition of ECT",
                    icon: <Zap className="w-5 h-5 text-amber-500" />,
                    illustration: <ECTMachineSVG className="w-24 h-24 mx-auto mb-4" />,
                    points: [
                        "Is a treatment in which a brief grand-mal seizure is artificially induced by passing electric currents through electrodes that are applied to the client's temples.",
                        "The electrical stimulus is adjusted to the minimum electrical current that will produce a seizure.",
                        "It ranges from 70 to 150 microvolts, calculated according to the client's age and weight, for a duration of 0.5 to 1 second.",
                        "ECT is used in conjunction with psychotropic medications.",
                        "A usual course is ranging from 6 to 12 sessions given two or three times per week according to the client's condition and response."
                    ]
                },
                mechanism: {
                    title: "Mechanism of Action",
                    intro: "The exact mechanism of action of ECT as therapy is unknown. However, ECT is believed to produce a therapeutic effect based on the following theories:",
                    theories: [
                        { term: "Neurotransmitters theory", def: "It was suggested that ECT acts like tricyclic antidepressant medications by increasing serotonin and dopamine levels.", illustration: <SynapseSVG className="w-16 h-16"/> },
                        { term: "Endocrine theory", def: "The ECT stimulates the hypothalamus and the pituitary gland, causing a release of various hormones, such as prolactin, TSH, ACTH, and endorphins. These produce an anti-depressant effect.", illustration: <EndocrineSVG className="w-16 h-16"/> },
                        { term: "Anticonvulsant theory", def: "Arose from the observation that seizure threshold often rises, and seizure duration shortens over a course of ECT. The hypothesis is that the inhibitory brain process associated with the rise in seizure threshold is responsible for depression relief." }
                    ]
                },
                indications: [
                    { term: "1. Major Depressive Disorder", def: "The primary indication. Especially when associated with suicidal ideation, stupor, refusal of food, or clients not responding to antidepressant medications.", illustration: <DepressionSVG className="w-12 h-12 mb-2"/> },
                    { term: "2. Schizophrenia", def: "Catatonic schizophrenia (stupor or excitement), acute paranoid schizophrenia with excitement, or clients not responding to antipsychotic medications.", illustration: <SchizophreniaSVG className="w-12 h-12 mb-2"/> },
                    { term: "3. Acute Mania", def: "Especially for those having a dangerous level of exhaustion.", illustration: <ManiaSVG className="w-12 h-12 mb-2"/> },
                    { term: "4. Pregnancy", def: "Depressed suicidal pregnant women.", illustration: <PregnancyECTSVG className="w-12 h-12 mb-2"/> },
                    { term: "5. Epilepsy", def: "Epileptic client with prolonged aura stage.", illustration: <EpilepsySVG className="w-12 h-12 mb-2"/> }
                ]
            },
            typesAndEffects: {
                typesTechnique: [
                    { term: "Non-modified (Straight) type", def: "The patient is not given any medication before the procedure." },
                    { term: "Modified type", def: "The patient is given medications:", details: [
                        "Anesthetic agents: e.g., Pentothal, intraval sodium (short-acting).",
                        "Muscle relaxant agents: e.g., succinylcholine chloride. Administered to minimize the risk of bone fracture and injuries from motor activity during seizures. Goal is to produce muscle relaxation."
                    ], illustration: <MedicationsSVG className="w-16 h-16"/> }
                ],
                typesPlacement: [
                    { term: "Bilateral type", def: "Electrodes applied to the frontotemporal areas on each side of the head (bitemporal/bifrontotemporal)." },
                    { term: "Unilateral type", def: "Electrodes placed on one side of the head (non-dominant hemisphere). One in frontotemporal area, the other in the vertex. Less effective, but fewer cognitive side effects." }
                ],
                sideEffects: [
                    { term: "Cognitive side effects", def: "Confusion, Disorientation, Temporary memory loss / short-term memory loss." },
                    { term: "Other side effects", def: "Headache, Dizziness, Muscle aches, Nausea, Transient cardiac arrhythmia." }
                ],
                contraindications: {
                    intro: "The modified type of ECT has no absolute contraindications. The following are relative contraindications mainly for the non-modified (straight) type:",
                    items: [
                        "Medical conditions causing increased intracranial pressure (brain tumors, cerebral hemorrhage).",
                        "Recent myocardial infarction.",
                        "Aortic aneurysms.",
                        "Hypertension.",
                        "Severe Hypo or Hyperthyroidism.",
                        "Osteoporosis.",
                        "Uncontrolled Fever.",
                        "Fractures or history of recent fractures.",
                        "Pulmonary diseases including active T.B and asthma."
                    ]
                }
            },
            management: {
                preparation: [
                    { term: "1. Educating and Informed Consent", details: [
                        "Educate about nature, harmless/painless procedure, benefits, and adverse effects.",
                        "Help client express feelings/concerns, identify misconceptions, provide reassurance.",
                        "Obtain informed consent signed by patient or family caregiver. Document in records."
                    ]},
                    { term: "2. The Night Before ECT", details: [
                        "NPO state for 6 hours before ECT to prevent aspiration.",
                        "Check temperature, pulse, and blood pressure.",
                        "Promote sleep through relaxation techniques.",
                        "Stop night dose of antipsychotic medications (as directed) due to epileptogenic side effects."
                    ], illustration: <NPOSVG className="w-16 h-16" />},
                    { term: "3. Immediately Before ECT", details: [
                        "Remove nail polish and make-up (for better physical assessment).",
                        "Wear comfortable clothes, loosen tight clothes.",
                        "Remove prostheses (dentures, glasses, contacts, hearing aids) to prevent injury.",
                        "Remove hair clips, pins, jewelry to prevent electrical interference.",
                        "Place in a calm environment (away from others receiving ECT). Provide diversion.",
                        "Encourage emptying the bladder.",
                        "Check vital signs."
                    ]}
                ],
                equipment: [
                    "Treatment device: ECT machine, electrode pads, gel/saline, alcohol sponges.",
                    "Monitoring: ECG, EEG electrodes, BP cuffs, pulse oximeter, stethoscope.",
                    "Mouth gags (bite-blocks): rubber/plastic to protect lips and teeth.",
                    "Medications (Modified): atropine, IV anesthesia, muscle relaxant.",
                    "Emergency cart: laryngoscope, Ambo bag, oral airway, oxygen, suction.",
                    "Bed: firm, adequate height, side rails, mackintosh covers.",
                    "Client's medical record."
                ],
                duringProcedure: {
                    intro: "The nurse remains with the patient. Patient is introduced to the team and roles are explained.",
                    nonModified: [
                        "Supine position, legs uncrossed, feet/hands exposed to see colonic phase.",
                        "Insert IV line, place monitors (pulse oximeter, BP cuff).",
                        "Clean electrode sites with alcohol.",
                        "Support shoulders and hip joints firmly to prevent dislocation.",
                        "Support jaw against mouth gag, neck extended.",
                        "Administer shock: violent clenching, epileptic cry, then modified colonic stage (lasts up to 2 mins, breathing inadequate).",
                        "When unconscious, turn to side in semi-prone position until conscious."
                    ],
                    modified: [
                        "IM atropine given 30 mins before treatment.",
                        "IV anesthetic given, followed by muscle relaxant.",
                        "Administer Oxygen for 30-45 seconds until muscle relaxant takes effect (patient paralyzed/unconscious).",
                        "Administer shock.",
                        "Check movements (hyperflexion of big toe, eyelid blinking).",
                        "Ventilate with oxygen until breathing adequately without assistance."
                    ]
                },
                recovery: [
                    "Nurse in semi-prone position until conscious.",
                    "Patient awakens in 20-30 mins, appears confused/unsteady. Do not leave alone.",
                    "Elevate side rails to prevent falls.",
                    "Monitor vital signs, nail/lip color (cyanosis), LOC. Give O2 if cyanosis occurs.",
                    "Manage agitation with tactful restraint to prevent injury.",
                    "Provide orientation, reassurance, and repeat information.",
                    "Instruct outpatient clients to avoid driving for at least 24 hours.",
                    "Document: vitals, meds, response, side effects, seizure length.",
                    "Provide meal and medications after regaining consciousness. Empathize.",
                    "Allow client to sleep."
                ],
                complications: [
                    "Occur mainly due to poor nursing/medical management:",
                    "Dislocation (hip, shoulder, jaw).",
                    "Fracture of bones.",
                    "Biting or injuries to tongue, teeth, or lips.",
                    "Aspiration or suffocation.",
                    "Falling."
                ]
            }
        };

        const QUIZ_QUESTIONS = [
            {
                q: "What is the primary indication for ECT?",
                options: ["Mild anxiety", "Major depressive disorder", "Simple phobia", "Obsessive-compulsive disorder"],
                correct: 1
            },
            {
                q: "Which type of electrode placement is generally associated with fewer cognitive side effects?",
                options: ["Bilateral", "Bifrontotemporal", "Unilateral", "Modified"],
                correct: 2
            },
            {
                q: "In 'Modified ECT', what is the purpose of administering succinylcholine chloride?",
                options: ["To induce sleep", "To increase the seizure duration", "To reduce anxiety", "To relax muscles and prevent fractures"],
                correct: 3
            },
            {
                q: "How long should a patient typically be NPO (nothing by mouth) before an ECT procedure?",
                options: ["2 hours", "4 hours", "6 hours", "12 hours"],
                correct: 2
            },
            {
                q: "Which of the following is considered a relative contraindication for straight (non-modified) ECT?",
                options: ["Pregnancy", "Increased intracranial pressure", "Acute mania", "Schizophrenia"],
                correct: 1
            }
        ];

        // --- COMPONENTS ---

        const Card = ({ children, className = "" }) => (
            <div className={`bg-white rounded-xl shadow-sm border border-slate-200 p-4 ${className}`}>
                {children}
            </div>
        );

        const SectionHeader = ({ title, icon, color }) => (
            <div className={`flex items-center gap-3 mb-6 p-4 rounded-lg ${color} bg-opacity-10`}>
                <div className={`p-2 rounded-full bg-white shadow-sm ${color.replace('bg-', 'text-')}`}>
                    {icon}
                </div>
                <h2 className="text-2xl font-bold text-slate-800">{title}</h2>
            </div>
        );

        const TermItem = ({ term, def, details, icon, isPathology, illustration }) => {
            const [isOpen, setIsOpen] = useState(false);
            const hasExtra = details && details.length > 0;
            
            return (
                <div className={`mb-3 border-l-4 ${isPathology ? 'border-red-400' : 'border-indigo-400'} bg-slate-50 rounded-r-lg overflow-hidden transition-all duration-300`}>
                    <div 
                        className={`p-3 flex justify-between items-start ${hasExtra ? 'cursor-pointer hover:bg-slate-100' : ''}`}
                        onClick={() => hasExtra && setIsOpen(!isOpen)}
                    >
                        <div className="flex items-start gap-3 w-full">
                            {icon && <span className="mt-1 text-slate-500">{icon}</span>}
                            <div className="flex-1">
                                <h4 className="font-bold text-slate-800 text-lg">{term}</h4>
                                {def && <p className="text-slate-600 text-sm leading-relaxed mt-1">{def}</p>}
                                {hasExtra && !isOpen && <p className="text-xs text-indigo-500 mt-1">Click to view details...</p>}
                            </div>
                            {illustration && (
                                <div className="hidden sm:block ml-4 self-center">
                                    {illustration}
                                </div>
                            )}
                        </div>
                        {hasExtra && (
                            <button className="text-slate-400 hover:text-indigo-600 mt-1 ml-2">
                                {isOpen ? <ChevronUp size={20} /> : <ChevronDown size={20} />}
                            </button>
                        )}
                    </div>
                    
                    {isOpen && hasExtra && (
                        <div className="bg-white p-3 border-t border-slate-200 text-sm animate-in fade-in slide-in-from-top-1">
                            <ul className="list-disc list-inside space-y-1 text-slate-700 pl-2">
                                {details.map((item, i) => <li key={i}>{item}</li>)}
                            </ul>
                        </div>
                    )}
                </div>
            );
        };

        function SomaticTherapyApp() {
            const [activeSection, setActiveSection] = useState(SECTIONS.INTRO);
            const [quizScore, setQuizScore] = useState(0);
            const [quizSubmitted, setQuizSubmitted] = useState(false);
            const [quizAnswers, setQuizAnswers] = useState({});

            const handleNavClick = (section) => {
                setActiveSection(section);
                window.scrollTo({ top: 0, behavior: 'smooth' });
            };

            const handleQuizOption = (qIndex, optIndex) => {
                if (quizSubmitted) return;
                setQuizAnswers(prev => ({ ...prev, [qIndex]: optIndex }));
            };

            const submitQuiz = () => {
                let score = 0;
                QUIZ_QUESTIONS.forEach((q, i) => {
                    if (quizAnswers[i] === q.correct) score++;
                });
                setQuizScore(score);
                setQuizSubmitted(true);
            };

            const resetQuiz = () => {
                setQuizAnswers({});
                setQuizSubmitted(false);
                setQuizScore(0);
            };

            // --- Views ---

            const IntroView = () => (
                <div className="space-y-8 animate-in fade-in duration-500">
                    <div className="bg-gradient-to-r from-indigo-700 to-cyan-600 text-white p-8 rounded-2xl shadow-xl relative overflow-hidden flex flex-col md:flex-row items-center gap-6">
                        <div className="relative z-10 flex-1">
                            <h1 className="text-4xl font-extrabold mb-4">Somatic Therapy (ECT)</h1>
                            <div className="text-indigo-100 text-base max-w-2xl space-y-2">
                                {LECTURE_DATA.intro.map((p, i) => <p key={i}>{p}</p>)}
                            </div>
                            <div className="mt-6 flex gap-3">
                                <button onClick={() => handleNavClick(SECTIONS.BASICS)} className="bg-white text-indigo-700 px-6 py-2 rounded-full font-bold hover:bg-indigo-50 transition">Start Learning</button>
                                <button onClick={() => handleNavClick(SECTIONS.QUIZ)} className="bg-indigo-900 bg-opacity-30 text-white border border-indigo-400 px-6 py-2 rounded-full font-bold hover:bg-indigo-900 transition">Take Quiz</button>
                            </div>
                        </div>
                        <div className="relative z-10 hidden md:block">
                            <SomaticTherapiesSVG className="w-48 h-48 drop-shadow-lg" />
                        </div>
                        <Activity className="absolute top-10 right-10 text-white opacity-5 w-64 h-64" />
                    </div>

                    <Card className="border-l-4 border-l-amber-500 bg-amber-50/30">
                        <h3 className="text-xl font-bold mb-4 flex items-center gap-2 text-slate-800">
                            <ListChecks className="text-amber-500" /> Learning Objectives
                        </h3>
                        <div className="grid md:grid-cols-2 gap-3">
                            {LECTURE_DATA.objectives.map((obj, i) => (
                                <div key={i} className="flex gap-2 items-start">
                                    <span className="bg-amber-100 text-amber-700 px-2 rounded text-xs font-bold mt-0.5">{i+1}</span>
                                    <span className="text-slate-700 text-sm">{obj}</span>
                                </div>
                            ))}
                        </div>
                    </Card>
                </div>
            );

            const BasicsView = () => (
                <div className="animate-in slide-in-from-right-4 duration-500">
                    <SectionHeader title="1. Basics of ECT" icon={<BookOpen size={32} />} color="bg-cyan-100 text-cyan-700" />
                    
                    <div className="space-y-8">
                        {/* Definition */}
                        <Card className="shadow-sm border-slate-200">
                            <div className="flex flex-col md:flex-row items-start gap-6">
                                <div className="flex-1">
                                    <h3 className="text-xl font-bold text-slate-800 mb-4 flex items-center gap-2 border-b pb-2">
                                        {LECTURE_DATA.basics.definition.icon} {LECTURE_DATA.basics.definition.title}
                                    </h3>
                                    <ul className="list-disc list-inside space-y-2 text-slate-700 pl-2">
                                        {LECTURE_DATA.basics.definition.points.map((pt, i) => <li key={i}>{pt}</li>)}
                                    </ul>
                                </div>
                                <div className="hidden md:block w-32 flex-shrink-0 bg-slate-50 p-4 rounded border border-slate-100">
                                    {LECTURE_DATA.basics.definition.illustration}
                                </div>
                            </div>
                        </Card>

                        {/* Mechanism */}
                        <section>
                            <h3 className="text-xl font-bold text-slate-800 mb-4 flex items-center gap-2">
                                <Settings className="text-cyan-600" /> {LECTURE_DATA.basics.mechanism.title}
                            </h3>
                            <p className="mb-4 text-sm text-slate-600">{LECTURE_DATA.basics.mechanism.intro}</p>
                            
                            <MechanismIllustration />

                            <div className="grid gap-3">
                                {LECTURE_DATA.basics.mechanism.theories.map((theory, idx) => (
                                    <TermItem key={idx} term={theory.term} def={theory.def} illustration={theory.illustration} />
                                ))}
                            </div>
                        </section>

                        {/* Indications */}
                        <section>
                            <h3 className="text-xl font-bold text-slate-800 mb-4 flex items-center gap-2">
                                <HeartPulse className="text-rose-500" /> Indications for ECT
                            </h3>
                            <div className="grid sm:grid-cols-2 lg:grid-cols-3 gap-4">
                                {LECTURE_DATA.basics.indications.map((ind, idx) => (
                                    <Card key={idx} className="border-t-4 border-t-rose-400 hover:shadow-md transition text-center flex flex-col items-center">
                                        {ind.illustration}
                                        <h4 className="font-bold text-slate-800 mb-2">{ind.term}</h4>
                                        <p className="text-sm text-slate-600">{ind.def}</p>
                                    </Card>
                                ))}
                            </div>
                        </section>
                    </div>
                </div>
            );

            const TypesView = () => (
                <div className="animate-in slide-in-from-right-4 duration-500">
                    <SectionHeader title="2. Types & Effects" icon={<Activity size={32} />} color="bg-amber-100 text-amber-600" />
                    
                    <div className="space-y-8">
                        {/* Types */}
                        <section>
                            <h3 className="text-xl font-bold text-slate-800 mb-4 border-b pb-2">Types of ECT</h3>
                            
                            <h4 className="font-bold text-indigo-700 mb-3 uppercase text-sm tracking-wide">I. According to Technique:</h4>
                            <div className="grid md:grid-cols-2 gap-4 mb-6">
                                {LECTURE_DATA.typesAndEffects.typesTechnique.map((type, i) => (
                                    <TermItem key={i} term={type.term} def={type.def} details={type.details} illustration={type.illustration} />
                                ))}
                            </div>

                            <h4 className="font-bold text-indigo-700 mb-3 uppercase text-sm tracking-wide">II. According to Electrode Placement:</h4>
                            <ElectrodePlacementIllustration />
                            <div className="grid md:grid-cols-2 gap-4">
                                {LECTURE_DATA.typesAndEffects.typesPlacement.map((type, i) => (
                                    <TermItem key={i} term={type.term} def={type.def} />
                                ))}
                            </div>
                        </section>

                        {/* Side Effects & Contraindications */}
                        <div className="grid md:grid-cols-2 gap-6">
                            <Card className="bg-orange-50/50 border-orange-200">
                                <h3 className="text-xl font-bold text-orange-800 mb-4 flex items-center gap-2">
                                    <AlertCircle className="text-orange-500" /> Side Effects
                                </h3>
                                <div className="space-y-3">
                                    {LECTURE_DATA.typesAndEffects.sideEffects.map((se, i) => (
                                        <TermItem key={i} term={se.term} def={se.def} />
                                    ))}
                                </div>
                            </Card>

                            <Card className="bg-red-50/50 border-red-200">
                                <h3 className="text-xl font-bold text-red-800 mb-4 flex items-center gap-2">
                                    <ShieldAlert className="text-red-500" /> Contraindications
                                </h3>
                                <p className="text-xs text-red-700 mb-3 font-medium">{LECTURE_DATA.typesAndEffects.contraindications.intro}</p>
                                <ul className="list-disc list-inside space-y-1 text-sm text-red-900 pl-2">
                                    {LECTURE_DATA.typesAndEffects.contraindications.items.map((item, i) => (
                                        <li key={i}>{item}</li>
                                    ))}
                                </ul>
                            </Card>
                        </div>
                    </div>
                </div>
            );

            const ManagementView = () => (
                <div className="animate-in slide-in-from-right-4 duration-500">
                    <SectionHeader title="3. Nursing Management" icon={<UserCheck size={32} />} color="bg-emerald-100 text-emerald-600" />
                    
                    <div className="space-y-6">
                        {/* Preparation */}
                        <Card className="border-t-4 border-t-emerald-400">
                            <h3 className="text-lg font-bold text-slate-800 mb-4">I. Preparation of the Client</h3>
                            <div className="space-y-3">
                                {LECTURE_DATA.management.preparation.map((prep, i) => (
                                    <TermItem key={i} term={prep.term} details={prep.details} illustration={prep.illustration} />
                                ))}
                            </div>
                        </Card>

                        {/* Equipment */}
                        <Card className="bg-slate-50 border-slate-200">
                            <h3 className="text-lg font-bold text-slate-800 mb-4 flex items-center gap-2">
                                <Stethoscope className="text-slate-500" /> II. Preparation of Equipment
                            </h3>
                            <div className="flex gap-4 items-start">
                                <div className="grid md:grid-cols-2 gap-2 flex-1">
                                    {LECTURE_DATA.management.equipment.map((eq, i) => (
                                        <div key={i} className="flex gap-2 items-start text-sm text-slate-700 bg-white p-2 rounded border border-slate-100">
                                            <Zap className="text-amber-400 w-4 h-4 flex-shrink-0 mt-0.5" />
                                            <span>{eq}</span>
                                        </div>
                                    ))}
                                </div>
                                <div className="hidden lg:flex flex-col gap-2 w-24">
                                    <BiteBlockSVG className="w-16 h-16 self-center drop-shadow" />
                                    <EmergencyCartSVG className="w-16 h-16 self-center drop-shadow mt-2" />
                                </div>
                            </div>
                        </Card>

                        {/* During Procedure */}
                        <Card>
                            <h3 className="text-lg font-bold text-slate-800 mb-3">III. Management During Procedure</h3>
                            <p className="text-sm text-slate-600 mb-4 italic">{LECTURE_DATA.management.duringProcedure.intro}</p>
                            
                            <div className="grid md:grid-cols-2 gap-4 relative">
                                <div className="bg-blue-50 p-4 rounded-lg">
                                    <h4 className="font-bold text-blue-800 mb-3">Non-Modified Type</h4>
                                    <ul className="list-disc list-inside space-y-2 text-sm text-blue-900">
                                        {LECTURE_DATA.management.duringProcedure.nonModified.map((pt, i) => <li key={i}>{pt}</li>)}
                                    </ul>
                                </div>
                                <div className="bg-indigo-50 p-4 rounded-lg">
                                    <h4 className="font-bold text-indigo-800 mb-3">Modified Type</h4>
                                    <ul className="list-disc list-inside space-y-2 text-sm text-indigo-900 relative z-10">
                                        {LECTURE_DATA.management.duringProcedure.modified.map((pt, i) => <li key={i}>{pt}</li>)}
                                    </ul>
                                    <OximeterSVG className="w-20 h-20 absolute bottom-4 right-4 opacity-20 z-0" />
                                </div>
                            </div>
                        </Card>

                        {/* Recovery & Complications */}
                        <div className="grid md:grid-cols-3 gap-6">
                            <Card className="md:col-span-2 border-l-4 border-l-teal-400">
                                <div className="flex justify-between items-start mb-4">
                                    <h3 className="text-lg font-bold text-slate-800">IV. Recovery Period (Aftercare)</h3>
                                    <RecoveryPositionSVG className="w-16 h-16" />
                                </div>
                                <ul className="grid sm:grid-cols-2 gap-2 list-none text-sm text-slate-700">
                                    {LECTURE_DATA.management.recovery.map((pt, i) => (
                                        <li key={i} className="flex gap-2 bg-slate-50 p-2 rounded">
                                            <span className="text-teal-500 font-bold">•</span> {pt}
                                        </li>
                                    ))}
                                </ul>
                            </Card>

                            <Card className="bg-red-50/50 border-red-200">
                                <h3 className="text-lg font-bold text-red-800 mb-2 flex items-center gap-2">
                                    <AlertCircle className="w-5 h-5 text-red-500" /> Complications
                                </h3>
                                <p className="text-xs text-red-600 mb-3">{LECTURE_DATA.management.complications[0]}</p>
                                <ul className="space-y-1 text-sm text-red-900 font-medium pl-2 mb-4">
                                    {LECTURE_DATA.management.complications.slice(1).map((comp, i) => (
                                        <li key={i} className="flex gap-2 items-center">
                                            <div className="w-1.5 h-1.5 rounded-full bg-red-400"></div> {comp}
                                        </li>
                                    ))}
                                </ul>
                                <div className="flex justify-around mt-4 pt-4 border-t border-red-200">
                                    <DislocationSVG className="w-12 h-12" />
                                    <BoneFractureSVG className="w-12 h-12" />
                                </div>
                            </Card>
                        </div>
                    </div>
                </div>
            );

            const QuizView = () => (
                <div className="animate-in slide-in-from-right-4 duration-500 max-w-2xl mx-auto">
                    <SectionHeader title="Knowledge Check" icon={<Lightbulb size={32} />} color="bg-yellow-100 text-yellow-600" />
                    
                    {!quizSubmitted ? (
                        <div className="space-y-6">
                        {QUIZ_QUESTIONS.map((q, qIndex) => (
                            <Card key={qIndex} className="p-6">
                                <h4 className="font-bold text-lg mb-4 text-slate-800">{qIndex + 1}. {q.q}</h4>
                                <div className="space-y-2">
                                    {q.options.map((opt, optIndex) => (
                                    <button
                                        key={optIndex}
                                        onClick={() => handleNavClick && handleQuizOption(qIndex, optIndex)}
                                        className={`w-full text-left p-3 rounded border transition-colors ${
                                        quizAnswers[qIndex] === optIndex 
                                            ? 'bg-indigo-100 border-indigo-500 text-indigo-800' 
                                            : 'bg-slate-50 border-slate-200 hover:bg-slate-100'
                                        }`}
                                    >
                                        {opt}
                                    </button>
                                    ))}
                                </div>
                            </Card>
                        ))}
                        <button 
                            onClick={submitQuiz}
                            disabled={Object.keys(quizAnswers).length < QUIZ_QUESTIONS.length}
                            className="w-full py-3 bg-indigo-600 text-white rounded-lg font-bold disabled:opacity-50 hover:bg-indigo-700 transition"
                        >
                            Submit Answers
                        </button>
                        </div>
                    ) : (
                        <Card className="text-center p-8">
                            <div className="text-5xl mb-4">{quizScore >= 4 ? '🎉' : '📚'}</div>
                            <h2 className="text-2xl font-bold mb-2">You scored {quizScore} / {QUIZ_QUESTIONS.length}</h2>
                            <p className="text-slate-600 mb-6">
                                {quizScore === 5 ? "Perfect! You understand ECT thoroughly." : "Good effort! Review the sections to master the concepts."}
                            </p>
                            <button onClick={resetQuiz} className="bg-slate-800 text-white px-6 py-2 rounded-full hover:bg-slate-700">Try Again</button>
                        </Card>
                    )}
                </div>
            );

            return (
                <div className="min-h-screen bg-slate-50 font-sans text-slate-800 flex flex-col">
                    {/* Top Navigation */}
                    <nav className="bg-white shadow-sm sticky top-0 z-50">
                        <div className="max-w-6xl mx-auto px-4 h-16 flex items-center justify-between">
                            <div className="flex items-center gap-2 font-bold text-sm md:text-lg text-indigo-800 cursor-pointer" onClick={() => handleNavClick(SECTIONS.INTRO)}>
                                <DepartmentLogo className="w-10 h-10 md:w-12 md:h-12 flex-shrink-0 drop-shadow-sm" />
                                <span className="hidden sm:inline">Psychiatric and Mental Health Nursing Department</span>
                                <span className="sm:hidden">Psychiatric Nursing</span>
                            </div>
                            
                            <div className="hidden lg:flex gap-1">
                                {[
                                    { id: SECTIONS.INTRO, label: 'Intro', icon: <BookOpen size={16}/> },
                                    { id: SECTIONS.BASICS, label: 'Basics', icon: <Zap size={16}/> },
                                    { id: SECTIONS.TYPES, label: 'Types & Effects', icon: <Activity size={16}/> },
                                    { id: SECTIONS.MANAGEMENT, label: 'Management', icon: <UserCheck size={16}/> },
                                    { id: SECTIONS.QUIZ, label: 'Quiz', icon: <Lightbulb size={16}/> },
                                ].map(nav => (
                                    <button
                                        key={nav.id}
                                        onClick={() => handleNavClick(nav.id)}
                                        className={`flex items-center gap-2 px-3 py-2 rounded-full text-sm font-medium transition-colors ${
                                        activeSection === nav.id 
                                            ? 'bg-indigo-100 text-indigo-700' 
                                            : 'text-slate-600 hover:bg-slate-100'
                                        }`}
                                    >
                                        {nav.icon} {nav.label}
                                    </button>
                                ))}
                            </div>
                        </div>
                    </nav>

                    {/* Mobile Navigation Bar (Bottom) */}
                    <div className="lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 flex justify-around p-2 z-50">
                        {[
                            { id: SECTIONS.INTRO, icon: <BookOpen size={20}/> },
                            { id: SECTIONS.BASICS, icon: <Zap size={20}/> },
                            { id: SECTIONS.TYPES, icon: <Activity size={20}/> },
                            { id: SECTIONS.MANAGEMENT, icon: <UserCheck size={20}/> },
                            { id: SECTIONS.QUIZ, icon: <Lightbulb size={20}/> },
                        ].map(nav => (
                            <button
                                key={nav.id}
                                onClick={() => handleNavClick(nav.id)}
                                className={`p-2 rounded-full transition-colors ${
                                    activeSection === nav.id ? 'bg-indigo-100 text-indigo-700' : 'text-slate-500'
                                }`}
                            >
                                {nav.icon}
                            </button>
                        ))}
                    </div>

                    {/* Main Content Area */}
                    <main className="max-w-5xl mx-auto px-4 py-8 pb-24 lg:pb-8 flex-grow">
                        {activeSection === SECTIONS.INTRO && <IntroView />}
                        {activeSection === SECTIONS.BASICS && <BasicsView />}
                        {activeSection === SECTIONS.TYPES && <TypesView />}
                        {activeSection === SECTIONS.MANAGEMENT && <ManagementView />}
                        {activeSection === SECTIONS.QUIZ && <QuizView />}
                    </main>

                    {/* Footer */}
                    <footer className="bg-slate-900 text-slate-300 py-10 mt-12 mb-16 lg:mb-0 border-t-4 border-indigo-600">
                        <div className="max-w-5xl mx-auto px-6 flex flex-col md:flex-row items-center md:items-start justify-between gap-8">
                            <div className="flex flex-col sm:flex-row items-center sm:items-start gap-5 text-center sm:text-left">
                                <FacultyLogo className="w-24 h-28 flex-shrink-0 drop-shadow-md" />
                                <div className="mt-2">
                                    <p className="mb-1 text-lg font-bold text-white">Psychiatric Nursing & Mental Health</p>
                                    <p className="text-sm text-slate-400 max-w-xs">Somatic Therapy (ECT) • Educational Material</p>
                                </div>
                            </div>
                            
                            <div className="text-center md:text-right space-y-2 text-sm border-t md:border-t-0 border-slate-700 pt-6 md:pt-0 w-full md:w-auto">
                                <p className="flex flex-col sm:block"><span className="text-slate-500 text-xs uppercase tracking-wider block sm:inline sm:mr-2">Dean of The Faculty:</span> <span className="text-slate-200">Prof. Dr. Hanan Hosny El-Sherbiny</span></p>
                                <p className="flex flex-col sm:block"><span className="text-slate-500 text-xs uppercase tracking-wider block sm:inline sm:mr-2">Acting Head of Department:</span> <span className="text-slate-200">Asst. Prof. Dr. Mayar Ezz-Eldin El-Naqeeb</span></p>
                                <p className="flex flex-col sm:block"><span className="text-slate-500 text-xs uppercase tracking-wider block sm:inline sm:mr-2">Created by:</span> <span className="font-semibold text-white">M.Abdallah Abozaid</span></p>
                            </div>
                        </div>
                    </footer>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<SomaticTherapyApp />);
    </script>
</body>
</html>