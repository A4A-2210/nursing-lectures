<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Therapeutic Communication</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel for JSX compilation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Lucide Icons (Vanilla) -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f8fafc; }
        /* Arabic Font support */
        @import url('https://fonts.googleapis.com/css2?family=Noto+Kufi+Arabic:wght@400;700&display=swap');
        .font-arabic { font-family: 'Noto Kufi Arabic', sans-serif; }
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef, useLayoutEffect } = React;

        // --- ICON SYSTEM SETUP ---
        const IconWrapper = ({ name, ...props }) => {
            const ref = useRef(null);
            
            useLayoutEffect(() => {
                if (ref.current && window.lucide && window.lucide.icons[name]) {
                    const iconElement = window.lucide.createElement(window.lucide.icons[name]);
                    if (props.className) {
                        const existingClass = iconElement.getAttribute('class') || '';
                        iconElement.setAttribute('class', `${existingClass} ${props.className}`);
                    }
                    if (props.size) {
                        iconElement.setAttribute('width', props.size);
                        iconElement.setAttribute('height', props.size);
                    }
                    ref.current.innerHTML = '';
                    ref.current.appendChild(iconElement);
                }
            }, [name, props.className, props.size]);

            return <span ref={ref} style={{ display: 'inline-flex', verticalAlign: 'middle' }} />;
        };

        const createIconComponent = (name) => (props) => <IconWrapper name={name} {...props} />;

        const MessageCircle = createIconComponent('MessageCircle');
        const MessageSquare = createIconComponent('MessageSquare');
        const Users = createIconComponent('Users');
        const Target = createIconComponent('Target');
        const Settings = createIconComponent('Settings');
        const AlertTriangle = createIconComponent('AlertTriangle');
        const Activity = createIconComponent('Activity');
        const BookOpen = createIconComponent('BookOpen');
        const CheckCircle = createIconComponent('CheckCircle');
        const ChevronDown = createIconComponent('ChevronDown');
        const ChevronUp = createIconComponent('ChevronUp');
        const Lightbulb = createIconComponent('Lightbulb');
        const Eye = createIconComponent('Eye');
        const Ear = createIconComponent('Ear');
        const Compass = createIconComponent('Compass');
        const Layers = createIconComponent('Layers');
        const RefreshCw = createIconComponent('RefreshCw');
        const ShieldAlert = createIconComponent('ShieldAlert');
        const Zap = createIconComponent('Zap');

        // --- 1. FACULTY LOGO (SVG REPLICA) ---
        const FacultyLogo = ({ className = "w-24 h-28" }) => (
            <svg viewBox="0 0 100 130" className={className} xmlns="http://www.w3.org/2000/svg">
                {/* Outer Borders */}
                <path d="M 2 2 L 98 2 L 98 65 C 98 110 50 128 50 128 C 50 128 2 110 2 65 Z" fill="#24335c" />
                <path d="M 4 4 L 96 4 L 96 65 C 96 108 50 125 50 125 C 50 125 4 108 4 65 Z" fill="#ffffff" />
                
                {/* Sky & Sea */}
                <path d="M 6 6 L 94 6 L 94 65 C 94 106 50 122 50 122 C 50 122 6 106 6 65 Z" fill="#66c5f4" />
                <path d="M 6 75 L 94 75 C 94 106 50 122 50 122 C 50 122 6 106 6 75 Z" fill="#1da2d8" />
                
                {/* Beams */}
                <g stroke="#1a2f57" strokeWidth="0.8">
                    <line x1="50" y1="18" x2="15" y2="12" />
                    <line x1="50" y1="18" x2="10" y2="20" />
                    <line x1="50" y1="18" x2="10" y2="28" />
                    <line x1="50" y1="18" x2="15" y2="35" />
                    
                    <line x1="50" y1="18" x2="85" y2="12" />
                    <line x1="50" y1="18" x2="90" y2="20" />
                    <line x1="50" y1="18" x2="90" y2="28" />
                    <line x1="50" y1="18" x2="85" y2="35" />
                </g>
                
                {/* Fortress & Lighthouse */}
                <g fill="#c49341" stroke="#1a2f57" strokeWidth="1.2" strokeLinejoin="round">
                    {/* Left Tower */}
                    <polygon points="12,60 10,75 22,75 20,60" />
                    <rect x="10" y="56" width="12" height="4" />
                    <rect x="11" y="53" width="10" height="3" />
                    {/* Left Wall */}
                    <rect x="20" y="63" width="18" height="12" />
                    
                    {/* Right Tower */}
                    <polygon points="80,60 78,75 90,75 88,60" />
                    <rect x="78" y="56" width="12" height="4" />
                    <rect x="79" y="53" width="10" height="3" />
                    {/* Right Wall */}
                    <rect x="62" y="63" width="18" height="12" />
                    
                    {/* Main Lighthouse Base */}
                    <polygon points="40,40 33,75 67,75 60,40" />
                    <rect x="38" y="38" width="24" height="4" />
                    {/* Mid Tier */}
                    <rect x="42" y="24" width="16" height="14" />
                    <rect x="40" y="22" width="20" height="3" />
                    {/* Top Tier */}
                    <rect x="45" y="14" width="10" height="8" />
                    <rect x="44" y="12" width="12" height="2" />
                    {/* Lantern */}
                    <polygon points="47,12 48,7 52,7 53,12" />
                </g>
                
                {/* Details (Windows/Doors) */}
                <g fill="none" stroke="#1a2f57" strokeWidth="1.2">
                    {/* Left Wall Windows */}
                    <rect x="22" y="66" width="3" height="4" />
                    <rect x="27" y="66" width="3" height="4" />
                    <rect x="32" y="66" width="3" height="4" />
                    
                    {/* Right Wall Windows */}
                    <rect x="65" y="66" width="3" height="4" />
                    <rect x="70" y="66" width="3" height="4" />
                    <rect x="75" y="66" width="3" height="4" />
                    
                    {/* Main Tower Door & Windows */}
                    <rect x="47" y="64" width="6" height="11" />
                    <rect x="48" y="54" width="4" height="5" />
                    <rect x="48" y="46" width="4" height="5" />
                    
                    {/* Mid Tier Windows */}
                    <rect x="44" y="27" width="4" height="4" />
                    <rect x="52" y="27" width="4" height="4" />
                </g>
                
                {/* Wave styling */}
                <g fill="#1a2f57" stroke="none">
                    <path d="M 12 85 Q 16 87 20 85 L 20 87 Q 16 89 12 87 Z" />
                    <path d="M 28 85 Q 32 87 36 85 L 36 87 Q 32 89 28 87 Z" />
                    <path d="M 44 85 Q 48 87 52 85 L 52 87 Q 48 89 44 87 Z" />
                    <path d="M 60 85 Q 64 87 68 85 L 68 87 Q 64 89 60 87 Z" />
                    <path d="M 76 85 Q 80 87 84 85 L 84 87 Q 80 89 76 87 Z" />
                    
                    <path d="M 20 95 Q 24 97 28 95 L 28 97 Q 24 99 20 97 Z" />
                    <path d="M 36 95 Q 40 97 44 95 L 44 97 Q 40 99 36 97 Z" />
                    <path d="M 52 95 Q 56 97 60 95 L 60 97 Q 56 99 52 97 Z" />
                    <path d="M 68 95 Q 72 97 76 95 L 76 97 Q 72 99 68 97 Z" />

                    <path d="M 28 105 Q 32 107 36 105 L 36 107 Q 32 109 28 107 Z" />
                    <path d="M 44 105 Q 48 107 52 105 L 52 107 Q 48 109 44 107 Z" />
                    <path d="M 60 105 Q 64 107 68 105 L 68 107 Q 64 109 60 107 Z" />
                    
                    <path d="M 40 115 Q 44 117 48 115 L 48 117 Q 44 119 40 117 Z" />
                    <path d="M 52 115 Q 56 117 60 115 L 60 117 Q 56 119 52 117 Z" />
                </g>
            </svg>
        );

        // --- 2. DEPARTMENT LOGO ---
        const DepartmentLogo = ({ className = "w-10 h-10" }) => (
            <svg viewBox="0 0 100 120" className={className} xmlns="http://www.w3.org/2000/svg">
                <path d="M 5 80 C 15 100 40 110 60 105 C 80 100 95 85 95 75 C 95 70 85 65 75 75 C 65 85 50 90 35 85 C 25 80 15 75 5 80 Z" fill="#004a8f" />
                <path d="M 30 85 C 45 92 60 90 75 80" stroke="#ffffff" strokeWidth="2.5" strokeLinecap="round" fill="none" />
                <path d="M 40 78 C 55 85 70 80 85 70" stroke="#ffffff" strokeWidth="2.5" strokeLinecap="round" fill="none" />
                <path d="M 50 65 L 53 72 L 58 67 L 58 57 C 58 52 64 50 64 45 C 64 43 60 41 60 39 L 68 37 C 70 36 70 34 68 32 C 65 31 62 32 60 29 C 60 15 48 5 35 10" stroke="#004a8f" strokeWidth="3" strokeLinecap="round" strokeLinejoin="round" fill="none" />
                <g stroke="#1e1b4b" strokeWidth="1.5" fill="none">
                    <circle cx="35" cy="22" r="9" />
                    <circle cx="28" cy="35" r="9" />
                    <circle cx="42" cy="35" r="9" />
                </g>
                <text x="35" y="24.5" fontSize="7" fill="#1e1b4b" textAnchor="middle" fontWeight="bold" fontFamily="sans-serif">C</text>
                <text x="28" y="37.5" fontSize="7" fill="#1e1b4b" textAnchor="middle" fontWeight="bold" fontFamily="sans-serif">C</text>
                <text x="42" y="37.5" fontSize="7" fill="#1e1b4b" textAnchor="middle" fontWeight="bold" fontFamily="sans-serif">A</text>
            </svg>
        );

        // --- 3. COMMUNICATION PROCESS GRAPH ---
        const CommunicationProcessGraph = () => (
            <div className="bg-white p-6 rounded-xl border border-slate-200 shadow-sm my-6 overflow-hidden">
                <h5 className="font-bold text-slate-700 mb-6 text-center">The Communication Process</h5>
                <div className="relative w-full max-w-md mx-auto h-64">
                    <svg viewBox="0 0 400 250" className="w-full h-full drop-shadow-md">
                        <defs>
                            <marker id="arrow-blue" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
                                <path d="M0,0 L0,6 L9,3 z" fill="#3b82f6" />
                            </marker>
                            <marker id="arrow-green" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
                                <path d="M0,0 L0,6 L9,3 z" fill="#10b981" />
                            </marker>
                        </defs>
                        <rect x="20" y="80" width="100" height="60" rx="8" fill="#eff6ff" stroke="#3b82f6" strokeWidth="2" />
                        <text x="70" y="105" fontSize="14" fontWeight="bold" fill="#1e3a8a" textAnchor="middle">SENDER</text>
                        <text x="70" y="125" fontSize="10" fill="#3b82f6" textAnchor="middle">(Encodes)</text>
                        <rect x="280" y="80" width="100" height="60" rx="8" fill="#ecfdf5" stroke="#10b981" strokeWidth="2" />
                        <text x="330" y="105" fontSize="14" fontWeight="bold" fill="#064e3b" textAnchor="middle">RECEIVER</text>
                        <text x="330" y="125" fontSize="10" fill="#10b981" textAnchor="middle">(Decodes)</text>
                        <path d="M 120 95 L 270 95" fill="none" stroke="#3b82f6" strokeWidth="3" markerEnd="url(#arrow-blue)" strokeDasharray="5,5" />
                        <rect x="150" y="75" width="100" height="24" rx="4" fill="#ffffff" stroke="#cbd5e1" strokeWidth="1" />
                        <text x="200" y="91" fontSize="12" fontWeight="bold" fill="#475569" textAnchor="middle">Message</text>
                        <text x="200" y="112" fontSize="10" fill="#64748b" textAnchor="middle">Channel (Verbal/Non-verbal)</text>
                        <path d="M 280 125 L 130 125" fill="none" stroke="#10b981" strokeWidth="3" markerEnd="url(#arrow-green)" strokeDasharray="5,5" />
                        <rect x="160" y="135" width="80" height="20" rx="4" fill="#ffffff" stroke="#cbd5e1" strokeWidth="1" />
                        <text x="200" y="149" fontSize="11" fontWeight="bold" fill="#475569" textAnchor="middle">Feedback</text>
                        <circle cx="70" cy="30" r="15" fill="#fef08a" stroke="#ca8a04" strokeWidth="2" />
                        <path d="M 70 45 L 70 70" fill="none" stroke="#ca8a04" strokeWidth="2" markerEnd="url(#arrow-blue)" />
                        <text x="70" y="34" fontSize="14" fill="#ca8a04" textAnchor="middle">?</text>
                        <text x="110" y="34" fontSize="10" fill="#854d0e" fontStyle="italic">Need to communicate</text>
                    </svg>
                </div>
                <p className="text-xs text-center text-slate-500 mt-2">Diagram showing the flow of communication between Sender and Receiver.</p>
            </div>
        );

        // --- 4. PROXEMICS SVG ---
        const ProxemicsIllustration = () => (
            <div className="bg-slate-50 p-6 rounded-xl border border-slate-200 text-center relative w-full my-6 flex flex-col items-center overflow-hidden">
                <h5 className="font-bold text-slate-700 mb-4">The Four Zones of Proxemics</h5>
                <svg viewBox="0 0 300 300" className="w-full max-w-sm drop-shadow-sm">
                    <circle cx="150" cy="150" r="140" fill="#f1f5f9" stroke="#94a3b8" strokeWidth="2" strokeDasharray="4 4" />
                    <text x="150" y="25" fontSize="12" fontWeight="bold" fill="#64748b" textAnchor="middle">Public Zone (3-7 m)</text>
                    <circle cx="150" cy="150" r="100" fill="#e0f2fe" stroke="#38bdf8" strokeWidth="2" />
                    <text x="150" y="65" fontSize="12" fontWeight="bold" fill="#0369a1" textAnchor="middle">Social Zone (1-3 m)</text>
                    <circle cx="150" cy="150" r="60" fill="#fce7f3" stroke="#f472b6" strokeWidth="2" />
                    <text x="150" y="105" fontSize="11" fontWeight="bold" fill="#be185d" textAnchor="middle">Personal (45-90 cm)</text>
                    <circle cx="150" cy="150" r="30" fill="#fee2e2" stroke="#f87171" strokeWidth="2" />
                    <text x="150" y="140" fontSize="10" fontWeight="bold" fill="#b91c1c" textAnchor="middle">Intimate</text>
                    <text x="150" y="152" fontSize="9" fill="#b91c1c" textAnchor="middle">(0-45 cm)</text>
                    <circle cx="150" cy="165" r="8" fill="#1e293b" />
                    <path d="M 140 185 Q 150 170 160 185" fill="#1e293b" />
                </svg>
            </div>
        );

        // --- 5. VERBAL VS NON-VERBAL PIE CHART SVG ---
        const PieChartSVG = () => (
            <svg viewBox="0 0 120 120" className="w-32 h-32 drop-shadow-md mx-auto">
                <circle r="25" cx="60" cy="60" fill="white" />
                <circle r="25" cx="60" cy="60" fill="transparent" stroke="#3b82f6" strokeWidth="50" strokeDasharray="55 100" transform="rotate(-90) translate(-120)" />
                <circle r="25" cx="60" cy="60" fill="transparent" stroke="#8b5cf6" strokeWidth="50" strokeDasharray="35 100" strokeDashoffset="-55" transform="rotate(-90) translate(-120)" />
                <circle r="25" cx="60" cy="60" fill="transparent" stroke="#10b981" strokeWidth="50" strokeDasharray="10 100" strokeDashoffset="-90" transform="rotate(-90) translate(-120)" />
                <circle r="35" cx="60" cy="60" fill="white" />
                <text x="60" y="55" fontSize="10" fontWeight="bold" fill="#3b82f6" textAnchor="middle">55% NV</text>
                <text x="60" y="67" fontSize="8" fontWeight="bold" fill="#8b5cf6" textAnchor="middle">35% Voice</text>
                <text x="60" y="77" fontSize="8" fontWeight="bold" fill="#10b981" textAnchor="middle">10% Words</text>
            </svg>
        );

        // --- 6. ACTIVE LISTENING SVG ---
        const ActiveListeningSVG = () => (
            <svg viewBox="0 0 100 100" className="w-16 h-16 drop-shadow-sm">
                <path d="M 30 50 C 30 20 70 20 70 50 C 70 70 50 80 50 80 C 50 80 30 70 30 50 Z" fill="#e0f2fe" stroke="#0ea5e9" strokeWidth="3" />
                <circle cx="50" cy="50" r="10" fill="#38bdf8" />
                <path d="M 10 50 Q 20 30 40 40" fill="none" stroke="#0ea5e9" strokeWidth="3" strokeLinecap="round" />
                <path d="M 15 65 Q 25 75 40 60" fill="none" stroke="#0ea5e9" strokeWidth="3" strokeLinecap="round" />
                <circle cx="75" cy="30" r="8" fill="#f43f5e" />
            </svg>
        );

        // --- 7. SILENCE SVG ---
        const SilenceSVG = () => (
            <svg viewBox="0 0 100 100" className="w-16 h-16 drop-shadow-sm">
                <rect x="20" y="20" width="60" height="40" rx="10" fill="#f1f5f9" stroke="#94a3b8" strokeWidth="3" />
                <polygon points="40,60 30,75 50,60" fill="#f1f5f9" stroke="#94a3b8" strokeWidth="3" />
                <line x1="40" y1="30" x2="40" y2="50" stroke="#64748b" strokeWidth="5" strokeLinecap="round" />
                <line x1="60" y1="30" x2="60" y2="50" stroke="#64748b" strokeWidth="5" strokeLinecap="round" />
            </svg>
        );

        // --- 8. QUESTIONING SVG ---
        const QuestioningSVG = () => (
            <svg viewBox="0 0 100 100" className="w-16 h-16 drop-shadow-sm">
                <circle cx="50" cy="50" r="40" fill="#fef3c7" stroke="#f59e0b" strokeWidth="3" />
                <text x="50" y="65" fontSize="40" fontWeight="bold" fill="#d97706" textAnchor="middle">?</text>
                <path d="M 80 20 L 90 10 M 20 80 L 10 90 M 20 20 L 10 10 M 80 80 L 90 90" stroke="#f59e0b" strokeWidth="3" strokeLinecap="round" />
            </svg>
        );

        // --- 9. RESTATING/REFLECTING SVG ---
        const RestatingSVG = () => (
            <svg viewBox="0 0 100 100" className="w-16 h-16 drop-shadow-sm">
                <rect x="10" y="10" width="80" height="80" rx="8" fill="#e0e7ff" stroke="#6366f1" strokeWidth="3" />
                <line x1="10" y1="10" x2="90" y2="90" stroke="#a5b4fc" strokeWidth="2" opacity="0.5" />
                <line x1="90" y1="10" x2="10" y2="90" stroke="#a5b4fc" strokeWidth="2" opacity="0.5" />
                <path d="M 30 50 A 20 20 0 0 1 70 50 A 20 20 0 0 1 30 50" fill="none" stroke="#4f46e5" strokeWidth="4" strokeDasharray="10 5" />
                <polygon points="70,45 80,55 60,55" fill="#4f46e5" />
            </svg>
        );

        // --- 10. CLARIFYING SVG ---
        const ClarifyingSVG = () => (
            <svg viewBox="0 0 100 100" className="w-16 h-16 drop-shadow-sm">
                <circle cx="40" cy="40" r="25" fill="#dcfce7" stroke="#22c55e" strokeWidth="4" />
                <line x1="58" y1="58" x2="80" y2="80" stroke="#22c55e" strokeWidth="8" strokeLinecap="round" />
                <path d="M 30 40 L 40 50 L 55 30" fill="none" stroke="#16a34a" strokeWidth="4" strokeLinecap="round" strokeLinejoin="round" />
            </svg>
        );

        // --- 11. TIME SEQUENCE SVG ---
        const TimeSequenceSVG = () => (
            <svg viewBox="0 0 100 100" className="w-16 h-16 drop-shadow-sm">
                <line x1="10" y1="50" x2="90" y2="50" stroke="#94a3b8" strokeWidth="4" />
                <circle cx="20" cy="50" r="8" fill="#3b82f6" />
                <circle cx="50" cy="50" r="8" fill="#8b5cf6" />
                <circle cx="80" cy="50" r="8" fill="#ec4899" />
                <text x="20" y="35" fontSize="12" fill="#3b82f6" textAnchor="middle">Past</text>
                <text x="50" y="75" fontSize="12" fill="#8b5cf6" textAnchor="middle">Now</text>
                <text x="80" y="35" fontSize="12" fill="#ec4899" textAnchor="middle">Next</text>
            </svg>
        );

        // --- 12. FOCUSING SVG ---
        const FocusingSVG = () => (
            <svg viewBox="0 0 100 100" className="w-16 h-16 drop-shadow-sm">
                <circle cx="50" cy="50" r="40" fill="none" stroke="#cbd5e1" strokeWidth="4" />
                <circle cx="50" cy="50" r="25" fill="none" stroke="#94a3b8" strokeWidth="4" />
                <circle cx="50" cy="50" r="10" fill="#ef4444" />
                <line x1="50" y1="10" x2="50" y2="30" stroke="#cbd5e1" strokeWidth="4" />
                <line x1="50" y1="90" x2="50" y2="70" stroke="#cbd5e1" strokeWidth="4" />
                <line x1="10" y1="50" x2="30" y2="50" stroke="#cbd5e1" strokeWidth="4" />
                <line x1="90" y1="50" x2="70" y2="50" stroke="#cbd5e1" strokeWidth="4" />
            </svg>
        );

        // --- 13. PRESENTING REALITY SVG ---
        const PresentingRealitySVG = () => (
            <svg viewBox="0 0 100 100" className="w-16 h-16 drop-shadow-sm">
                <rect x="20" y="20" width="60" height="60" fill="#f8fafc" stroke="#334155" strokeWidth="4" />
                <path d="M 20 80 L 80 20" stroke="#334155" strokeWidth="4" />
                <circle cx="35" cy="35" r="8" fill="#3b82f6" />
                <circle cx="65" cy="65" r="8" fill="#ef4444" />
            </svg>
        );

        // --- 14. SETTING LIMITS SVG ---
        const SettingLimitsSVG = () => (
            <svg viewBox="0 0 100 100" className="w-16 h-16 drop-shadow-sm">
                <polygon points="50,10 90,30 90,70 50,90 10,70 10,30" fill="#fee2e2" stroke="#ef4444" strokeWidth="4" />
                <path d="M 30 50 L 70 50" stroke="#b91c1c" strokeWidth="6" strokeLinecap="round" />
                <path d="M 30 40 L 30 60" stroke="#b91c1c" strokeWidth="6" strokeLinecap="round" />
                <path d="M 70 40 L 70 60" stroke="#b91c1c" strokeWidth="6" strokeLinecap="round" />
            </svg>
        );

        // --- 15. BLOCKS TO COMMUNICATION SVG ---
        const BlocksWallSVG = () => (
            <svg viewBox="0 0 100 100" className="w-20 h-20 drop-shadow-sm mx-auto">
                <rect x="10" y="20" width="80" height="60" fill="#fca5a5" stroke="#b91c1c" strokeWidth="3" />
                <line x1="10" y1="40" x2="90" y2="40" stroke="#b91c1c" strokeWidth="3" />
                <line x1="10" y1="60" x2="90" y2="60" stroke="#b91c1c" strokeWidth="3" />
                <line x1="30" y1="20" x2="30" y2="40" stroke="#b91c1c" strokeWidth="3" />
                <line x1="70" y1="20" x2="70" y2="40" stroke="#b91c1c" strokeWidth="3" />
                <line x1="50" y1="40" x2="50" y2="60" stroke="#b91c1c" strokeWidth="3" />
                <line x1="30" y1="60" x2="30" y2="80" stroke="#b91c1c" strokeWidth="3" />
                <line x1="70" y1="60" x2="70" y2="80" stroke="#b91c1c" strokeWidth="3" />
                <path d="M 20 10 Q 50 -10 80 10" fill="none" stroke="#64748b" strokeWidth="4" strokeDasharray="5 5" />
                <line x1="45" y1="0" x2="55" y2="20" stroke="#b91c1c" strokeWidth="4" />
                <line x1="55" y1="0" x2="45" y2="20" stroke="#b91c1c" strokeWidth="4" />
            </svg>
        );

        // --- 16. DIFFICULT CLIENTS SVG ---
        const DifficultClientSVG = () => (
            <svg viewBox="0 0 100 100" className="w-16 h-16 drop-shadow-sm">
                <polygon points="20,50 10,20 40,30 50,10 60,30 90,20 80,50 95,70 70,80 50,95 30,80 5,70" fill="#fef08a" stroke="#ca8a04" strokeWidth="3" />
                <circle cx="50" cy="50" r="15" fill="#38bdf8" />
                <path d="M 45 48 Q 50 55 55 48" fill="none" stroke="#fff" strokeWidth="2" strokeLinecap="round" />
            </svg>
        );

        // --- 17. FEEDBACK LOOP SVG ---
        const FeedbackLoopSVG = () => (
            <svg viewBox="0 0 100 100" className="w-16 h-16 drop-shadow-sm">
                <path d="M 30 50 A 20 20 0 1 1 70 50 A 20 20 0 1 1 30 50" fill="none" stroke="#10b981" strokeWidth="6" strokeDasharray="30 10" />
                <polygon points="65,35 75,45 55,45" fill="#10b981" />
                <polygon points="35,65 25,55 45,55" fill="#10b981" />
            </svg>
        );

        // --- 18. GOALS SVG ---
        const GoalsSVG = () => (
            <svg viewBox="0 0 100 100" className="w-16 h-16 drop-shadow-sm">
                <polygon points="50,10 60,40 90,50 60,60 50,90 40,60 10,50 40,40" fill="#fde047" stroke="#eab308" strokeWidth="3" />
                <circle cx="50" cy="50" r="10" fill="#eab308" />
            </svg>
        );

        // --- 19. CHANNELS SVG ---
        const ChannelsSVG = () => (
            <svg viewBox="0 0 100 100" className="w-16 h-16 drop-shadow-sm">
                <rect x="10" y="20" width="30" height="20" rx="4" fill="#bfdbfe" stroke="#3b82f6" strokeWidth="2" />
                <line x1="15" y1="28" x2="35" y2="28" stroke="#3b82f6" strokeWidth="2" />
                <line x1="15" y1="34" x2="25" y2="34" stroke="#3b82f6" strokeWidth="2" />
                
                <path d="M 60 20 Q 90 20 90 40 Q 90 60 75 60 L 60 70 L 65 55 Q 60 55 60 40 Z" fill="#bbf7d0" stroke="#22c55e" strokeWidth="2" />
                <circle cx="70" cy="40" r="2" fill="#16a34a" />
                <circle cx="78" cy="40" r="2" fill="#16a34a" />
                <circle cx="86" cy="40" r="2" fill="#16a34a" />

                <circle cx="35" cy="75" r="15" fill="#fbcfe8" stroke="#ec4899" strokeWidth="2" />
                <path d="M 25 75 Q 35 65 45 75" fill="none" stroke="#be185d" strokeWidth="2" />
            </svg>
        );


        // --- APPLICATION DATA ---

        const SECTIONS = {
            INTRO: 'intro',
            TYPES: 'types',
            TECHNIQUES: 'techniques',
            BLOCKS: 'blocks',
            QUIZ: 'quiz'
        };

        const LECTURE_DATA = {
            objectives: [
                "Explain the process of communication.",
                "Recognize/ identify the factors that influence communication.",
                "Describe the importance of assessing nonverbal communication.",
                "Articulate the relationship between comfort zones and effective communication skills.",
                "Recognize factors that contribute to ineffective communication.",
                "Distinguish between social and therapeutic communication.",
                "Formulate a list of therapeutic communication techniques.",
                "Utilizing therapeutic interactions with difficult clients."
            ],
            intro: {
                definition: "Communication is the process that people use to exchange information. Messages are simultaneously sent and received on two levels: verbally through the use of words and non-verbally by behaviors that accompany the words. Therapeutic communication is an ongoing process of interaction through which meaning emerges, and client's needs are identified.",
                importance: "Therapeutic communication is a key tool that the psychiatricâ€“mental health nurse uses to elicit cooperation among clients during the delivery of care. It is an integral part of socialization and imperative in establishing relationships."
            },
            process: [
                { term: "Encoding", def: "The process by which one communicator puts into words or behaviors the ideas or feeling (messages) that he or she is trying to convey.", example: "Shouting, crying, looking away, choosing particular words." },
                { term: "Decoding", def: "The process by which one communicator interprets what another communicator is saying." },
                { term: "Channel", def: "The route or method a communicator chooses to convey his or her message.", example: "Writing, talking, looking, emailing, and phoning." },
                { term: "Feedback", def: "The specific response that a receiver makes to a sender's message. All behaviors including silent and ignoring are forms of feedback." }
            ],
            goals: [
                "Establish a therapeutic nurse-client relationship.",
                "Identify client's concerns, needs and problems.",
                "Assess client perception of the problem.",
                "Guide the client towards a satisfying and socially acceptable solution."
            ],
            principles: [
                "The patient should be the focus of the interaction.",
                "Always maintain a professional attitude.",
                "The use of self-disclosure is limited only when it has a therapeutic purpose.",
                "Assess patient's level of understanding.",
                "Maintain a non-judgmental attitude and avoid giving advice.",
                "Guide the patient to interpret his or her experience rationally.",
                "Track the patient's verbal interaction through the use of clarifying statement and avoid changing the subject unless it is the patient's need/desire/preference.",
                "Maintain patient's confidentiality."
            ],
            factors: [
                "The personality of both the sender and the receiver (strengths, weaknesses, skills, attitudes, values, beliefs, feelings, knowledge).",
                "The perception of both the sender and the receiver.",
                "The socio-cultural background of both the sender and the receiver.",
                "The past experiences of both the sender and the receiver.",
                "The environment in which communication occurs (time, place, number of people present, privacy, and noise level)."
            ],
            characteristics: [
                { term: "Feedback", def: "The return response. It is the response of the listener which indicates the effect made by the communication received." },
                { term: "Appropriateness", def: "The reply is fitting and relevant to the communication received." },
                { term: "Efficiency", def: "The language used by the communicators is understood. There is enough time between verbal response, for the listener to perceive and evaluate them." },
                { term: "Flexibility", def: "There is an absence of over control or under control.", details: ["Over control: one person controls communication, doesn't allow free expression.", "Under control: participants say as they wish, disregarding feedback/appropriateness."] }
            ],
            types: {
                verbal: "Through the use of words either spoken or written, this is the content of communication.",
                nonVerbal: [
                    { term: "1. Paralanguage (vocal cues)", def: "Tone of voice, pitch, rate of speech, intensity or loudness, stream of talk (pressure, blocking, flight of ideas, hesitancy...), vocal prompts (uh, huh...), and laughing." },
                    { term: "2. Kinetics (Body language)", def: "Facial movements and all body languages.", details: ["Facial movements: eye contact, eye movement (wink, pupil dilation...), mouth movement, facial expressions.", "Body movements: general posture, head nodding, finger points, hand gestures and pacing."] },
                    { term: "3. Proxemics", def: "This includes the distance (physical & psychological) between the sender and the receiver. The stronger the relation, the closer the distance.", details: [
                        "Intimate zone (0-45 cm): comfortable for parents with young children, whispering. Invasion by others is threatening.",
                        "Personal zone (45-90 cm): comfortable between family and friend who are talking.",
                        "Social zone (1-3 m): acceptable for communication in social, work, and business settings.",
                        "Public zone (3-7 m): acceptable distance between a speaker and an audience."
                    ] },
                    { term: "4. Touch", def: "Conveys interest, warmth, rapport, approval, reassurance, protection, concern, and encouragement. Must be used carefully based on culture and beliefs." },
                    { term: "5. Cultural artifact", def: "The way a person is dressed is a mean of communication. Make-up use, and perfume could also convey messages." }
                ],
                relationship: [
                    { term: "Accent", def: "Calling attention to a key part of the message to emphasize it.", example: "Flashing eyes, hand movements." },
                    { term: "Contradict", def: "Sending a non-verbal message that is opposite to the verbal one.", example: "Saying 'NO' while nodding." },
                    { term: "Complement", def: "Using non-verbal action to complete and extend verbal statement.", example: "When talking about sad things, the head is lowered and a sad tone is used." },
                    { term: "Regulate", def: "Using non-verbal action to regulate verbal interactions.", example: "Raising hand to signal the desire to speak." },
                    { term: "Repeat", def: "Using non-verbal behaviors to repeat and confirm the verbal message.", example: "Nodding the head after saying 'YES'." },
                    { term: "Substitute", def: "Using non-verbal stands for verbal words." }
                ]
            },
            techniques: [
                {
                    category: "I- Skills to facilitate clients' expression of needs and feelings",
                    items: [
                        { term: "1. Active Listening", def: "Foundation of therapeutic communication. Requires energy, concentration, and specific skills in asking questions. Involves maintaining eye contact, close proximity, and calm voice.", icon: <ActiveListeningSVG /> },
                        { term: "2. Silence", def: "Absence of verbal communication for both nurse & patient. Gives time to focus on issues that are most important.", icon: <SilenceSVG /> },
                        { term: "3. Questioning", def: "Use carefully to avoid putting patient on defense. Ask 'what', 'who', 'when' for facts. Limit 'why' and 'how'. Avoid one-word answer questions.", example: "Instead of 'Did you have a good week-end?', ask 'Tell me about your week-end'.", icon: <QuestioningSVG /> },
                        { term: "4. General leads", def: "Indicate listening without taking initiative away. Encourages hesitant clients to continue.", example: "'Go on.', 'And then?', 'Tell me more about it.'" },
                        { term: "5. Broad opening", def: "Allows the client to assume some control over topics and take the communication lead.", example: "'What would you like to discuss?', 'Where would you like to begin?'" },
                        { term: "6. Offering self", def: "Unconditional offer of presence, interest, and desire to understand.", example: "'I will sit with you awhile.', 'I will stay here with you.'" },
                        { term: "7. Accepting (indicating reception)", def: "Indicates the nurse has heard and followed the train of thought. Doesn't indicate agreement, just receiving non-judgmentally.", example: "'Yes.', 'I follow what you said.'" }
                    ]
                },
                {
                    category: "II- Skills that facilitate understanding clients' expression",
                    items: [
                        { term: "1. Restating", def: "Repeating what the client said in approximately the same words. Encourages continuation or clarification.", example: "Client: 'I can't sleep. I stay awake all night.' Nurse: 'You can't sleep and stay awake all night.'", icon: <RestatingSVG /> },
                        { term: "2. Reflecting", def: "Directing back questions, feelings, or ideas. Encourages recognizing and accepting own feelings.", example: "Client: 'Do you think I should tell the doctor...?' Nurse: 'Do you think you should?'" },
                        { term: "3. Clarifying", def: "Makes clear what is vague, confusing or not meaningful.", example: "'I am not sure what you mean by --- .'", icon: <ClarifyingSVG /> },
                        { term: "4. Paraphrasing", def: "Repeating the meaning of the client's message in the nurse's own words. Allows for clarification.", example: "Client: 'My husband is talking about probable post-divorce arrangements' Nurse: 'So you are saying your husband is unwilling to work on the marriage anymore.'" },
                        { term: "5. Consensual validation", def: "Achieving agreement of interpretation of an event/behavior to ensure shared meaning.", example: "'Tell me whether my understanding of it agrees with yours.'" },
                        { term: "6. Encouraging description of perceptions", def: "Seeing things from client's perspective to relieve tension.", example: "'Try to describe what the picture you see looks like.', 'What does the voice seem to be saying?'" },
                        { term: "7. Placing event in time or sequence", def: "Putting events in proper sequence to gain insight into cause-and-effect.", example: "'Was this before or after...?', 'What seemed to lead up to...?'", icon: <TimeSequenceSVG /> },
                        { term: "8. Summarizing", def: "Brings out important points, omits irrelevant, provides sense of closure.", example: "'During the past hour, you and I have discussed...'" }
                    ]
                },
                {
                    category: "III- Skills that helping the client develop self-awareness",
                    items: [
                        { term: "1. Focusing", def: "Encourages client to concentrate energies on a single point to prevent being overwhelmed.", example: "'This point seems worth looking at more closely.'", icon: <FocusingSVG /> },
                        { term: "2. Making observations", def: "Used when client cannot verbalize or isn't ready to talk.", example: "'I notice that you are biting your lip.', 'You appear tense.'" },
                        { term: "3. Presenting reality", def: "Indicate what is real when client misinterprets reality, without arguing.", example: "'I see no one else in the room.', 'Your mother is not here; I am a nurse.'", icon: <PresentingRealitySVG /> },
                        { term: "4. Voicing doubt", def: "Expressing doubt allows client to become aware others don't perceive events the same way.", example: "'Isn't that unusual?', 'That hard to believe.'" },
                        { term: "5. Encouraging comparison", def: "Brings out recurring themes, helps recall past coping strategies.", example: "'Have you had similar experiences before?'" },
                        { term: "6. Giving information", def: "Increases knowledge or lets client know what to expect. Builds trust.", example: "'My purpose in being here is...'" },
                        { term: "7. Confronting", def: "Presenting a different reality of the situation. Facing the client with his behavior.", example: "'I understand your concerns; however, you have to take some action now.'" }
                    ]
                },
                {
                    category: "IV- Skills that helping client' control behavior",
                    items: [
                        { term: "1. Setting limit", def: "Establishing boundaries for acceptable behavior.", example: "'Spitting on the floor is not accepted.'", icon: <SettingLimitsSVG /> },
                        { term: "2. Giving recognition", def: "Greeting by name, noting efforts made. Shows nurse recognizes client as an individual without placing a 'good/bad' value.", example: "'Good morning, Mister S...', 'I notice that you have combed your hair.'" }
                    ]
                }
            ],
            blocks: [
                "Changing the subject of the communication.",
                "Stating one's personal opinions and ideas about the patient and his situation.",
                "Giving false or inappropriate reassurance.",
                "Jumping to conclusions or offering solutions to problems.",
                "Making inappropriate use of medical or nursing knowledge and terminology."
            ],
            difficultClients: {
                intro: "Dealing with clients who are angry, manipulative, suspicious, demanding, or uncooperative. Conflict may occur when client believes their needs are not respected.",
                strategies: [
                    "Shouldn't take the client's words personally. They are reacting to stress.",
                    "Should validate the client's emotions. Acknowledging feelings has a calming effect.",
                    "Speak slowly in a soft, low voice. Humans mirror behavior.",
                    "Maintain a safe physical distance. Advancing can instigate unpredictable behavior.",
                    "Ask simple questions such as 'How can I help you?' to diffuse tension.",
                    "Appear confident and speak in a firm yet amicable tone. Don't hesitate to ask for assistance.",
                    "Be familiar with the facility's emergency plan and employ it if warranted."
                ],
                conclusion: "Nurses who were sensitive to needs, displayed confidence/empathy, and demonstrated high emotional intelligence were able to interact therapeutically. (Graber and Mitcham, 2002)"
            }
        };

        const QUIZ_QUESTIONS = [
            {
                q: "Which zone of proxemics refers to the 45-90 cm distance comfortable between family and friends?",
                options: ["Intimate zone", "Personal zone", "Social zone", "Public zone"],
                correct: 1
            },
            {
                q: "A nurse says to a patient: 'I notice that you are biting your lip.' Which therapeutic communication technique is this?",
                options: ["Restating", "Making observations", "Offering self", "Voicing doubt"],
                correct: 1
            },
            {
                q: "Which of the following is considered a BLOCK to therapeutic communication?",
                options: ["Summarizing the discussion", "Giving false or inappropriate reassurance", "Using broad openings", "Reflecting feelings"],
                correct: 1
            },
            {
                q: "When a non-verbal message is opposite to the verbal one (e.g., saying 'NO' while nodding), what is this relationship called?",
                options: ["Accent", "Complement", "Contradict", "Regulate"],
                correct: 2
            },
            {
                q: "When dealing with an angry or difficult client, a nurse should do all of the following EXCEPT:",
                options: ["Speak slowly in a soft, low voice", "Maintain a safe physical distance", "Take the client's words personally", "Validate the client's emotions"],
                correct: 2
            }
        ];

        // --- COMPONENTS ---

        const Card = ({ children, className = "" }) => (
            <div className={`bg-white rounded-xl shadow-sm border border-slate-200 p-4 md:p-6 ${className}`}>
                {children}
            </div>
        );

        const SectionHeader = ({ title, icon, color }) => (
            <div className={`flex items-center gap-3 mb-6 p-4 rounded-lg ${color} bg-opacity-10 border ${color.replace('bg-', 'border-').replace('text-', 'border-').replace('100', '200')}`}>
                <div className={`p-2 rounded-full bg-white shadow-sm ${color.replace('bg-', 'text-').replace('100', '600')}`}>
                    {icon}
                </div>
                <h2 className="text-2xl font-bold text-slate-800">{title}</h2>
            </div>
        );

        const TermItem = ({ term, def, example, icon, isWarning, details }) => {
            const [isOpen, setIsOpen] = useState(false);
            const hasExtra = example || details;
            
            return (
                <div className={`mb-3 border-l-4 ${isWarning ? 'border-amber-400' : 'border-blue-500'} bg-slate-50 rounded-r-lg overflow-hidden transition-all duration-300`}>
                    <div 
                        className={`p-3 md:p-4 flex justify-between items-start ${hasExtra ? 'cursor-pointer hover:bg-slate-100' : ''}`}
                        onClick={() => hasExtra && setIsOpen(!isOpen)}
                    >
                        <div className="flex items-start gap-3">
                            {icon && <span className={`mt-1 flex-shrink-0 ${isWarning ? 'text-amber-500' : 'text-blue-500'}`}>{icon}</span>}
                            <div>
                                <h4 className="font-bold text-slate-800 text-base md:text-lg">{term}</h4>
                                <p className="text-slate-600 text-sm leading-relaxed mt-1">{def}</p>
                                {details && !isOpen && <p className="text-xs text-blue-500 mt-2 font-medium">Click to view details...</p>}
                                {example && !isOpen && <p className="text-xs text-blue-500 mt-2 font-medium">Click to view example...</p>}
                            </div>
                        </div>
                        {hasExtra && (
                            <button className="text-slate-400 hover:text-blue-600 ml-2 flex-shrink-0 mt-1">
                                {isOpen ? <ChevronUp size={20} /> : <ChevronDown size={20} />}
                            </button>
                        )}
                    </div>
                    
                    {isOpen && hasExtra && (
                        <div className="bg-white p-4 border-t border-slate-200 text-sm animate-in fade-in slide-in-from-top-1">
                            {details && (
                                <div className="mb-3">
                                    <ul className="list-disc list-inside space-y-1.5 text-slate-700 marker:text-blue-400">
                                        {details.map((item, i) => <li key={i}>{item}</li>)}
                                    </ul>
                                </div>
                            )}
                            {example && (
                                <div className="p-3 bg-blue-50/50 rounded-lg border border-blue-100 text-slate-700">
                                    <span className="font-bold text-blue-700 flex items-center gap-1 mb-1">
                                        <Lightbulb size={14} /> Example:
                                    </span>
                                    <span className="italic block pl-5">{example}</span>
                                </div>
                            )}
                        </div>
                    )}
                </div>
            );
        };

        function TherapeuticCommunication() {
            const [activeSection, setActiveSection] = useState(SECTIONS.INTRO);
            const [quizScore, setQuizScore] = useState(0);
            const [quizSubmitted, setQuizSubmitted] = useState(false);
            const [quizAnswers, setQuizAnswers] = useState({});

            const handleNavClick = (section) => {
                setActiveSection(section);
                window.scrollTo({ top: 0, behavior: 'smooth' });
            };

            const handleQuizOption = (qIndex, optIndex) => {
                if (quizSubmitted) return;
                setQuizAnswers(prev => ({ ...prev, [qIndex]: optIndex }));
            };

            const submitQuiz = () => {
                let score = 0;
                QUIZ_QUESTIONS.forEach((q, i) => {
                    if (quizAnswers[i] === q.correct) score++;
                });
                setQuizScore(score);
                setQuizSubmitted(true);
            };

            const resetQuiz = () => {
                setQuizAnswers({});
                setQuizSubmitted(false);
                setQuizScore(0);
            };

            // --- Views ---

            const IntroProcessView = () => (
                <div className="space-y-8 animate-in fade-in duration-500">
                    <div className="bg-gradient-to-br from-blue-700 via-blue-600 to-indigo-800 text-white p-6 md:p-10 rounded-2xl shadow-xl relative overflow-hidden">
                        <div className="relative z-10">
                            <h1 className="text-3xl md:text-5xl font-extrabold mb-4 leading-tight">Therapeutic Communication</h1>
                            <p className="text-blue-100 text-lg md:text-xl max-w-2xl leading-relaxed">
                                An integral part of socialization and imperative in establishing relationships in Psychiatric-Mental Health Nursing.
                            </p>
                            <div className="mt-8 flex flex-wrap gap-3">
                                <button onClick={() => handleNavClick(SECTIONS.TECHNIQUES)} className="bg-white text-blue-800 px-6 py-2.5 rounded-full font-bold hover:bg-blue-50 transition shadow-md">View Techniques</button>
                                <button onClick={() => handleNavClick(SECTIONS.QUIZ)} className="bg-blue-900 bg-opacity-40 text-white border border-blue-400 px-6 py-2.5 rounded-full font-bold hover:bg-blue-900 transition backdrop-blur-sm">Take Knowledge Quiz</button>
                            </div>
                        </div>
                        <MessageCircle className="absolute -top-10 -right-10 text-white opacity-10 w-64 h-64 rotate-12" />
                    </div>

                    <div className="grid md:grid-cols-2 gap-6">
                        <Card className="border-t-4 border-t-indigo-500">
                            <h3 className="text-xl font-bold mb-4 flex items-center gap-2 text-slate-800">
                                <Target className="text-indigo-500" /> Learning Objectives
                            </h3>
                            <ul className="space-y-2 text-sm text-slate-700 list-disc pl-5 marker:text-indigo-400">
                                {LECTURE_DATA.objectives.map((obj, i) => <li key={i}>{obj}</li>)}
                            </ul>
                        </Card>
                        
                        <Card className="border-t-4 border-t-blue-500 flex flex-col justify-center">
                            <h3 className="text-xl font-bold mb-4 flex items-center gap-2 text-slate-800">
                                <BookOpen className="text-blue-500" /> Definition
                            </h3>
                            <p className="text-slate-700 leading-relaxed text-sm mb-4">
                                {LECTURE_DATA.intro.definition}
                            </p>
                            <div className="bg-blue-50 p-4 rounded-lg border border-blue-100">
                                <strong className="text-blue-800 text-sm block mb-1">Importance:</strong>
                                <span className="text-blue-700 text-sm">{LECTURE_DATA.intro.importance}</span>
                            </div>
                        </Card>
                    </div>

                    <SectionHeader title="The Communication Process" icon={<RefreshCw size={28} />} color="bg-cyan-100 text-cyan-600" />
                    
                    <CommunicationProcessGraph />

                    <div className="grid md:grid-cols-2 gap-4">
                        {LECTURE_DATA.process.map((item, idx) => (
                            <TermItem key={idx} {...item} icon={idx === 3 ? <FeedbackLoopSVG /> : idx === 2 ? <ChannelsSVG /> : <Settings size={18} />} />
                        ))}
                    </div>

                    <div className="grid lg:grid-cols-3 gap-6 mt-8">
                        <Card className="bg-emerald-50/50 border-emerald-200 lg:col-span-1">
                            <h4 className="font-bold text-emerald-800 flex items-center gap-2 mb-4 border-b border-emerald-100 pb-2">
                                <GoalsSVG /> Goals
                            </h4>
                            <ul className="space-y-3">
                                {LECTURE_DATA.goals.map((goal, i) => (
                                    <li key={i} className="flex gap-2 text-sm text-emerald-900">
                                        <CheckCircle size={16} className="text-emerald-500 flex-shrink-0 mt-0.5" />
                                        <span>{goal}</span>
                                    </li>
                                ))}
                            </ul>
                        </Card>

                        <Card className="bg-blue-50/50 border-blue-200 lg:col-span-2">
                            <h4 className="font-bold text-blue-800 flex items-center gap-2 mb-4 border-b border-blue-100 pb-2">
                                <ShieldAlert size={20} /> Principles of Therapeutic Communication
                            </h4>
                            <div className="grid sm:grid-cols-2 gap-x-6 gap-y-3">
                                {LECTURE_DATA.principles.map((prin, i) => (
                                    <div key={i} className="flex gap-2 text-sm text-blue-900 bg-white p-2 rounded shadow-sm border border-blue-50">
                                        <span className="font-bold text-blue-400">{i+1}.</span>
                                        <span>{prin}</span>
                                    </div>
                                ))}
                            </div>
                        </Card>
                    </div>

                    <div className="grid md:grid-cols-2 gap-6">
                        <Card>
                            <h4 className="font-bold text-slate-800 mb-4 flex items-center gap-2">
                                <Users size={20} className="text-purple-500" /> Factors Affecting Communication
                            </h4>
                            <ul className="space-y-2 list-disc pl-5 text-sm text-slate-700 marker:text-purple-400">
                                {LECTURE_DATA.factors.map((factor, i) => <li key={i}>{factor}</li>)}
                            </ul>
                        </Card>

                        <Card>
                            <h4 className="font-bold text-slate-800 mb-4 flex items-center gap-2">
                                <Activity size={20} className="text-orange-500" /> Characteristics of Successful Communication
                            </h4>
                            <p className="text-xs text-slate-500 mb-3 italic">Communication is successful when the sender has a feeling of being understood.</p>
                            <div className="space-y-2">
                                {LECTURE_DATA.characteristics.map((char, i) => (
                                    <TermItem key={i} {...char} />
                                ))}
                            </div>
                        </Card>
                    </div>
                </div>
            );

            const TypesView = () => (
                <div className="animate-in slide-in-from-right-4 duration-500">
                    <SectionHeader title="Types of Communication" icon={<Layers size={28} />} color="bg-indigo-100 text-indigo-600" />
                    
                    <div className="mb-8">
                        <Card className="bg-indigo-50 border-indigo-200 mb-6">
                            <h3 className="text-lg font-bold text-indigo-800 mb-2 flex items-center gap-2">
                                <MessageSquare size={20} /> Verbal Communication
                            </h3>
                            <p className="text-indigo-900 text-sm">{LECTURE_DATA.types.verbal}</p>
                        </Card>

                        <h3 className="text-2xl font-bold text-slate-800 mb-2 border-b pb-2 flex items-center gap-2">
                            <Eye size={24} className="text-blue-500" /> Non-verbal Communication
                        </h3>
                        <p className="text-slate-600 text-sm mb-6">
                            This includes behaviors that accompany the words, it is often more reliable than verbal communication. It is powerful and honest yet its meaning differs according to culture.
                        </p>

                        <div className="grid lg:grid-cols-2 gap-6">
                            <div className="space-y-4">
                                <Card className="bg-slate-50 border-slate-200 mb-4 flex justify-center">
                                    <PieChartSVG />
                                </Card>
                                {LECTURE_DATA.types.nonVerbal.map((item, idx) => (
                                    <TermItem key={idx} {...item} icon={idx === 0 ? <Ear size={18}/> : idx === 1 ? <Activity size={18}/> : <Users size={18}/>} />
                                ))}
                            </div>
                            
                            <div className="space-y-6">
                                <ProxemicsIllustration />
                                
                                <Card className="bg-amber-50 border-amber-200">
                                    <h4 className="font-bold text-amber-800 flex items-center gap-2 mb-3">
                                        <AlertTriangle size={18} /> Proxemics Warning
                                    </h4>
                                    <p className="text-sm text-amber-900">
                                        Both the client and the nurse can feel threatened if one invades the other's personal or intimate zone, which can result in tension or irritability. When the nurse must invade the intimate or personal zone, he or she always should ask the client's permission.
                                    </p>
                                </Card>
                            </div>
                        </div>
                    </div>
                </div>
            );

            const TechniquesView = () => (
                <div className="animate-in slide-in-from-right-4 duration-500">
                    <SectionHeader title="Therapeutic Communication Techniques" icon={<MessageCircle size={28} />} color="bg-green-100 text-green-600" />
                    <p className="mb-6 text-slate-600 bg-white p-4 rounded-lg border border-slate-200 shadow-sm">
                        In order to facilitate therapeutic communication, the nurse should use techniques, develop skills, and provide a climate which will increase the effectiveness of communication.
                    </p>

                    <div className="space-y-8">
                        {LECTURE_DATA.techniques.map((group, gIndex) => (
                            <div key={gIndex} className="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden">
                                <div className="bg-slate-50 border-b border-slate-200 p-4 md:px-6">
                                    <h3 className="text-lg md:text-xl font-bold text-blue-900">{group.category}</h3>
                                </div>
                                <div className="p-4 md:p-6 grid gap-4 md:grid-cols-2">
                                    {group.items.map((item, idx) => (
                                        <div key={idx} className={gIndex === 0 && idx === 0 ? 'md:col-span-2' : ''}>
                                            <TermItem {...item} />
                                        </div>
                                    ))}
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            );

            const BlocksDifficultView = () => (
                <div className="animate-in slide-in-from-right-4 duration-500">
                    <SectionHeader title="Blocks & Difficult Interactions" icon={<ShieldAlert size={28} />} color="bg-red-100 text-red-600" />
                    
                    <div className="grid lg:grid-cols-2 gap-6 mb-8">
                        {/* Blocks */}
                        <Card className="border-t-4 border-t-red-500 shadow-md">
                            <h3 className="text-xl font-bold text-red-800 mb-4 flex items-center gap-2">
                                <AlertTriangle size={24} /> Blocks to Communication
                            </h3>
                            <BlocksWallSVG />
                            <p className="text-sm text-slate-600 my-4 italic text-center">Communication can be blocked by any of the following:</p>
                            <ul className="space-y-3">
                                {LECTURE_DATA.blocks.map((block, idx) => (
                                    <li key={idx} className="flex items-start gap-3 bg-red-50 p-3 rounded border border-red-100">
                                        <div className="bg-red-200 text-red-700 w-6 h-6 rounded-full flex items-center justify-center font-bold text-xs flex-shrink-0 mt-0.5">{idx + 1}</div>
                                        <span className="text-red-900 text-sm font-medium">{block}</span>
                                    </li>
                                ))}
                            </ul>
                        </Card>

                        {/* V vs NV Relationships */}
                        <Card className="border-t-4 border-t-purple-500 shadow-md">
                            <h3 className="text-xl font-bold text-purple-800 mb-4 flex items-center gap-2">
                                <Zap size={24} /> Verbal & Non-Verbal Relationship
                            </h3>
                            <div className="space-y-3 max-h-[400px] overflow-y-auto pr-2 hide-scrollbar">
                                {LECTURE_DATA.types.relationship.map((rel, idx) => (
                                    <TermItem key={idx} {...rel} />
                                ))}
                            </div>
                        </Card>
                    </div>

                    {/* Difficult Clients */}
                    <Card className="bg-slate-800 text-white overflow-hidden relative">
                        <ShieldAlert className="absolute -bottom-10 -right-10 text-slate-700 w-64 h-64 opacity-30 pointer-events-none" />
                        <div className="relative z-10">
                            <h3 className="text-2xl font-bold text-amber-400 mb-4 flex items-center gap-3">
                                <DifficultClientSVG /> Utilizing Therapeutic Interactions with Difficult Clients
                            </h3>
                            <p className="text-slate-300 mb-6">{LECTURE_DATA.difficultClients.intro}</p>
                            
                            <div className="grid md:grid-cols-2 gap-4 mb-6">
                                {LECTURE_DATA.difficultClients.strategies.map((strat, idx) => (
                                    <div key={idx} className="flex gap-3 items-start bg-slate-700/50 p-3 rounded-lg border border-slate-600">
                                        <Target className="text-emerald-400 flex-shrink-0 mt-0.5 w-5 h-5" />
                                        <span className="text-sm text-slate-200">{strat}</span>
                                    </div>
                                ))}
                            </div>

                            <div className="bg-emerald-900/40 border-l-4 border-emerald-500 p-4 rounded-r text-emerald-100 text-sm italic">
                                "{LECTURE_DATA.difficultClients.conclusion}"
                            </div>
                        </div>
                    </Card>
                </div>
            );

            const QuizView = () => (
                <div className="animate-in slide-in-from-right-4 duration-500 max-w-2xl mx-auto">
                    <SectionHeader title="Knowledge Check" icon={<Lightbulb size={28} />} color="bg-yellow-100 text-yellow-600" />
                    
                    {!quizSubmitted ? (
                        <div className="space-y-6">
                            {QUIZ_QUESTIONS.map((q, qIndex) => (
                                <Card key={qIndex} className="p-6">
                                    <h4 className="font-bold text-lg mb-4 text-slate-800">{qIndex + 1}. {q.q}</h4>
                                    <div className="space-y-2">
                                        {q.options.map((opt, optIndex) => (
                                            <button
                                                key={optIndex}
                                                onClick={() => handleQuizOption(qIndex, optIndex)}
                                                className={`w-full text-left p-3 md:p-4 rounded-lg border transition-all ${
                                                    quizAnswers[qIndex] === optIndex 
                                                        ? 'bg-blue-100 border-blue-500 text-blue-900 shadow-inner' 
                                                        : 'bg-slate-50 border-slate-200 hover:bg-slate-100 hover:border-slate-300'
                                                }`}
                                            >
                                                <div className="flex items-center gap-3">
                                                    <div className={`w-5 h-5 rounded-full border flex items-center justify-center ${quizAnswers[qIndex] === optIndex ? 'border-blue-500 bg-blue-500' : 'border-slate-400'}`}>
                                                        {quizAnswers[qIndex] === optIndex && <div className="w-2 h-2 bg-white rounded-full"></div>}
                                                    </div>
                                                    <span className="text-sm md:text-base">{opt}</span>
                                                </div>
                                            </button>
                                        ))}
                                    </div>
                                </Card>
                            ))}
                            <button 
                                onClick={submitQuiz}
                                disabled={Object.keys(quizAnswers).length < QUIZ_QUESTIONS.length}
                                className="w-full py-4 bg-blue-600 text-white rounded-xl font-bold text-lg shadow-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-blue-700 transition transform hover:-translate-y-1 active:translate-y-0"
                            >
                                Submit Answers
                            </button>
                        </div>
                    ) : (
                        <Card className="text-center p-8 md:p-12">
                            <div className="text-6xl mb-6">{quizScore >= 4 ? 'ðŸ†' : 'ðŸ“š'}</div>
                            <h2 className="text-3xl font-extrabold mb-2 text-slate-800">You scored {quizScore} / {QUIZ_QUESTIONS.length}</h2>
                            <p className="text-slate-600 mb-8 text-lg">
                                {quizScore === 5 ? "Perfect! You've mastered therapeutic communication." : "Good effort! Review the sections to master the definitions and techniques."}
                            </p>
                            
                            <div className="bg-slate-50 border border-slate-200 rounded-lg p-4 text-left mb-8 space-y-4">
                                <h4 className="font-bold text-slate-700 border-b pb-2">Quick Review:</h4>
                                {QUIZ_QUESTIONS.map((q, i) => (
                                    <div key={i} className="text-sm">
                                        <p className="text-slate-600 mb-1"><span className="font-bold text-slate-800">{i+1}.</span> {q.q}</p>
                                        <p className={`font-medium ${quizAnswers[i] === q.correct ? 'text-green-600' : 'text-red-500'}`}>
                                            Your answer: {q.options[quizAnswers[i]]} {quizAnswers[i] === q.correct ? 'âœ“' : 'âœ—'}
                                        </p>
                                        {quizAnswers[i] !== q.correct && (
                                            <p className="text-emerald-600 mt-1">Correct: {q.options[q.correct]}</p>
                                        )}
                                    </div>
                                ))}
                            </div>

                            <button onClick={resetQuiz} className="bg-slate-800 text-white px-8 py-3 rounded-full font-bold hover:bg-slate-700 transition shadow-lg">Try Again</button>
                        </Card>
                    )}
                </div>
            );

            return (
                <div className="min-h-screen bg-slate-50 font-sans text-slate-800">
                    {/* Top Navigation */}
                    <nav className="bg-white shadow-sm sticky top-0 z-50">
                        <div className="max-w-6xl mx-auto px-4 h-16 flex items-center justify-between">
                            <div className="flex items-center gap-2 font-bold text-sm md:text-lg text-blue-800 cursor-pointer" onClick={() => handleNavClick(SECTIONS.INTRO)}>
                                <DepartmentLogo className="w-10 h-10 md:w-12 md:h-12 flex-shrink-0 drop-shadow-sm" />
                                <span className="hidden sm:inline">Psychiatric and Mental Health Nursing</span>
                                <span className="sm:hidden">Psych Nursing</span>
                            </div>
                            
                            {/* Desktop Nav */}
                            <div className="hidden md:flex gap-1">
                                {[
                                    { id: SECTIONS.INTRO, label: 'Process', icon: <RefreshCw size={16}/> },
                                    { id: SECTIONS.TYPES, label: 'Types', icon: <Layers size={16}/> },
                                    { id: SECTIONS.TECHNIQUES, label: 'Techniques', icon: <MessageCircle size={16}/> },
                                    { id: SECTIONS.BLOCKS, label: 'Blocks', icon: <ShieldAlert size={16}/> },
                                    { id: SECTIONS.QUIZ, label: 'Quiz', icon: <Lightbulb size={16}/> },
                                ].map(nav => (
                                    <button
                                        key={nav.id}
                                        onClick={() => handleNavClick(nav.id)}
                                        className={`flex items-center gap-2 px-3 py-2 rounded-full text-sm font-medium transition-colors ${
                                            activeSection === nav.id 
                                                ? 'bg-blue-100 text-blue-700' 
                                                : 'text-slate-600 hover:bg-slate-100'
                                        }`}
                                    >
                                        {nav.icon} {nav.label}
                                    </button>
                                ))}
                            </div>

                            {/* Mobile Nav Dropdown (simplified as horizontal scroll) */}
                            <div className="md:hidden flex overflow-x-auto hide-scrollbar gap-2 pl-2">
                                {[
                                    { id: SECTIONS.INTRO, label: 'Intro' },
                                    { id: SECTIONS.TYPES, label: 'Types' },
                                    { id: SECTIONS.TECHNIQUES, label: 'Techs' },
                                    { id: SECTIONS.BLOCKS, label: 'Blocks' },
                                    { id: SECTIONS.QUIZ, label: 'Quiz' },
                                ].map(nav => (
                                    <button
                                        key={nav.id}
                                        onClick={() => handleNavClick(nav.id)}
                                        className={`px-3 py-1.5 rounded-full text-xs font-bold whitespace-nowrap ${
                                            activeSection === nav.id ? 'bg-blue-600 text-white' : 'bg-slate-100 text-slate-600'
                                        }`}
                                    >
                                        {nav.label}
                                    </button>
                                ))}
                            </div>
                        </div>
                    </nav>

                    {/* Main Content Area */}
                    <main className="max-w-5xl mx-auto px-4 py-8">
                        {activeSection === SECTIONS.INTRO && <IntroProcessView />}
                        {activeSection === SECTIONS.TYPES && <TypesView />}
                        {activeSection === SECTIONS.TECHNIQUES && <TechniquesView />}
                        {activeSection === SECTIONS.BLOCKS && <BlocksDifficultView />}
                        {activeSection === SECTIONS.QUIZ && <QuizView />}
                    </main>

                    {/* Footer */}
                    <footer className="bg-slate-900 text-slate-300 py-10 mt-12 border-t-4 border-indigo-600">
                        <div className="max-w-5xl mx-auto px-6 flex flex-col md:flex-row items-center md:items-start justify-between gap-8">
                            <div className="flex flex-col sm:flex-row items-center sm:items-start gap-5 text-center sm:text-left">
                                <FacultyLogo className="w-24 h-28 flex-shrink-0 drop-shadow-md" />
                                <div className="mt-2">
                                    <p className="mb-1 text-lg font-bold text-white">Psychiatric Nursing & Mental Health</p>
                                    <p className="text-sm text-slate-400 max-w-xs">Introduction to Psychiatric and Mental Health Nursing â€¢ Educational Material</p>
                                </div>
                            </div>
                            
                            <div className="text-center md:text-right space-y-2 text-sm border-t md:border-t-0 border-slate-700 pt-6 md:pt-0 w-full md:w-auto">
                                <p className="flex flex-col sm:block"><span className="text-slate-500 text-xs uppercase tracking-wider block sm:inline sm:mr-2">Dean of The Faculty:</span> <span className="text-slate-200">Prof. Dr. Hanan Hosny El-Sherbiny</span></p>
                                <p className="flex flex-col sm:block"><span className="text-slate-500 text-xs uppercase tracking-wider block sm:inline sm:mr-2">Acting Head of Department:</span> <span className="text-slate-200">Asst. Prof. Dr. Mayar Ezz-Eldin El-Naqeeb</span></p>
                                <p className="flex flex-col sm:block"><span className="text-slate-500 text-xs uppercase tracking-wider block sm:inline sm:mr-2">Created by:</span> <span className="font-semibold text-white">M.Abdallah Abozaid</span></p>
                            </div>
                        </div>
                    </footer>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<TherapeuticCommunication />);
    </script>
</body>
</html>