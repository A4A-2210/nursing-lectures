<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Psychotherapy - Psychiatric Nursing</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel for JSX compilation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Lucide Icons (Vanilla) -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f8fafc; }
        /* Arabic Font support if needed */
        @import url('https://fonts.googleapis.com/css2?family=Noto+Kufi+Arabic:wght@400;700&display=swap');
        .font-arabic { font-family: 'Noto Kufi Arabic', sans-serif; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef, useLayoutEffect } = React;

        // --- ICON SYSTEM SETUP ---
        const IconWrapper = ({ name, ...props }) => {
            const ref = useRef(null);
            
            useLayoutEffect(() => {
                if (ref.current && window.lucide && window.lucide.icons[name]) {
                    const iconElement = window.lucide.createElement(window.lucide.icons[name]);
                    if (props.className) {
                        const existingClass = iconElement.getAttribute('class') || '';
                        iconElement.setAttribute('class', `${existingClass} ${props.className}`);
                    }
                    if (props.size) {
                        iconElement.setAttribute('width', props.size);
                        iconElement.setAttribute('height', props.size);
                    }
                    ref.current.innerHTML = '';
                    ref.current.appendChild(iconElement);
                }
            }, [name, props.className, props.size]);

            return <span ref={ref} style={{ display: 'inline-flex', verticalAlign: 'middle' }} />;
        };

        const createIconComponent = (name) => (props) => <IconWrapper name={name} {...props} />;

        const Brain = createIconComponent('Brain');
        const Users = createIconComponent('Users');
        const Home = createIconComponent('Home');
        const Lightbulb = createIconComponent('Lightbulb');
        const MessageSquare = createIconComponent('MessageSquare');
        const ChevronDown = createIconComponent('ChevronDown');
        const ChevronUp = createIconComponent('ChevronUp');
        const AlertCircle = createIconComponent('AlertCircle');
        const Layers = createIconComponent('Layers');
        const Activity = createIconComponent('Activity');
        const Target = createIconComponent('Target');
        const Repeat = createIconComponent('Repeat');
        const RefreshCw = createIconComponent('RefreshCw');
        const Eye = createIconComponent('Eye');
        const Zap = createIconComponent('Zap');

        // --- SVG 1: DEPARTMENT LOGO (Original) ---
        const DepartmentLogo = ({ className = "w-10 h-10" }) => (
            <svg viewBox="0 0 100 120" className={className} xmlns="http://www.w3.org/2000/svg">
                <path d="M 5 80 C 15 100 40 110 60 105 C 80 100 95 85 95 75 C 95 70 85 65 75 75 C 65 85 50 90 35 85 C 25 80 15 75 5 80 Z" fill="#004a8f" />
                <path d="M 30 85 C 45 92 60 90 75 80" stroke="#ffffff" strokeWidth="2.5" strokeLinecap="round" fill="none" />
                <path d="M 40 78 C 55 85 70 80 85 70" stroke="#ffffff" strokeWidth="2.5" strokeLinecap="round" fill="none" />
                <path d="M 50 65 L 53 72 L 58 67 L 58 57 C 58 52 64 50 64 45 C 64 43 60 41 60 39 L 68 37 C 70 36 70 34 68 32 C 65 31 62 32 60 29 C 60 15 48 5 35 10" stroke="#004a8f" strokeWidth="3" strokeLinecap="round" strokeLinejoin="round" fill="none" />
                <g stroke="#1e1b4b" strokeWidth="1.5" fill="none">
                    <circle cx="35" cy="22" r="9" />
                    <circle cx="28" cy="35" r="9" />
                    <circle cx="42" cy="35" r="9" />
                </g>
                <text x="35" y="24.5" fontSize="7" fill="#1e1b4b" textAnchor="middle" fontWeight="bold" fontFamily="sans-serif">C</text>
                <text x="28" y="37.5" fontSize="7" fill="#1e1b4b" textAnchor="middle" fontWeight="bold" fontFamily="sans-serif">C</text>
                <text x="42" y="37.5" fontSize="7" fill="#1e1b4b" textAnchor="middle" fontWeight="bold" fontFamily="sans-serif">A</text>
            </svg>
        );

        // --- SVG 2: FACULTY LOGO (New) ---
        const FacultyLogo = ({ className = "w-24 h-28" }) => (
            <svg viewBox="0 0 100 130" className={className} xmlns="http://www.w3.org/2000/svg">
                {/* Outer Borders */}
                <path d="M 2 2 L 98 2 L 98 65 C 98 110 50 128 50 128 C 50 128 2 110 2 65 Z" fill="#24335c" />
                <path d="M 4 4 L 96 4 L 96 65 C 96 108 50 125 50 125 C 50 125 4 108 4 65 Z" fill="#ffffff" />
                
                {/* Sky & Sea */}
                <path d="M 6 6 L 94 6 L 94 65 C 94 106 50 122 50 122 C 50 122 6 106 6 65 Z" fill="#66c5f4" />
                <path d="M 6 75 L 94 75 C 94 106 50 122 50 122 C 50 122 6 106 6 75 Z" fill="#1da2d8" />
                
                {/* Beams */}
                <g stroke="#1a2f57" strokeWidth="0.8">
                    <line x1="50" y1="18" x2="15" y2="12" />
                    <line x1="50" y1="18" x2="10" y2="20" />
                    <line x1="50" y1="18" x2="10" y2="28" />
                    <line x1="50" y1="18" x2="15" y2="35" />
                    
                    <line x1="50" y1="18" x2="85" y2="12" />
                    <line x1="50" y1="18" x2="90" y2="20" />
                    <line x1="50" y1="18" x2="90" y2="28" />
                    <line x1="50" y1="18" x2="85" y2="35" />
                </g>
                
                {/* Fortress & Lighthouse */}
                <g fill="#c49341" stroke="#1a2f57" strokeWidth="1.2" strokeLinejoin="round">
                    {/* Left Tower */}
                    <polygon points="12,60 10,75 22,75 20,60" />
                    <rect x="10" y="56" width="12" height="4" />
                    <rect x="11" y="53" width="10" height="3" />
                    {/* Left Wall */}
                    <rect x="20" y="63" width="18" height="12" />
                    
                    {/* Right Tower */}
                    <polygon points="80,60 78,75 90,75 88,60" />
                    <rect x="78" y="56" width="12" height="4" />
                    <rect x="79" y="53" width="10" height="3" />
                    {/* Right Wall */}
                    <rect x="62" y="63" width="18" height="12" />
                    
                    {/* Main Lighthouse Base */}
                    <polygon points="40,40 33,75 67,75 60,40" />
                    <rect x="38" y="38" width="24" height="4" />
                    {/* Mid Tier */}
                    <rect x="42" y="24" width="16" height="14" />
                    <rect x="40" y="22" width="20" height="3" />
                    {/* Top Tier */}
                    <rect x="45" y="14" width="10" height="8" />
                    <rect x="44" y="12" width="12" height="2" />
                    {/* Lantern */}
                    <polygon points="47,12 48,7 52,7 53,12" />
                </g>
                
                {/* Details (Windows/Doors) */}
                <g fill="none" stroke="#1a2f57" strokeWidth="1.2">
                    {/* Left Wall Windows */}
                    <rect x="22" y="66" width="3" height="4" />
                    <rect x="27" y="66" width="3" height="4" />
                    <rect x="32" y="66" width="3" height="4" />
                    
                    {/* Right Wall Windows */}
                    <rect x="65" y="66" width="3" height="4" />
                    <rect x="70" y="66" width="3" height="4" />
                    <rect x="75" y="66" width="3" height="4" />
                    
                    {/* Main Tower Door & Windows */}
                    <rect x="47" y="64" width="6" height="11" />
                    <rect x="48" y="54" width="4" height="5" />
                    <rect x="48" y="46" width="4" height="5" />
                    
                    {/* Mid Tier Windows */}
                    <rect x="44" y="27" width="4" height="4" />
                    <rect x="52" y="27" width="4" height="4" />
                </g>
                
                {/* Wave styling */}
                <g fill="#1a2f57" stroke="none">
                    <path d="M 12 85 Q 16 87 20 85 L 20 87 Q 16 89 12 87 Z" />
                    <path d="M 28 85 Q 32 87 36 85 L 36 87 Q 32 89 28 87 Z" />
                    <path d="M 44 85 Q 48 87 52 85 L 52 87 Q 48 89 44 87 Z" />
                    <path d="M 60 85 Q 64 87 68 85 L 68 87 Q 64 89 60 87 Z" />
                    <path d="M 76 85 Q 80 87 84 85 L 84 87 Q 80 89 76 87 Z" />
                    
                    <path d="M 20 95 Q 24 97 28 95 L 28 97 Q 24 99 20 97 Z" />
                    <path d="M 36 95 Q 40 97 44 95 L 44 97 Q 40 99 36 97 Z" />
                    <path d="M 52 95 Q 56 97 60 95 L 60 97 Q 56 99 52 97 Z" />
                    <path d="M 68 95 Q 72 97 76 95 L 76 97 Q 72 99 68 97 Z" />

                    <path d="M 28 105 Q 32 107 36 105 L 36 107 Q 32 109 28 107 Z" />
                    <path d="M 44 105 Q 48 107 52 105 L 52 107 Q 48 109 44 107 Z" />
                    <path d="M 60 105 Q 64 107 68 105 L 68 107 Q 64 109 60 107 Z" />
                    
                    <path d="M 40 115 Q 44 117 48 115 L 48 117 Q 44 119 40 117 Z" />
                    <path d="M 52 115 Q 56 117 60 115 L 60 117 Q 56 119 52 117 Z" />
                </g>
            </svg>
        );

        // --- CUSTOM SVG ILLUSTRATIONS (15+) ---

        // SVG 3: CBT Cycle
        const CBTCycleIllustration = () => (
            <div className="flex justify-center my-6">
                <div className="bg-white p-6 rounded-xl border border-slate-200 shadow-sm relative w-full max-w-md">
                    <h5 className="font-bold text-slate-700 mb-6 text-center">CBT Cycle</h5>
                    <svg viewBox="0 0 200 180" className="w-full h-48 drop-shadow-md">
                        <circle cx="100" cy="30" r="25" fill="#eff6ff" stroke="#3b82f6" strokeWidth="2" />
                        <text x="100" y="34" fontSize="10" fontWeight="bold" fill="#1e40af" textAnchor="middle">Thoughts</text>
                        <circle cx="40" cy="140" r="25" fill="#fdf2f8" stroke="#ec4899" strokeWidth="2" />
                        <text x="40" y="144" fontSize="10" fontWeight="bold" fill="#9d174d" textAnchor="middle">Behaviors</text>
                        <circle cx="160" cy="140" r="25" fill="#fefce8" stroke="#eab308" strokeWidth="2" />
                        <text x="160" y="144" fontSize="10" fontWeight="bold" fill="#854d0e" textAnchor="middle">Feelings</text>
                        <g stroke="#94a3b8" strokeWidth="2" fill="none" markerEnd="url(#arrowhead)" markerStart="url(#arrowstart)">
                            <line x1="85" y1="52" x2="55" y2="118" />
                            <line x1="115" y1="52" x2="145" y2="118" />
                            <line x1="70" y1="140" x2="130" y2="140" />
                        </g>
                        <defs>
                            <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                                <polygon points="0 0, 10 3.5, 0 7" fill="#94a3b8" />
                            </marker>
                            <marker id="arrowstart" markerWidth="10" markerHeight="7" refX="1" refY="3.5" orient="auto-start-reverse">
                                <polygon points="0 0, 10 3.5, 0 7" fill="#94a3b8" />
                            </marker>
                        </defs>
                    </svg>
                </div>
            </div>
        );

        // SVG 4: Group Therapy
        const GroupTherapyIllustration = () => (
            <div className="my-6 flex justify-center">
                <div className="relative w-48 h-48">
                    <svg viewBox="0 0 200 200" className="w-full h-full drop-shadow-md">
                        <circle cx="100" cy="100" r="80" fill="none" stroke="#e2e8f0" strokeWidth="2" strokeDasharray="5,5" />
                        <circle cx="100" cy="20" r="15" fill="#3b82f6" />
                        <text x="100" y="24" fontSize="10" fill="white" textAnchor="middle" fontWeight="bold">T</text>
                        <circle cx="160" cy="45" r="12" fill="#94a3b8" />
                        <circle cx="180" cy="100" r="12" fill="#94a3b8" />
                        <circle cx="160" cy="155" r="12" fill="#94a3b8" />
                        <circle cx="100" cy="180" r="12" fill="#94a3b8" />
                        <circle cx="40" cy="155" r="12" fill="#94a3b8" />
                        <circle cx="20" cy="100" r="12" fill="#94a3b8" />
                        <circle cx="40" cy="45" r="12" fill="#94a3b8" />
                        <g stroke="#cbd5e1" strokeWidth="1" opacity="0.6">
                            <line x1="100" y1="35" x2="160" y2="155" />
                            <line x1="40" y1="45" x2="180" y2="100" />
                            <line x1="20" y1="100" x2="160" y2="45" />
                            <line x1="100" y1="180" x2="160" y2="45" />
                            <line x1="40" y1="155" x2="100" y2="20" />
                        </g>
                    </svg>
                </div>
            </div>
        );

        // SVG 5: Systematic Desensitization
        const SystematicDesensitizationIllustration = () => (
            <svg viewBox="0 0 300 100" className="w-full h-24 my-2">
                <line x1="30" y1="50" x2="270" y2="50" stroke="#bfdbfe" strokeWidth="4" />
                <circle cx="40" cy="50" r="15" fill="#eff6ff" stroke="#3b82f6" strokeWidth="2" />
                <text x="40" y="54" fontSize="12" fill="#1d4ed8" textAnchor="middle" fontWeight="bold">1</text>
                <text x="40" y="80" fontSize="10" fill="#475569" textAnchor="middle">Relaxation</text>
                
                <circle cx="115" cy="50" r="15" fill="#eff6ff" stroke="#3b82f6" strokeWidth="2" />
                <text x="115" y="54" fontSize="12" fill="#1d4ed8" textAnchor="middle" fontWeight="bold">2</text>
                <text x="115" y="80" fontSize="10" fill="#475569" textAnchor="middle">Hierarchy</text>

                <circle cx="190" cy="50" r="15" fill="#eff6ff" stroke="#3b82f6" strokeWidth="2" />
                <text x="190" y="54" fontSize="12" fill="#1d4ed8" textAnchor="middle" fontWeight="bold">3</text>
                <text x="190" y="80" fontSize="10" fill="#475569" textAnchor="middle">Exposure</text>

                <circle cx="265" cy="50" r="15" fill="#dcfce7" stroke="#22c55e" strokeWidth="2" />
                <text x="265" y="54" fontSize="12" fill="#15803d" textAnchor="middle" fontWeight="bold">‚úî</text>
                <text x="265" y="80" fontSize="10" fill="#15803d" textAnchor="middle">Calm</text>
            </svg>
        );

        // SVG 6: Freud's Iceberg (Psychoanalysis)
        const PsychoanalysisIceberg = () => (
            <svg viewBox="0 0 200 200" className="w-full h-32 my-4">
                <path d="M 0 80 L 200 80" stroke="#38bdf8" strokeWidth="2" strokeDasharray="4 4" />
                <path d="M 80 80 L 100 20 L 120 80 Z" fill="#e0f2fe" stroke="#0ea5e9" strokeWidth="2" />
                <path d="M 80 80 L 120 80 L 160 180 L 40 180 Z" fill="#bae6fd" stroke="#0284c7" strokeWidth="2" opacity="0.8" />
                <text x="100" y="60" fontSize="10" fill="#0369a1" textAnchor="middle" fontWeight="bold">Conscious</text>
                <text x="100" y="130" fontSize="12" fill="#075985" textAnchor="middle" fontWeight="bold">Unconscious Conflicts</text>
            </svg>
        );

        // SVG 7: Dream Analysis
        const DreamAnalysisSVG = () => (
            <svg viewBox="0 0 100 100" className="w-16 h-16 ml-auto opacity-75">
                <path d="M 20 80 Q 40 100 60 80 Q 80 80 80 60 Q 80 40 60 40 Q 40 20 20 40 Q 0 60 20 80" fill="#f1f5f9" stroke="#94a3b8" strokeWidth="2" />
                <circle cx="45" cy="55" r="4" fill="#64748b" />
                <path d="M 60 45 L 65 55 L 55 55 Z" fill="#64748b" />
                <rect x="35" y="65" width="8" height="8" fill="#64748b" />
                <path d="M 70 80 L 90 90 M 75 85 L 85 95" stroke="#94a3b8" strokeWidth="2" strokeDasharray="2 2" />
            </svg>
        );

        // SVG 8: Transference
        const TransferenceSVG = () => (
            <svg viewBox="0 0 200 100" className="w-full h-20 my-2">
                <circle cx="40" cy="50" r="20" fill="#cbd5e1" />
                <text x="40" y="54" fontSize="10" textAnchor="middle" fill="#334155" fontWeight="bold">Client</text>
                <circle cx="160" cy="50" r="20" fill="#bfdbfe" />
                <text x="160" y="54" fontSize="10" textAnchor="middle" fill="#1e3a8a" fontWeight="bold">Therapist</text>
                <path d="M 70 40 Q 100 20 130 40" fill="none" stroke="#ef4444" strokeWidth="2" markerEnd="url(#arrowhead-red)" strokeDasharray="4 4" />
                <text x="100" y="25" fontSize="10" fill="#ef4444" textAnchor="middle">Past Feelings</text>
                <defs>
                    <marker id="arrowhead-red" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                        <polygon points="0 0, 10 3.5, 0 7" fill="#ef4444" />
                    </marker>
                </defs>
            </svg>
        );

        // SVG 9: Progressive Muscle Relaxation
        const ProgressiveRelaxationSVG = () => (
            <svg viewBox="0 0 100 100" className="w-16 h-16 opacity-80">
                <rect x="20" y="10" width="60" height="80" rx="10" fill="#f8fafc" stroke="#cbd5e1" strokeWidth="2" />
                <line x1="20" y1="70" x2="80" y2="70" stroke="#3b82f6" strokeWidth="4" strokeLinecap="round" />
                <line x1="20" y1="50" x2="80" y2="50" stroke="#60a5fa" strokeWidth="4" strokeLinecap="round" opacity="0.7" />
                <line x1="20" y1="30" x2="80" y2="30" stroke="#93c5fd" strokeWidth="4" strokeLinecap="round" opacity="0.4" />
                <path d="M 50 85 L 50 15" stroke="#1d4ed8" strokeWidth="2" markerEnd="url(#arrowhead)" strokeDasharray="2 2" />
            </svg>
        );

        // SVG 10: Aversion Therapy
        const AversionTherapySVG = () => (
            <svg viewBox="0 0 100 100" className="w-16 h-16">
                <rect x="20" y="30" width="30" height="50" rx="5" fill="#fecaca" stroke="#dc2626" strokeWidth="2" />
                <text x="35" y="60" fontSize="20" fill="#dc2626" textAnchor="middle">X</text>
                <circle cx="75" cy="65" r="12" fill="#fcd34d" stroke="#d97706" strokeWidth="2" />
                <line x1="68" y1="65" x2="82" y2="65" stroke="#d97706" strokeWidth="2" />
                <path d="M 50 55 Q 60 40 70 50" fill="none" stroke="#475569" strokeWidth="2" markerEnd="url(#arrowhead)" />
            </svg>
        );

        // SVG 11: Token Economy
        const TokenEconomySVG = () => (
            <svg viewBox="0 0 150 50" className="w-full h-12">
                <circle cx="30" cy="25" r="15" fill="#fbbf24" stroke="#b45309" strokeWidth="2" />
                <text x="30" y="30" fontSize="14" fill="#78350f" textAnchor="middle">‚òÖ</text>
                <path d="M 60 25 L 90 25" stroke="#64748b" strokeWidth="2" markerEnd="url(#arrowhead)" />
                <rect x="110" y="10" width="30" height="30" rx="4" fill="#86efac" stroke="#166534" strokeWidth="2" />
                <text x="125" y="30" fontSize="14" fill="#14532d" textAnchor="middle">üéÅ</text>
            </svg>
        );

        // SVG 12: Cognitive Triad
        const CognitiveTriadSVG = () => (
            <div className="flex justify-center my-4">
                <svg viewBox="0 0 200 160" className="w-48 h-40">
                    <polygon points="100,20 30,130 170,130" fill="#f8fafc" stroke="#3b82f6" strokeWidth="2" />
                    <circle cx="100" cy="20" r="20" fill="#dbeafe" />
                    <text x="100" y="24" fontSize="10" fill="#1e40af" textAnchor="middle" fontWeight="bold">Self</text>
                    <circle cx="30" cy="130" r="22" fill="#dbeafe" />
                    <text x="30" y="134" fontSize="10" fill="#1e40af" textAnchor="middle" fontWeight="bold">World</text>
                    <circle cx="170" cy="130" r="22" fill="#dbeafe" />
                    <text x="170" y="134" fontSize="10" fill="#1e40af" textAnchor="middle" fontWeight="bold">Future</text>
                    <text x="100" y="90" fontSize="12" fill="#475569" textAnchor="middle" fontWeight="bold">Beck's Triad</text>
                </svg>
            </div>
        );

        // SVG 13: Overgeneralization
        const OvergeneralizationSVG = () => (
            <svg viewBox="0 0 150 60" className="w-full h-16 my-2">
                <circle cx="20" cy="30" r="5" fill="#1e293b" />
                <path d="M 35 30 L 70 30" stroke="#94a3b8" strokeWidth="2" markerEnd="url(#arrowhead)" />
                <path d="M 100 45 Q 80 45 90 25 Q 110 5 130 25 Q 140 45 120 45 Z" fill="#334155" />
            </svg>
        );

        // SVG 14: Dichotomous Thinking
        const DichotomousThinkingSVG = () => (
            <svg viewBox="0 0 100 100" className="w-16 h-16 ml-auto">
                <circle cx="50" cy="50" r="40" stroke="#0f172a" strokeWidth="2" fill="none" />
                <path d="M 50 10 A 40 40 0 0 0 50 90 Z" fill="#0f172a" />
                <path d="M 50 10 A 40 40 0 0 1 50 90 Z" fill="#ffffff" />
            </svg>
        );

        // SVG 15: Reattribution
        const ReattributionSVG = () => (
            <svg viewBox="0 0 200 100" className="w-full h-24 my-2">
                <line x1="100" y1="20" x2="100" y2="80" stroke="#64748b" strokeWidth="4" />
                <polygon points="80,80 120,80 100,20" fill="#94a3b8" />
                <line x1="40" y1="40" x2="160" y2="40" stroke="#475569" strokeWidth="4" />
                <rect x="30" y="40" width="20" height="20" fill="#ef4444" />
                <text x="40" y="54" fontSize="10" fill="white" textAnchor="middle">Auto</text>
                <rect x="140" y="40" width="10" height="10" fill="#3b82f6" />
                <rect x="155" y="40" width="10" height="10" fill="#3b82f6" />
                <text x="152" y="65" fontSize="10" fill="#1d4ed8" textAnchor="middle">Alternatives</text>
            </svg>
        );

        // SVG 16: Mindfulness
        const MindfulnessSVG = () => (
            <svg viewBox="0 0 100 100" className="w-20 h-20 opacity-80">
                <path d="M 50 80 Q 20 80 30 50 Q 50 60 50 80" fill="#fbcfe8" />
                <path d="M 50 80 Q 80 80 70 50 Q 50 60 50 80" fill="#fbcfe8" />
                <path d="M 50 80 Q 20 40 50 20 Q 80 40 50 80" fill="#f472b6" />
                <circle cx="50" cy="50" r="10" fill="#fdf2f8" />
                <circle cx="50" cy="50" r="3" fill="#ec4899" />
            </svg>
        );

        // SVG 17: Family Therapy
        const FamilyTherapySVG = () => (
            <svg viewBox="0 0 200 150" className="w-48 h-36 mx-auto my-4">
                <path d="M 20 80 L 100 20 L 180 80 L 160 80 L 160 140 L 40 140 L 40 80 Z" fill="#f0fdf4" stroke="#22c55e" strokeWidth="3" strokeLinejoin="round" />
                <circle cx="70" cy="80" r="10" fill="#3b82f6" />
                <rect x="65" y="90" width="10" height="30" fill="#3b82f6" />
                <circle cx="130" cy="80" r="10" fill="#ec4899" />
                <rect x="125" y="90" width="10" height="30" fill="#ec4899" />
                <circle cx="100" cy="100" r="8" fill="#eab308" />
                <rect x="96" y="108" width="8" height="20" fill="#eab308" />
                <path d="M 75 95 L 96 110 M 125 95 L 104 110" stroke="#64748b" strokeWidth="2" />
            </svg>
        );


        // --- APPLICATION DATA & TEXT (VERBATIM) ---

        const SECTIONS = {
            INTRO: 'introduction',
            INDIVIDUAL: 'individual',
            GROUP: 'group',
            FAMILY: 'family',
            QUIZ: 'quiz'
        };

        const INDIVIDUAL_DATA = {
            psychoanalysis: {
                title: "I. Psychoanalytic Therapy (Psychoanalysis)",
                icon: <Layers className="w-5 h-5"/>,
                intro: "This therapy is based on Freud's theory of personality development (psychoanalytic theory). According to this theory, the source of client's unconscious conflicts and problems lies in early childhood experiences.",
                intro2: "The goal of psychoanalysis is to access the unconscious conflicts that originate in childhood and bring all repressed emotions, experiences and motives to conscious awareness, so that the patient can develop insight into them and work towards a healthy resolution of his problems. Traditional psychoanalysis is a lengthy, intensive, and expensive process. Client and analyst usually meet for 50-minute sessions once a week (but sometimes more frequently) for at least a year and often for several years.",
                items: [
                    { term: "Free association", def: "The client is encouraged to talk spontaneously about anything that comes to his mind. The therapist then looks for and interprets patterns in the client's responses, so they can explore the meaning of these patterns together. This technique is believed to help unconscious fears, thoughts and motives come to conscious awareness." },
                    { term: "Dream analysis", def: "Uncovers repressed feelings that may be hidden in symbols that appear in the client's dreams. The therapist attempts to assist the client to recognize his unconscious conflicts through the use of dream interpretation. Analysis of the client's dreams helps the client discover the meaning and significance of those symbols, and gain additional insight into areas of unconscious conflict.", extraSvg: <DreamAnalysisSVG /> },
                    { term: "Transference analysis", def: "Involves exploring the transfer of the client's positive or negative feelings towards the therapist. This transference represents the client's repressed past childhood feelings toward a significant other, usually a parent. The therapist analyzes these patterns to gain insight into the client's past experiences and unconscious conflicts.", extraSvg: <TransferenceSVG /> }
                ]
            },
            behavioral: {
                title: "II. Behavioral Therapy",
                icon: <Activity className="w-5 h-5"/>,
                intro: "This type of therapy views symptoms as maladaptive learned behavioral responses to stress and can be unlearned. It focuses on identifying maladaptive behaviors and seeking to correct these by applying the principles of learning derived from the classical conditioning model and operant conditioning model.",
                intro2: "Goal of behavioral therapy is improving an individual functioning by helping the client changes undesirable behaviors and learn new behaviors. Behavioral therapy is a short duration therapy. The total duration of therapy is usually 2-6 months.",
                groups: [
                    {
                        title: "1) Techniques for reducing anxiety and inducing relaxation:",
                        items: [
                            { term: "Progressive muscle relaxation", def: "Anxiety and tension usually involves physical and psychological components which are linked. The client assumes a comfortable position while lying or sitting, and then starting at the toes and working upwards, he is taught to recognize physical tension by contracting and releasing each muscle group of the body in sequence. Finally, the client is taught to control the rate and depth of his breathing and to concentrate on removing tension from his body. Mental relaxation will then follow.", extraSvg: <ProgressiveRelaxationSVG /> },
                            { term: "Mental imagery", def: "The client is encouraged to imagine a mental picture of a scene that has associations of warmth, comfort and relaxation- such as floating through the air or lying on a beach whilst on holiday." },
                            { term: "Other forms of relaxation techniques", def: "Include deep-breathing exercises, physical exercise and meditation." }
                        ]
                    },
                    {
                        title: "2) Techniques for minimizing unwanted behavior:",
                        items: [
                            { term: "Systematic desensitization", def: "Its aim is to weaken the link between specific situation and anxiety response. It is a technique in which the client is gradually exposed to anxiety-provoking situations while maintaining a state of deep relaxation. It is usually done in the imagination but can also be carried out in real life, e.g., a client who has phobia of a particular situation will be exposed to the phobic situation for short periods while in a relaxed state. Gradually over a period of time, exposure is increased until the anxiety has ceased.", illustration: <SystematicDesensitizationIllustration /> },
                            { term: "Exposure and Response Prevention (ERP)", def: "In this technique the therapist exposes clients to situations that provoke their obsessions and the resulting distress in a safe environment while helping them prevent their compulsive responses. For example, compulsive hand-washers are encouraged to touch contaminated objects and then refrain from washing. Clients learn over time that the stimuli, thoughts, and feelings that prompt compulsions are more bearable than they anticipated and do not actually lead to feared outcomes. They come to recognize that they are capable of coping with the triggers without resorting to compulsive rituals." },
                            { term: "Aversion Therapy (Aversive Conditioning)", def: "It aims to reduce maladaptive behavior by associating it with an unpleasant experience, such as pain, or vomiting. For example, aversion therapy is used with people who have drinking problems. It is used to prevent a relapse into drinking after abstinence. \"Disulfiram\" (Antabuse) can be taken in tablet daily. If alcohol is then consumed, nausea, vomiting, headache, fainting and abdominal cramps may then result, these symptoms are sufficiently unpleasant to avoid further drinking.", extraSvg: <AversionTherapySVG /> }
                        ]
                    },
                    {
                        title: "3) Techniques for developing new behavior or increasing wanted behavior:",
                        items: [
                            { term: "Social Skills Training", def: "It is used to help those who have difficulty in forming or maintaining relationships with others. Techniques include teaching the importance of nonverbal aspects of communication, such as making eye contact during a conversation. It also involves the use of videotapes of others and of the clients, role playing in therapy and homework assignments regarding the specific skills being practiced." },
                            { term: "Token Economy", def: "When desired behaviors are performed, clients are rewarded with Tokens (positive reinforcement). These Tokens can be exchanged for privileges such as cigarette, chocolate or a trip outside the hospital. The Tokens themselves provide immediate positive feedback. It is used where the development of new behavior is required, e.g., chronic clients with schizophrenia.", illustration: <TokenEconomySVG /> },
                            { term: "Modeling (learning by observation)", def: "The therapist provides a role model for specific identified behaviors and the client learns through imitation." }
                        ]
                    }
                ]
            },
            cognitive: {
                title: "III. Cognitive Therapy",
                icon: <Brain className="w-5 h-5"/>,
                intro: "This therapy is based on the principle that negative mood states and maladaptive behaviors are consequences of the negative thought processes, and that the individual is responsible for the nature of his negative emotions, i.e., how a person perceives or interprets his experience and determines how he feels and behaves. For example, if a person interprets a situation as dangerous, he experiences anxiety and tries to escape.",
                triadIntro: "Aaron Beck developed cognitive therapy mainly for the clients with depression. Beck's theory proposed a cognitive explanation of depression consisting of: Automatic negative thoughts. Beck's Cognitive Triad, namely negative view of self, negative view of others and negative view about the future.",
                goalText: "The goal of cognitive therapy is to identify negative thoughts and change the way clients think and thus relieve the depression. This is accomplished by assisting clients to: Notice their own automatic negative thoughts and the connections of those thoughts to mood and actions. Evaluate the presence or absence of evidence supporting the automatic thought. Replace negative thought with a more reality-based interpretation, e.g., a person may come to recognize that he generally thinks of himself as worthless whenever he is not getting \"enough\" attention from others.",
                distortions: [
                    { term: "Overgeneralization", def: "Forming general conclusion based on isolated incidents or too narrow experience, e.g., if one experience was negative, then all similar experiences will be negative.", isPathology: true, extraSvg: <OvergeneralizationSVG /> },
                    { term: "Dichotomous thinking (absolute thinking)", def: "Viewing everything in polar categories, i.e., all or none, black or white.", isPathology: true, extraSvg: <DichotomousThinkingSVG /> },
                    { term: "Magnification", def: "Placing a distorted emphasis on a single error or event, e.g., In spite of a good work history, she is a poor employee because she forgot to give her supervisor an important message.", isPathology: true },
                    { term: "Catastrophizing", def: "Assuming the worst when faced with the unknown, e.g., giving a class presentation is expected to cause embarrassment and failure, leading a student to never show their face at school again.", isPathology: true },
                    { term: "Specific abstraction", def: "Focusing on a single (often minor) detail while ignoring other more significant aspects of the experience, i.e., concentrating on one small negative detail while discounting positive aspects.", isPathology: true },
                    { term: "Personalization", def: "Tendency to believe that the person is responsible for everything that happens around them and take things personally when they are not connected to or caused by the person at all, e.g., a mother blamed herself for her daughter's bad grade in school, she assumes it is a sign that she is a bad mother.", isPathology: true },
                    { term: "Arbitrary inference", def: "Drawing a specific conclusion without sufficient evidence, i.e., jumping to negative conclusions.", isPathology: true }
                ],
                techniques: [
                    { 
                        term: "1) Reattribution Technique", 
                        def: "It is a cognitive technique which test automatic thoughts and assumptions by considering alternative cause that tries to work on the attribution of the causes of the client and is characterized by helping the client to assess what may be the cause of a given situation in order to discuss and modify his beliefs regarding such cause. The aim is to reduce or eliminate cognitive biases and automatic thoughts linked to a given attribution of the causes of a situation. The client records situations that trigger negative feelings and records these feelings and the associated automatic thoughts. The client is then challenged to come with other possible explanations regarding the situation, and by doing so, begins to evaluate and modify the automatic thoughts.",
                        illustration: <ReattributionSVG />,
                        details: [
                            "Situation: Kids were late for school. | Emotions: Upset/ Shame. | Automatic thoughts: I should have helped them more in the morning. I did something wrong. | Other interpretations: They wasted time on the way.",
                            "Situation: I forget name of a person I was talking to. | Emotions: Embarrassed/ Humiliated. | Automatic thoughts: I'm losing my mind. I can't do anything right. I'm socially ineffective. | Other interpretations: Everybody forgets sometimes. I only met her once, over a month ago."
                        ]
                    },
                    { term: "2) Cognitive techniques intended to interrupt intrusive thoughts cognitions:", def: "These are methods aiming to stop a sequence of intrusive thoughts in the hope that the thoughts will not start again immediately." },
                    { term: "- Distraction technique", def: "Focusing attention away from intrusive thoughts. This is done by attending to something in the immediate environment or engaging in demanding mental activity such as mental arithmetic, or by counting objects." },
                    { term: "- Thought stopping", def: "Using a sudden, intense but short-lived distraction to stop the intrusive thoughts. The person first shouts aloud and after practice repeats silently to himself the word \"stop\"." },
                    { term: "3) Cognitive techniques intended to solve problems:", def: "Techniques in this group help patients resolve stressful life problems directly. The basic intentions are to define the problem, divide it into manageable parts, think of alternative solutions, select the best solution, carry it out, and examine the result." }
                ]
            },
            cbt: {
                title: "IV. Cognitive Behavioral Therapy (CBT)",
                icon: <RefreshCw className="w-5 h-5"/>,
                intro: "It focuses on the link between our thoughts (cognition) and actions (behavior). It is intended to help people change thought patterns that cause unhealthy or unproductive behavior. The therapy integrates behavioral theories and cognitive theories to conclude that the way people perceive a situation determines their reaction more than the actual reality of the situation does.",
                intro2: "The behavioral component of this therapy means that a therapist will focus on the client's experience on what is observable rather than on an interpretation of it. This means that once certain thought patterns are identified, the therapist will work with the client on developing practical strategies to overcome them. The CBT often targets cognitive distortions, or irrational patterns of thought that can negatively affect behavior.",
                intro3: "The goal of treatment is to help clients identify, challenge and change cognitive distortions and self-defeating behaviors in order to change their responses to difficult situations. CBT is usually an effective treatment for different mental health conditions, including substance use disorders, depressive disorders, obsessive-compulsive disorder (OCD), anxiety, bipolar disorder, personality disorders and eating disorders. The CBT encourages client's active participation and collaboration in the treatment process. This is why often its strategies include homework assignments.",
                strategies: [
                    "Developing and practicing new coping skills",
                    "Setting short- and long-term goals",
                    "Developing new problem-solving skills",
                    "Journaling",
                    "Role-playing",
                    "Developing stress-management skills"
                ],
                thirdWave: [
                    { term: "Acceptance and Commitment Therapy (ACT)", def: "In this type of therapy clients learn to stop avoiding, denying, and struggling with their inner emotions and, instead, accept that these deeper feelings are appropriate responses to certain situations that should not prevent them from moving forward in their lives. With this understanding, clients begin to accept their hardships and commit to making necessary changes in their behavior, regardless of what is going on in their lives and how they feel about it. The ACT found to be effective for a variety of psychotic disorders, including schizophrenia, anxiety disorders and depressive disorders." },
                    { term: "Mindfulness-Based Cognitive Therapy (MBCT)", def: "It involves a combination of cognitive therapy, meditation, and the cultivation of a present-oriented, non-judgmental attitude called \"mindfulness.\" There are a number of mindfulness techniques and exercises that are utilized as a part of MBCT. Some of these include: meditation, mindfulness practices and yoga. The combination of mindfulness and cognitive therapy is what makes MBCT so effective. Mindfulness helps you observe and identify your feelings while cognitive therapy teaches you to interrupt automatic thought processes and work through feelings in a healthy way. It has been shown to be effective for other uses including depressive disorders, anxiety disorders, bipolar disorder and substance use disorders.", extraSvg: <MindfulnessSVG /> },
                    { term: "Dialectical Behavior Therapy (DBT)", def: "Its primary aim is to give people the skills to regulate their emotions, handle stress in a healthy manner, and improve relationships, and live mindfully. The DBT specifically focuses on providing therapeutic skills in four key areas. First, mindfulness focuses on improving an individual's ability to accept and be present in the current moment. Second, distress tolerance is geared toward increasing a person's tolerance of negative emotion, rather than trying to escape from it. Third, emotion regulation covers strategies to manage and change intense emotions that are causing problems in a person's life. Fourth, interpersonal effectiveness consists of techniques that allow a person to communicate with others in a way that is assertive, maintains self-respect, and strengthens relationships. The DBT was originally developed to treat borderline personality disorder. However, research shows that DBT has also been used successfully to treat people experiencing depression, bulimia, binge-eating, bipolar disorder, post-traumatic-stress disorder, and substance abuse." }
                ]
            }
        };

        const GROUP_DATA = {
            intro: "It is an interaction between two or more patients and one or more therapists. They meet at regular intervals. Group therapy acts as a model in which individuals unlearn the negative behavior and relearn the positive one through life experience in the group. The task of the group is to assist members in understanding their patterns of interacting and their effects on others.",
            structure: [
                { term: "Group Size", def: "Small group (6-10 members) or large group (25-30)." },
                { term: "Open or Closed", def: "Closed group or open group." },
                { term: "Homogeneous or Heterogeneous", def: "Homogeneous group consists of patients with similar problems like substance use, depression...etc., or heterogeneous group consists of patients with different diagnostic categories and behavioral patterns, and patients from different races, social levels, and/or educational backgrounds." },
                { term: "Time Limit", def: "Time limited groups meet for a specified period (6-8 weeks) or unlimited group." }
            ],
            types: [
                { term: "1. Psychotherapy groups", def: "They actually treat individuals' emotional problems and can be implemented from various theoretical approaches, including psychoanalytic, behavioral and cognitive." },
                { term: "2. Psycho-education groups", def: "Used to enhance knowledge, improve skills, or solve problems. Teach about medication management and how to control angry outbursts." },
                { term: "3. Supportive therapy groups", def: "Focus on helping individuals cope with their illnesses and problems." },
                { term: "4. Self-help groups", def: "They are led by people who are concerned about coping with specific problem or life crisis. Examples of self-help groups are Alcoholic Anonymous (AA) and Overeater Anonymous." }
            ],
            factors: [
                "1. By observing the improvement of other members, the patient gains hope that his problems can be solved.",
                "2. Gaining knowledge, suggestion or advice from the group members or the therapist.",
                "3. Providing assistance and support to others lead to a positive self-concept.",
                "4. Learning positive social skills.",
                "5. The group helps the member to recognize the impression he makes on others.",
                "6. Members develop a sense of belonging.",
                "7. Within the group, members are able to express both positive and negative feelings."
            ]
        };

        const FAMILY_DATA = {
            intro: "It involves the treatment of the family as a unit instead of focusing on the pathology of one member. Family therapy is based on the belief that problems of the client may be an expression of family problems, and seeing the family members together gives a complete picture about the client's condition. For example, bed-wetting in a young child may be a reflection of tension in the home, resulting from marital conflict between the parents.",
            intro2: "Assessment and treatment involves one or more therapists meeting together with all the family on a regular basis. The main goal is to identify and change the way in which members interact and communicate with each other. This is achieved by the following:",
            goals: [
                "1. Observing and clarifying verbal and non-verbal patterns of communication which often contradict one another.",
                "2. Assisting family members in improving communication skills.",
                "3. Helping to create boundaries between family members where there is over involvement or the opposite?",
                "4. Defining the manner in which family decisions are made.",
                "5. Identifying abnormal patterns of interaction used to cope with stress.",
                "6. Supporting, educating and guiding the family as a whole."
            ]
        };

        const QUIZ_QUESTIONS = [
            {
                q: "Which technique gradually exposes a client to a phobic situation while maintaining deep relaxation?",
                options: ["Aversion Therapy", "Systematic Desensitization", "Token Economy", "Thought Stopping"],
                correct: 1
            },
            {
                q: "A patient says, 'If I don't get an A on this test, I am a complete failure in life.' This is an example of which cognitive distortion?",
                options: ["Overgeneralization", "Personalization", "Dichotomous thinking (absolute thinking)", "Specific abstraction"],
                correct: 2
            },
            {
                q: "Which therapy specifically targets four key areas: Mindfulness, Distress tolerance, Emotion regulation, and Interpersonal effectiveness?",
                options: ["Psychoanalysis", "Family Therapy", "Dialectical Behavior Therapy (DBT)", "Acceptance and Commitment Therapy (ACT)"],
                correct: 2
            },
            {
                q: "In Psychoanalysis, what is 'transference analysis'?",
                options: ["Talking spontaneously about anything", "Using a sudden distraction", "Exploring the transfer of the client's feelings towards the therapist", "Providing a role model"],
                correct: 2
            },
            {
                q: "Alcoholics Anonymous (AA) is best classified as which type of group?",
                options: ["Psycho-education group", "Self-help group", "Supportive therapy group", "Heterogeneous psychotherapy group"],
                correct: 1
            }
        ];

        // --- COMPONENTS ---

        const Card = ({ children, className = "" }) => (
            <div className={`bg-white rounded-xl shadow-sm border border-slate-200 p-4 ${className}`}>
                {children}
            </div>
        );

        const SectionHeader = ({ title, icon, color }) => (
            <div className={`flex items-center gap-3 mb-6 p-4 rounded-lg ${color} bg-opacity-10`}>
                <div className={`p-2 rounded-full bg-white shadow-sm ${color.replace('bg-', 'text-')}`}>
                    {icon}
                </div>
                <h2 className="text-2xl font-bold text-slate-800">{title}</h2>
            </div>
        );

        const TermItem = ({ term, def, illustration, extraSvg, isPathology, details }) => {
            const [isOpen, setIsOpen] = useState(false);
            const hasExtra = details;
            
            return (
                <div className={`mb-3 border-l-4 ${isPathology ? 'border-red-400' : 'border-blue-400'} bg-slate-50 rounded-r-lg overflow-hidden transition-all duration-300`}>
                    <div 
                        className={`p-3 flex justify-between items-start ${hasExtra ? 'cursor-pointer hover:bg-slate-100' : ''}`}
                        onClick={() => hasExtra && setIsOpen(!isOpen)}
                    >
                        <div className="flex w-full items-start gap-3">
                            <div className="flex-1">
                                <h4 className="font-bold text-slate-800 text-lg flex items-center justify-between">
                                    <span>{term}</span>
                                    {extraSvg && <div className="ml-2 flex-shrink-0">{extraSvg}</div>}
                                </h4>
                                <p className="text-slate-600 text-sm leading-relaxed mt-1">{def}</p>
                                {illustration && <div className="mt-3">{illustration}</div>}
                                {details && !isOpen && <p className="text-xs text-blue-500 mt-2">Click to view details...</p>}
                            </div>
                        </div>
                        { hasExtra && (
                            <button className="text-slate-400 hover:text-blue-600 ml-2">
                                {isOpen ? <ChevronUp size={20} /> : <ChevronDown size={20} />}
                            </button>
                        )}
                    </div>
                    
                    {isOpen && hasExtra && (
                        <div className="bg-white p-3 border-t border-slate-200 text-sm animate-in fade-in slide-in-from-top-1">
                            {details && (
                                <div className="mb-2 pl-2">
                                    <ul className="list-disc list-inside space-y-1 text-slate-700">
                                        {details.map((item, i) => <li key={i}>{item}</li>)}
                                    </ul>
                                </div>
                            )}
                        </div>
                    )}
                </div>
            );
        };

        function PsychotherapyLecture() {
            const [activeSection, setActiveSection] = useState(SECTIONS.INTRO);
            const [quizScore, setQuizScore] = useState(0);
            const [quizSubmitted, setQuizSubmitted] = useState(false);
            const [quizAnswers, setQuizAnswers] = useState({});

            const handleNavClick = (section) => {
                setActiveSection(section);
                window.scrollTo({ top: 0, behavior: 'smooth' });
            };

            const handleQuizOption = (qIndex, optIndex) => {
                if (quizSubmitted) return;
                setQuizAnswers(prev => ({ ...prev, [qIndex]: optIndex }));
            };

            const submitQuiz = () => {
                let score = 0;
                QUIZ_QUESTIONS.forEach((q, i) => {
                    if (quizAnswers[i] === q.correct) score++;
                });
                setQuizScore(score);
                setQuizSubmitted(true);
            };

            const resetQuiz = () => {
                setQuizAnswers({});
                setQuizSubmitted(false);
                setQuizScore(0);
            };

            // --- Views ---

            const IntroView = () => (
                <div className="space-y-8 animate-in fade-in duration-500">
                    <div className="bg-gradient-to-r from-blue-600 to-indigo-700 text-white p-8 rounded-2xl shadow-xl relative overflow-hidden">
                        <div className="relative z-10">
                            <h1 className="text-4xl font-extrabold mb-4">Treatment of Psychiatric Disorders</h1>
                            <h2 className="text-2xl font-semibold mb-4 text-blue-200">II. Psychotherapy</h2>
                            <p className="text-blue-100 text-lg max-w-2xl">
                                Psychotherapy is a treatment modality that includes a variety of psychological interventions that share the goal of alleviating human emotional problems, resolving areas of conflict, diminishing psychic pain, facilitating effective individual functioning and developing more effective ways of coping.
                            </p>
                            <div className="mt-6 flex flex-wrap gap-3">
                                <button onClick={() => handleNavClick(SECTIONS.INDIVIDUAL)} className="bg-white text-blue-700 px-6 py-2 rounded-full font-bold hover:bg-blue-50 transition shadow-lg">Start Learning</button>
                                <button onClick={() => handleNavClick(SECTIONS.QUIZ)} className="bg-blue-800 bg-opacity-30 text-white border border-blue-400 px-6 py-2 rounded-full font-bold hover:bg-blue-800 transition">Take Quiz</button>
                            </div>
                        </div>
                        <MessageSquare className="absolute top-10 right-10 text-white opacity-10 w-48 h-48" />
                    </div>

                    <Card className="border-l-4 border-l-purple-500">
                        <h3 className="text-xl font-bold mb-3 flex items-center gap-2">
                            <Lightbulb className="text-purple-500" /> What is Psychotherapy?
                        </h3>
                        <p className="text-slate-600 mb-4 leading-relaxed">
                            The key to a successful psychotherapy is the development of a helping and trusting relationship between the client and the therapist for the purpose of modifying thoughts, feelings, attitudes and behaviors.
                        </p>
                        <div className="bg-purple-50 p-4 rounded-lg border border-purple-100">
                            <p className="text-sm text-purple-700">
                                The aim is not to give advice but to help the client learn about himself and to make choices toward change. Through a therapeutic dialogue, the client is encouraged to express emotions, concerns, and experiences freely without fear of being judged by the therapist. The therapist, in turn, offers empathy, acceptance and understanding, engenders trust, and tries to help the client develop more effective ways of handling problems.
                            </p>
                        </div>
                    </Card>

                    <h3 className="text-xl font-bold text-slate-800 mb-4 px-2 border-b pb-2">Types of psychotherapy:</h3>
                    <p className="text-sm text-slate-600 px-2 mb-4">Psychotherapy can be implemented individually (individual psychotherapy), in group (group psychotherapy), with families (family psychotherapy). There are several types of psychotherapies based on a number of theories and models each with specific individual philosophy and set of techniques:</p>
                    
                    <ul className="grid md:grid-cols-2 lg:grid-cols-3 gap-4 px-2">
                        <li className="bg-white p-4 rounded-lg border border-slate-200 flex items-center gap-3 shadow-sm hover:border-blue-300 transition cursor-pointer" onClick={() => handleNavClick(SECTIONS.INDIVIDUAL)}>
                            <div className="bg-blue-100 p-2 rounded text-blue-600"><Layers /></div>
                            <span className="font-bold text-slate-700">Classical psychoanalysis</span>
                        </li>
                        <li className="bg-white p-4 rounded-lg border border-slate-200 flex items-center gap-3 shadow-sm hover:border-blue-300 transition cursor-pointer" onClick={() => handleNavClick(SECTIONS.INDIVIDUAL)}>
                            <div className="bg-blue-100 p-2 rounded text-blue-600"><Activity /></div>
                            <span className="font-bold text-slate-700">Behavior therapy</span>
                        </li>
                        <li className="bg-white p-4 rounded-lg border border-slate-200 flex items-center gap-3 shadow-sm hover:border-blue-300 transition cursor-pointer" onClick={() => handleNavClick(SECTIONS.INDIVIDUAL)}>
                            <div className="bg-blue-100 p-2 rounded text-blue-600"><Brain /></div>
                            <span className="font-bold text-slate-700">Cognitive psychotherapy</span>
                        </li>
                        <li className="bg-white p-4 rounded-lg border border-slate-200 flex items-center gap-3 shadow-sm hover:border-green-300 transition cursor-pointer" onClick={() => handleNavClick(SECTIONS.FAMILY)}>
                            <div className="bg-green-100 p-2 rounded text-green-600"><Home /></div>
                            <span className="font-bold text-slate-700">Family therapy</span>
                        </li>
                        <li className="bg-white p-4 rounded-lg border border-slate-200 flex items-center gap-3 shadow-sm hover:border-purple-300 transition cursor-pointer" onClick={() => handleNavClick(SECTIONS.GROUP)}>
                            <div className="bg-purple-100 p-2 rounded text-purple-600"><Users /></div>
                            <span className="font-bold text-slate-700">Group psychotherapy</span>
                        </li>
                    </ul>
                </div>
            );

            const IndividualView = () => (
                <div className="animate-in slide-in-from-right-4 duration-500">
                    <SectionHeader title="A. Individual psychotherapy" icon={<Activity size={32} />} color="bg-blue-100 text-blue-600" />
                    
                    <div className="space-y-8">
                        {/* Psychoanalysis */}
                        <section className="bg-white p-6 rounded-xl border border-slate-200 shadow-sm">
                            <h3 className="text-xl font-bold text-slate-800 mb-4 flex items-center gap-2 border-b pb-2">
                                {INDIVIDUAL_DATA.psychoanalysis.icon} {INDIVIDUAL_DATA.psychoanalysis.title}
                            </h3>
                            <p className="mb-2 text-sm text-slate-600 leading-relaxed">{INDIVIDUAL_DATA.psychoanalysis.intro}</p>
                            <PsychoanalysisIceberg />
                            <p className="mb-4 text-sm text-slate-600 leading-relaxed">{INDIVIDUAL_DATA.psychoanalysis.intro2}</p>
                            <h4 className="font-bold text-slate-700 mb-3">Techniques of psychoanalytic therapy include free association, dream analysis, and awareness of transference:</h4>
                            <div className="space-y-3">
                                {INDIVIDUAL_DATA.psychoanalysis.items.map((item, idx) => <TermItem key={idx} {...item} />)}
                            </div>
                        </section>

                        {/* Behavioral */}
                        <section className="bg-white p-6 rounded-xl border border-slate-200 shadow-sm">
                            <h3 className="text-xl font-bold text-slate-800 mb-4 flex items-center gap-2 border-b pb-2">
                                {INDIVIDUAL_DATA.behavioral.icon} {INDIVIDUAL_DATA.behavioral.title}
                            </h3>
                            <p className="mb-2 text-sm text-slate-600 leading-relaxed">{INDIVIDUAL_DATA.behavioral.intro}</p>
                            <p className="mb-6 text-sm text-slate-600 leading-relaxed">{INDIVIDUAL_DATA.behavioral.intro2}</p>
                            
                            <h4 className="font-bold text-slate-800 mb-4">Techniques of behavioral therapy include:</h4>
                            <div className="grid md:grid-cols-1 gap-6">
                                {INDIVIDUAL_DATA.behavioral.groups.map((group, idx) => (
                                    <div key={idx} className="bg-slate-50 p-4 rounded-lg border border-slate-100">
                                        <h5 className="font-bold text-blue-800 mb-3">{group.title}</h5>
                                        <div className="space-y-2">
                                            {group.items.map((item, i) => <TermItem key={i} {...item} />)}
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </section>

                        {/* Cognitive */}
                        <section className="bg-white p-6 rounded-xl border border-slate-200 shadow-sm">
                            <h3 className="text-xl font-bold text-slate-800 mb-4 flex items-center gap-2 border-b pb-2">
                                {INDIVIDUAL_DATA.cognitive.icon} {INDIVIDUAL_DATA.cognitive.title}
                            </h3>
                            <p className="mb-4 text-sm text-slate-600 leading-relaxed">{INDIVIDUAL_DATA.cognitive.intro}</p>
                            
                            <div className="mb-6 p-4 bg-yellow-50 rounded-lg border border-yellow-200">
                                <p className="text-sm text-yellow-800 font-medium mb-2">{INDIVIDUAL_DATA.cognitive.triadIntro}</p>
                                <CognitiveTriadSVG />
                            </div>

                            <Card className="border-red-200 bg-red-50/30 mb-6">
                                <h4 className="font-bold text-red-800 mb-3">Cognitive distortions:</h4>
                                <p className="text-sm text-red-700 mb-3">They include:</p>
                                <div className="space-y-2">
                                    {INDIVIDUAL_DATA.cognitive.distortions.map((dist, idx) => <TermItem key={idx} {...dist} />)}
                                </div>
                            </Card>

                            <p className="text-sm text-slate-600 leading-relaxed mb-6 font-medium">{INDIVIDUAL_DATA.cognitive.goalText}</p>

                            <Card className="border-blue-200 bg-blue-50/30">
                                <h4 className="font-bold text-blue-800 mb-3">Techniques of cognitive therapy include:</h4>
                                <div className="space-y-2">
                                    {INDIVIDUAL_DATA.cognitive.techniques.map((tech, idx) => <TermItem key={idx} {...tech} />)}
                                </div>
                            </Card>
                        </section>

                        {/* CBT & Third Wave */}
                        <section className="bg-white p-6 rounded-xl border border-slate-200 shadow-sm">
                            <h3 className="text-xl font-bold text-slate-800 mb-4 flex items-center gap-2 border-b pb-2">
                                {INDIVIDUAL_DATA.cbt.icon} {INDIVIDUAL_DATA.cbt.title}
                            </h3>
                            <p className="mb-2 text-sm text-slate-600 leading-relaxed">{INDIVIDUAL_DATA.cbt.intro}</p>
                            <p className="mb-4 text-sm text-slate-600 leading-relaxed">{INDIVIDUAL_DATA.cbt.intro2}</p>
                            
                            <CBTCycleIllustration />

                            <p className="mb-4 text-sm text-slate-600 leading-relaxed">{INDIVIDUAL_DATA.cbt.intro3}</p>

                            <h4 className="font-bold text-slate-700 mb-3">The CBT strategies might include:</h4>
                            <ul className="list-disc list-inside space-y-2 text-slate-700 mb-8 bg-slate-50 p-4 rounded-lg border border-slate-200">
                                {INDIVIDUAL_DATA.cbt.strategies.map((item, idx) => <li key={idx} className="text-sm">{item}</li>)}
                            </ul>

                            <h4 className="font-bold text-xl text-slate-800 mb-4 border-b pb-2">Third wave of cognitive behavior therapy:</h4>
                            <p className="text-sm text-slate-600 mb-4">During the last few decades, a number of therapies, under the name of the third wave of cognitive behavior therapy (CBT), have been developed. The commonly known are:</p>
                            <div className="space-y-3">
                                {INDIVIDUAL_DATA.cbt.thirdWave.map((item, idx) => <TermItem key={idx} {...item} />)}
                            </div>
                        </section>
                    </div>
                </div>
            );

            const GroupView = () => (
                <div className="animate-in slide-in-from-right-4 duration-500">
                    <SectionHeader title="B. Group psychotherapy" icon={<Users size={32} />} color="bg-purple-100 text-purple-600" />
                    <Card className="mb-6 border-l-4 border-purple-500">
                        <p className="text-slate-700 leading-relaxed text-sm md:text-base">{GROUP_DATA.intro}</p>
                    </Card>
                    
                    <GroupTherapyIllustration />

                    <div className="grid md:grid-cols-2 gap-6 mb-6">
                        <Card className="bg-purple-50/40 border-purple-200">
                            <h3 className="text-lg font-bold text-purple-800 mb-4 border-b border-purple-100 pb-2">Structure of the group:</h3>
                            <div className="space-y-2">
                                {GROUP_DATA.structure.map((item, idx) => <TermItem key={idx} {...item} />)}
                            </div>
                        </Card>
                        
                        <Card className="bg-purple-50/40 border-purple-200">
                            <h3 className="text-lg font-bold text-purple-800 mb-4 border-b border-purple-100 pb-2">Types of Groups:</h3>
                            <div className="space-y-2">
                                {GROUP_DATA.types.map((item, idx) => <TermItem key={idx} {...item} />)}
                            </div>
                        </Card>
                    </div>

                    <Card className="border-l-4 border-l-indigo-400">
                        <h3 className="text-lg font-bold text-indigo-800 mb-4">Therapeutic factors in group therapy:</h3>
                        <div className="space-y-2">
                            {GROUP_DATA.factors.map((factor, idx) => (
                                <div key={idx} className="bg-white p-3 rounded border border-slate-100 text-sm text-slate-700 font-medium">
                                    {factor}
                                </div>
                            ))}
                        </div>
                    </Card>
                </div>
            );

            const FamilyView = () => (
                <div className="animate-in slide-in-from-right-4 duration-500">
                    <SectionHeader title="C. Family Therapy" icon={<Home size={32} />} color="bg-green-100 text-green-600" />
                    
                    <Card className="mb-6 border-l-4 border-l-green-400 bg-green-50/50">
                        <p className="text-slate-700 mb-3 leading-relaxed text-sm md:text-base">{FAMILY_DATA.intro}</p>
                        <FamilyTherapySVG />
                        <p className="text-slate-700 mb-3 leading-relaxed text-sm md:text-base">{FAMILY_DATA.intro2}</p>
                    </Card>

                    <h3 className="text-xl font-bold text-slate-800 mb-4 px-2">This is achieved by the following:</h3>
                    <div className="grid md:grid-cols-2 gap-4">
                        {FAMILY_DATA.goals.map((goal, idx) => (
                            <div key={idx} className="bg-white p-4 rounded-xl border border-slate-200 shadow-sm flex items-start gap-3 hover:border-green-300 transition">
                                <div className="bg-green-100 text-green-600 w-8 h-8 rounded-full flex items-center justify-center font-bold flex-shrink-0">
                                    <Target size={16} />
                                </div>
                                <p className="text-slate-700 text-sm pt-1 font-medium">{goal}</p>
                            </div>
                        ))}
                    </div>
                </div>
            );

            const QuizView = () => (
                <div className="animate-in slide-in-from-right-4 duration-500 max-w-2xl mx-auto">
                    <SectionHeader title="Knowledge Check" icon={<Lightbulb size={32} />} color="bg-yellow-100 text-yellow-600" />
                    
                    {!quizSubmitted ? (
                        <div className="space-y-6">
                            {QUIZ_QUESTIONS.map((q, qIndex) => (
                                <Card key={qIndex} className="p-6">
                                    <h4 className="font-bold text-lg mb-4 text-slate-800">{qIndex + 1}. {q.q}</h4>
                                    <div className="space-y-2">
                                        {q.options.map((opt, optIndex) => (
                                            <button
                                                key={optIndex}
                                                onClick={() => handleQuizOption(qIndex, optIndex)}
                                                className={`w-full text-left p-3 rounded border transition-colors ${
                                                    quizAnswers[qIndex] === optIndex 
                                                        ? 'bg-blue-100 border-blue-500 text-blue-800 font-medium shadow-sm' 
                                                        : 'bg-slate-50 border-slate-200 hover:bg-slate-100'
                                                }`}
                                            >
                                                {opt}
                                            </button>
                                        ))}
                                    </div>
                                </Card>
                            ))}
                            <button 
                                onClick={submitQuiz}
                                disabled={Object.keys(quizAnswers).length < QUIZ_QUESTIONS.length}
                                className="w-full py-4 bg-blue-600 text-white rounded-xl font-bold text-lg disabled:opacity-50 hover:bg-blue-700 transition shadow-md"
                            >
                                Submit Answers
                            </button>
                        </div>
                    ) : (
                        <Card className="text-center p-8 border-t-8 border-t-blue-500">
                            <div className="text-6xl mb-4">{quizScore >= 4 ? 'üèÜ' : 'üìö'}</div>
                            <h2 className="text-3xl font-bold mb-2 text-slate-800">You scored {quizScore} / {QUIZ_QUESTIONS.length}</h2>
                            <p className="text-slate-600 mb-8 text-lg">
                                {quizScore === 5 ? "Perfect! You've mastered the psychotherapy modalities." : "Good effort! Review the sections to strengthen your knowledge."}
                            </p>
                            <button onClick={resetQuiz} className="bg-slate-800 text-white px-8 py-3 rounded-full hover:bg-slate-700 font-bold transition shadow-md">Try Again</button>
                        </Card>
                    )}
                </div>
            );

            return (
                <div className="min-h-screen bg-slate-50 font-sans text-slate-800 flex flex-col">
                    {/* Top Navigation */}
                    <nav className="bg-white shadow-sm sticky top-0 z-50">
                        <div className="max-w-6xl mx-auto px-4 h-16 flex items-center justify-between overflow-x-auto no-scrollbar">
                            <div className="flex items-center gap-2 font-bold text-sm md:text-lg text-blue-800 cursor-pointer whitespace-nowrap mr-4" onClick={() => handleNavClick(SECTIONS.INTRO)}>
                                <DepartmentLogo className="w-10 h-10 flex-shrink-0 drop-shadow-sm" />
                                <span className="hidden sm:inline">Psychiatric Nursing Dept</span>
                            </div>
                            
                            <div className="flex gap-1">
                                {[
                                    { id: SECTIONS.INTRO, label: 'Intro', icon: <MessageSquare size={16}/> },
                                    { id: SECTIONS.INDIVIDUAL, label: 'Individual', icon: <Activity size={16}/> },
                                    { id: SECTIONS.GROUP, label: 'Group', icon: <Users size={16}/> },
                                    { id: SECTIONS.FAMILY, label: 'Family', icon: <Home size={16}/> },
                                    { id: SECTIONS.QUIZ, label: 'Quiz', icon: <Lightbulb size={16}/> },
                                ].map(nav => (
                                    <button
                                        key={nav.id}
                                        onClick={() => handleNavClick(nav.id)}
                                        className={`flex items-center gap-1.5 px-3 py-2 rounded-full text-sm font-medium transition-colors whitespace-nowrap ${
                                            activeSection === nav.id 
                                                ? 'bg-blue-100 text-blue-700' 
                                                : 'text-slate-600 hover:bg-slate-100'
                                        }`}
                                    >
                                        {nav.icon} <span className="hidden md:inline">{nav.label}</span>
                                    </button>
                                ))}
                            </div>
                        </div>
                    </nav>

                    {/* Main Content Area */}
                    <main className="max-w-5xl w-full mx-auto px-4 py-8 flex-1">
                        {activeSection === SECTIONS.INTRO && <IntroView />}
                        {activeSection === SECTIONS.INDIVIDUAL && <IndividualView />}
                        {activeSection === SECTIONS.GROUP && <GroupView />}
                        {activeSection === SECTIONS.FAMILY && <FamilyView />}
                        {activeSection === SECTIONS.QUIZ && <QuizView />}
                    </main>

                    {/* Footer */}
                    <footer className="bg-slate-900 text-slate-300 py-10 mt-12 border-t-4 border-indigo-600">
                        <div className="max-w-5xl mx-auto px-6 flex flex-col md:flex-row items-center md:items-start justify-between gap-8">
                            <div className="flex flex-col sm:flex-row items-center sm:items-start gap-5 text-center sm:text-left">
                                <FacultyLogo className="w-24 h-28 flex-shrink-0 drop-shadow-md" />
                                <div className="mt-2">
                                    <p className="mb-1 text-lg font-bold text-white">Psychiatric Nursing & Mental Health</p>
                                    <p className="text-sm text-slate-400 max-w-xs">Introduction to Psychiatric and Mental Health Nursing ‚Ä¢ Educational Material</p>
                                </div>
                            </div>
                            
                            <div className="text-center md:text-right space-y-2 text-sm border-t md:border-t-0 border-slate-700 pt-6 md:pt-0 w-full md:w-auto">
                                <p className="flex flex-col sm:block"><span className="text-slate-500 text-xs uppercase tracking-wider block sm:inline sm:mr-2">Dean of The Faculty:</span> <span className="text-slate-200">Prof. Dr. Hanan Hosny El-Sherbiny</span></p>
                                <p className="flex flex-col sm:block"><span className="text-slate-500 text-xs uppercase tracking-wider block sm:inline sm:mr-2">Acting Head of Department:</span> <span className="text-slate-200">Asst. Prof. Dr. Mayar Ezz-Eldin El-Naqeeb</span></p>
                                <p className="flex flex-col sm:block"><span className="text-slate-500 text-xs uppercase tracking-wider block sm:inline sm:mr-2">Created by:</span> <span className="font-semibold text-white">M.Abdallah Abozaid</span></p>
                            </div>
                        </div>
                    </footer>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<PsychotherapyLecture />);
    </script>
</body>
</html>