<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>General Principles of Psychiatric Nursing</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel for JSX compilation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Lucide Icons (Vanilla) -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f8fafc; }
        .glass-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef, useLayoutEffect } = React;

        // --- ICON SYSTEM SETUP ---
        const IconWrapper = ({ name, ...props }) => {
            const ref = useRef(null);
            
            useLayoutEffect(() => {
                if (ref.current && window.lucide && window.lucide.icons[name]) {
                    const iconElement = window.lucide.createElement(window.lucide.icons[name]);
                    if (props.className) {
                        const existingClass = iconElement.getAttribute('class') || '';
                        iconElement.setAttribute('class', `${existingClass} ${props.className}`);
                    }
                    if (props.size) {
                        iconElement.setAttribute('width', props.size);
                        iconElement.setAttribute('height', props.size);
                    }
                    ref.current.innerHTML = '';
                    ref.current.appendChild(iconElement);
                }
            }, [name, props.className, props.size]);

            return <span ref={ref} style={{ display: 'inline-flex', verticalAlign: 'middle' }} />;
        };

        const createIconComponent = (name) => (props) => <IconWrapper name={name} {...props} />;

        // Icons used in this specific interface
        const BookOpen = createIconComponent('BookOpen');
        const Target = createIconComponent('Target');
        const HeartHandshake = createIconComponent('HeartHandshake');
        const BrainCircuit = createIconComponent('BrainCircuit');
        const MessageCircle = createIconComponent('MessageCircle');
        const ShieldCheck = createIconComponent('ShieldCheck');
        const Activity = createIconComponent('Activity');
        const Search = createIconComponent('Search');
        const UserCheck = createIconComponent('UserCheck');
        const Settings = createIconComponent('Settings');
        const Users = createIconComponent('Users');
        const ChevronDown = createIconComponent('ChevronDown');
        const ChevronUp = createIconComponent('ChevronUp');
        const AlertCircle = createIconComponent('AlertCircle');
        const CheckCircle2 = createIconComponent('CheckCircle2');
        const XCircle = createIconComponent('XCircle');
        const Heart = createIconComponent('Heart');
        const Eye = createIconComponent('Eye');
        const Repeat = createIconComponent('Repeat');
        const Shield = createIconComponent('Shield');
        const Lightbulb = createIconComponent('Lightbulb');

        // --- DEPARTMENT LOGO (SVG REPLICA) ---
        const DepartmentLogo = ({ className = "w-10 h-10" }) => (
            <svg viewBox="0 0 100 120" className={className} xmlns="http://www.w3.org/2000/svg">
                <path d="M 5 80 C 15 100 40 110 60 105 C 80 100 95 85 95 75 C 95 70 85 65 75 75 C 65 85 50 90 35 85 C 25 80 15 75 5 80 Z" fill="#004a8f" />
                <path d="M 30 85 C 45 92 60 90 75 80" stroke="#ffffff" strokeWidth="2.5" strokeLinecap="round" fill="none" />
                <path d="M 40 78 C 55 85 70 80 85 70" stroke="#ffffff" strokeWidth="2.5" strokeLinecap="round" fill="none" />
                <path d="M 50 65 L 53 72 L 58 67 L 58 57 C 58 52 64 50 64 45 C 64 43 60 41 60 39 L 68 37 C 70 36 70 34 68 32 C 65 31 62 32 60 29 C 60 15 48 5 35 10" stroke="#004a8f" strokeWidth="3" strokeLinecap="round" strokeLinejoin="round" fill="none" />
                <g stroke="#1e1b4b" strokeWidth="1.5" fill="none">
                    <circle cx="35" cy="22" r="9" />
                    <circle cx="28" cy="35" r="9" />
                    <circle cx="42" cy="35" r="9" />
                </g>
                <text x="35" y="24.5" fontSize="7" fill="#1e1b4b" textAnchor="middle" fontWeight="bold" fontFamily="sans-serif">C</text>
                <text x="28" y="37.5" fontSize="7" fill="#1e1b4b" textAnchor="middle" fontWeight="bold" fontFamily="sans-serif">C</text>
                <text x="42" y="37.5" fontSize="7" fill="#1e1b4b" textAnchor="middle" fontWeight="bold" fontFamily="sans-serif">A</text>
            </svg>
        );

        // --- FACULTY LOGO (SVG REPLICA) ---
        const FacultyLogo = ({ className = "w-24 h-28" }) => (
            <svg viewBox="0 0 100 130" className={className} xmlns="http://www.w3.org/2000/svg">
                {/* Outer Borders */}
                <path d="M 2 2 L 98 2 L 98 65 C 98 110 50 128 50 128 C 50 128 2 110 2 65 Z" fill="#24335c" />
                <path d="M 4 4 L 96 4 L 96 65 C 96 108 50 125 50 125 C 50 125 4 108 4 65 Z" fill="#ffffff" />
                
                {/* Sky & Sea */}
                <path d="M 6 6 L 94 6 L 94 65 C 94 106 50 122 50 122 C 50 122 6 106 6 65 Z" fill="#66c5f4" />
                <path d="M 6 75 L 94 75 C 94 106 50 122 50 122 C 50 122 6 106 6 75 Z" fill="#1da2d8" />
                
                {/* Beams */}
                <g stroke="#1a2f57" strokeWidth="0.8">
                    <line x1="50" y1="18" x2="15" y2="12" />
                    <line x1="50" y1="18" x2="10" y2="20" />
                    <line x1="50" y1="18" x2="10" y2="28" />
                    <line x1="50" y1="18" x2="15" y2="35" />
                    
                    <line x1="50" y1="18" x2="85" y2="12" />
                    <line x1="50" y1="18" x2="90" y2="20" />
                    <line x1="50" y1="18" x2="90" y2="28" />
                    <line x1="50" y1="18" x2="85" y2="35" />
                </g>
                
                {/* Fortress & Lighthouse */}
                <g fill="#c49341" stroke="#1a2f57" strokeWidth="1.2" strokeLinejoin="round">
                    {/* Left Tower */}
                    <polygon points="12,60 10,75 22,75 20,60" />
                    <rect x="10" y="56" width="12" height="4" />
                    <rect x="11" y="53" width="10" height="3" />
                    {/* Left Wall */}
                    <rect x="20" y="63" width="18" height="12" />
                    
                    {/* Right Tower */}
                    <polygon points="80,60 78,75 90,75 88,60" />
                    <rect x="78" y="56" width="12" height="4" />
                    <rect x="79" y="53" width="10" height="3" />
                    {/* Right Wall */}
                    <rect x="62" y="63" width="18" height="12" />
                    
                    {/* Main Lighthouse Base */}
                    <polygon points="40,40 33,75 67,75 60,40" />
                    <rect x="38" y="38" width="24" height="4" />
                    {/* Mid Tier */}
                    <rect x="42" y="24" width="16" height="14" />
                    <rect x="40" y="22" width="20" height="3" />
                    {/* Top Tier */}
                    <rect x="45" y="14" width="10" height="8" />
                    <rect x="44" y="12" width="12" height="2" />
                    {/* Lantern */}
                    <polygon points="47,12 48,7 52,7 53,12" />
                </g>
                
                {/* Details (Windows/Doors) */}
                <g fill="none" stroke="#1a2f57" strokeWidth="1.2">
                    {/* Left Wall Windows */}
                    <rect x="22" y="66" width="3" height="4" />
                    <rect x="27" y="66" width="3" height="4" />
                    <rect x="32" y="66" width="3" height="4" />
                    
                    {/* Right Wall Windows */}
                    <rect x="65" y="66" width="3" height="4" />
                    <rect x="70" y="66" width="3" height="4" />
                    <rect x="75" y="66" width="3" height="4" />
                    
                    {/* Main Tower Door & Windows */}
                    <rect x="47" y="64" width="6" height="11" />
                    <rect x="48" y="54" width="4" height="5" />
                    <rect x="48" y="46" width="4" height="5" />
                    
                    {/* Mid Tier Windows */}
                    <rect x="44" y="27" width="4" height="4" />
                    <rect x="52" y="27" width="4" height="4" />
                </g>
                
                {/* Wave styling */}
                <g fill="#1a2f57" stroke="none">
                    <path d="M 12 85 Q 16 87 20 85 L 20 87 Q 16 89 12 87 Z" />
                    <path d="M 28 85 Q 32 87 36 85 L 36 87 Q 32 89 28 87 Z" />
                    <path d="M 44 85 Q 48 87 52 85 L 52 87 Q 48 89 44 87 Z" />
                    <path d="M 60 85 Q 64 87 68 85 L 68 87 Q 64 89 60 87 Z" />
                    <path d="M 76 85 Q 80 87 84 85 L 84 87 Q 80 89 76 87 Z" />
                    
                    <path d="M 20 95 Q 24 97 28 95 L 28 97 Q 24 99 20 97 Z" />
                    <path d="M 36 95 Q 40 97 44 95 L 44 97 Q 40 99 36 97 Z" />
                    <path d="M 52 95 Q 56 97 60 95 L 60 97 Q 56 99 52 97 Z" />
                    <path d="M 68 95 Q 72 97 76 95 L 76 97 Q 72 99 68 97 Z" />

                    <path d="M 28 105 Q 32 107 36 105 L 36 107 Q 32 109 28 107 Z" />
                    <path d="M 44 105 Q 48 107 52 105 L 52 107 Q 48 109 44 107 Z" />
                    <path d="M 60 105 Q 64 107 68 105 L 68 107 Q 64 109 60 107 Z" />
                    
                    <path d="M 40 115 Q 44 117 48 115 L 48 117 Q 44 119 40 117 Z" />
                    <path d="M 52 115 Q 56 117 60 115 L 60 117 Q 56 119 52 117 Z" />
                </g>
            </svg>
        );

        // --- ILLUSTRATIONS ---

        const AcceptanceVsApprovalIllustration = () => (
            <div className="flex flex-col md:flex-row justify-center items-center gap-6 my-6 p-4 bg-slate-50 rounded-xl border border-slate-200">
                <div className="flex flex-col items-center w-full max-w-xs bg-white p-4 rounded-lg shadow-sm border border-emerald-100">
                    <h5 className="font-bold text-emerald-700 mb-2 flex items-center gap-2"><CheckCircle2 size={18}/> Acceptance</h5>
                    <svg viewBox="0 0 100 100" className="w-24 h-24 mb-2">
                        {/* Hands holding a spiky shape (accepting as is) */}
                        <path d="M 20 70 Q 50 90 80 70" fill="none" stroke="#10b981" strokeWidth="8" strokeLinecap="round"/>
                        <path d="M 15 65 L 25 75 M 85 65 L 75 75" stroke="#10b981" strokeWidth="6" strokeLinecap="round"/>
                        {/* Spiky irregular shape representing the patient's 'as is' state */}
                        <path d="M 50 20 L 60 40 L 80 35 L 65 55 L 75 75 L 50 65 L 25 75 L 35 55 L 20 35 L 40 40 Z" fill="#6ee7b7" stroke="#059669" strokeWidth="2" strokeLinejoin="round"/>
                    </svg>
                    <p className="text-[10px] text-center text-slate-600">Taking person at face value without judging. Unconditional positive regard.</p>
                </div>
                
                <div className="hidden md:flex flex-col items-center">
                    <div className="w-px h-16 bg-slate-300"></div>
                    <span className="text-xs font-bold text-slate-400 bg-slate-50 px-2 my-2 rounded-full border border-slate-200">VS</span>
                    <div className="w-px h-16 bg-slate-300"></div>
                </div>

                <div className="flex flex-col items-center w-full max-w-xs bg-white p-4 rounded-lg shadow-sm border border-red-100">
                    <h5 className="font-bold text-red-700 mb-2 flex items-center gap-2"><XCircle size={18}/> Approval</h5>
                    <svg viewBox="0 0 100 100" className="w-24 h-24 mb-2">
                        {/* Thumbs up to a destructive action */}
                        <circle cx="50" cy="50" r="40" fill="#fee2e2" />
                        <path d="M 30 60 L 30 40 L 45 40 L 50 25 Q 55 20 60 25 L 60 60 Z" fill="#ef4444" stroke="#b91c1c" strokeWidth="2" strokeLinejoin="round"/>
                        <path d="M 30 40 L 25 40 L 25 60 L 30 60" fill="none" stroke="#b91c1c" strokeWidth="2"/>
                        {/* Fire/Harm symbol */}
                        <path d="M 70 70 Q 75 50 65 40 Q 85 45 75 75 Z" fill="#f59e0b" />
                    </svg>
                    <p className="text-[10px] text-center text-slate-600">Agreeing with behavior that may harm self/others. Un-therapeutic.</p>
                </div>
            </div>
        );

        const ObjectivityIllustration = () => (
            <div className="flex justify-center my-6">
                <div className="bg-blue-50 p-6 rounded-xl border border-blue-200 text-center relative w-full max-w-md">
                    <h5 className="font-bold text-blue-800 mb-4">Objectivity Filter</h5>
                    <svg viewBox="0 0 300 120" className="w-full h-32">
                        {/* Patient Behavior (Messy lines) */}
                        <path d="M 10 60 Q 30 20 40 70 T 70 40 T 90 80" fill="none" stroke="#64748b" strokeWidth="3" />
                        <text x="50" y="105" fontSize="12" fill="#475569" textAnchor="middle">Patient Behavior</text>
                        
                        {/* The Lens / Filter */}
                        <rect x="120" y="20" width="20" height="80" rx="10" fill="#3b82f6" opacity="0.3" stroke="#2563eb" strokeWidth="2" />
                        <path d="M 130 10 L 130 110" stroke="#2563eb" strokeWidth="2" strokeDasharray="4 4" />
                        <text x="130" y="15" fontSize="10" fill="#1d4ed8" textAnchor="middle" fontWeight="bold">Objective Evaluation</text>

                        {/* Clear output (Straight lines) */}
                        <line x1="170" y1="60" x2="250" y2="60" stroke="#10b981" strokeWidth="4" />
                        <text x="210" y="105" fontSize="12" fill="#059669" textAnchor="middle">Understanding the "Why"</text>

                        {/* Rejected Biases (Bouncing off) */}
                        <path d="M 100 30 Q 115 20 110 5" fill="none" stroke="#ef4444" strokeWidth="2" markerEnd="url(#arrow)" />
                        <text x="90" y="10" fontSize="9" fill="#ef4444">Personal Feelings</text>
                        
                        <path d="M 100 90 Q 115 100 110 115" fill="none" stroke="#f59e0b" strokeWidth="2" markerEnd="url(#arrow-yellow)" />
                        <text x="90" y="115" fontSize="9" fill="#d97706">Judgments</text>

                        <defs>
                            <marker id="arrow" markerWidth="6" markerHeight="6" refX="3" refY="3" orient="auto">
                                <polygon points="0 0, 6 3, 0 6" fill="#ef4444" />
                            </marker>
                            <marker id="arrow-yellow" markerWidth="6" markerHeight="6" refX="3" refY="3" orient="auto">
                                <polygon points="0 0, 6 3, 0 6" fill="#f59e0b" />
                            </marker>
                        </defs>
                    </svg>
                </div>
            </div>
        );


        // --- APPLICATION DATA ---

        const SECTIONS = {
            INTRO: 'intro',
            ATTITUDES: 'attitudes',
            COMMUNICATION: 'communication',
            ENVIRONMENT: 'environment',
            CARE: 'care',
            QUIZ: 'quiz'
        };

        const LEARNING_OBJECTIVES = [
            "Discuss the different principles of psychiatric nursing.",
            "Explain the basic concepts underlying the different principles of psychiatric nursing.",
            "Relate the main concepts of the general principles to the psychiatric nursing and mental health.",
            "Identify the various means of applying the general principles of psychiatric nursing.",
            "Formulate nursing care plans while taking into account the different principles.",
            "Apply the general principles in the care of patients in different health care settings.",
            "Utilize the various means of the general principles in the care of patients with emotional problems."
        ];

        const PRINCIPLES_DATA = {
            attitudes: {
                title: "Core Therapeutic Attitudes",
                icon: <HeartHandshake className="w-8 h-8" />,
                color: "bg-rose-100 text-rose-700",
                borderColor: "border-rose-200",
                principles: [
                    {
                        num: 1,
                        title: "Patient needs to be accepted exactly as he is",
                        icon: <Heart className="text-rose-500 w-5 h-5"/>,
                        content: [
                            "Acceptance means taking another person as face value without punishing or approving his behavior.",
                            "It implies respecting clients' humanity, dignity, and acknowledgement of his right to behave as he does. Acceptance implies unconditional positive regard for patient.",
                            "This involves showing complete support and acceptance of a person without expecting return as e.g., appreciation.",
                            "The concept of caring is interrelated with acceptance. If the client feels loved and cared for by the nurse that helps him to unlearn his sick behavior before he can relearn the art of living with himself and others.",
                            "Concept of acceptance includes being nonjudgmental and non-punitive to the person. Nurses must not judge patient's behavior as right or wrong, good or bad.",
                            "Patients are not punished for their undesirable behavior. All direct or indirect methods of punishment (verbal threat, avoiding, ignoring) must be avoided."
                        ],
                        illustration: <AcceptanceVsApprovalIllustration />,
                        accordions: [
                            {
                                title: "Means of showing acceptance",
                                details: [
                                    "a- Show interest in the patient as a person: Listening, seeking out the patient, recognizing changes, being aware of likes/dislikes, explaining when demands cannot be met, accepting his fears as real.",
                                    "b- Recognize and reflect on feelings: Identify feelings behind talk, use understanding responses to help explore feelings.",
                                    "c- Talk with purpose: Conversation must have a goal centered on his needs, wants, and interests.",
                                    "d- Allow expression of strong feelings: Feelings of anxiety, fear, hostility should be tolerated and expressed verbally/symbolically without disapproval."
                                ]
                            }
                        ]
                    },
                    {
                        num: 2,
                        title: "Self-understanding is used as a therapeutic tool",
                        icon: <BrainCircuit className="text-rose-500 w-5 h-5"/>,
                        content: [
                            "Self-awareness is the first step to understand the self, including thoughts, behaviors, and feelings.",
                            "The nurse understands herself by understanding 'why' behind her behavior, which leads to understanding others.",
                            "Awareness helps accept individual differences and prevents the projection of nurse's own anxiety or fear onto the patient."
                        ],
                        accordions: [
                            {
                                title: "Measures to increase self-awareness",
                                details: [
                                    "1. Keeping reflecting on why the nurse feels or acts the way she/he does (self-journaling/diary).",
                                    "2. Exchange personal experience freely and frankly with colleagues.",
                                    "3. Discuss personal reactions frankly with an experienced person.",
                                    "4. Participate in-group conferences and self-help groups."
                                ]
                            }
                        ]
                    },
                    {
                        num: 8,
                        title: "Maintain a professional nurse-patient relationship",
                        icon: <UserCheck className="text-rose-500 w-5 h-5"/>,
                        content: [
                            "A professional relationship focuses upon the personal and emotional needs of the patient and not on those of the nurse.",
                            "It protects the patient from demanding more than he can receive and protects the nurse from giving more than she/he can."
                        ]
                    }
                ]
            },
            communication: {
                title: "Communication & Interaction",
                icon: <MessageCircle className="w-8 h-8" />,
                color: "bg-purple-100 text-purple-700",
                borderColor: "border-purple-200",
                principles: [
                    {
                        num: 4,
                        title: "Reassurance must be given in a subtle and acceptable manner",
                        icon: <Shield className="text-purple-500 w-5 h-5"/>,
                        content: [
                            "Reassurance means doing something to help and support the patient.",
                            "Psychiatric patients need constant reassurance because they are insecure. It must be genuine, honest, and suitable to age, sex, and culture."
                        ],
                        accordions: [
                            {
                                title: "Avoid direct ways of reassurance",
                                isWarning: true,
                                details: [
                                    "Phrases to avoid: 'You will get well', 'Your fears are groundless', 'There is nothing to worry about', 'All will end well', 'You are a nice person'.",
                                    "Direct and false reassurance do not give actual help."
                                ]
                            },
                            {
                                title: "How to show true reassurance",
                                details: [
                                    "1. Be genuinely interested in patient problems.",
                                    "2. Pay attention to matters important to the patient.",
                                    "3. Allow him to be sick as he needs to be.",
                                    "4. Do things without asking anything in return.",
                                    "5. Sit beside patient even in silence (physical presence is reassuring).",
                                    "6. Listen without showing surprise or disapproval.",
                                    "7. Agree that the patient has a problem and think along.",
                                    "8. Provide acceptable outlets for anxiety."
                                ]
                            }
                        ]
                    },
                    {
                        num: 5,
                        title: "Behavior is changed through emotional experience, not reason",
                        icon: <Activity className="text-purple-500 w-5 h-5"/>,
                        content: [
                            "If a patient could be reasoned out of psychotic ideas, he wouldn't need treatment. Using intellect and reason to change ideas must be avoided.",
                            "The more beliefs are challenged, the more defensive the patient becomes.",
                            "Corrective emotional experience brings behavior change (e.g., helping the patient feel emotionally secure to develop understanding of his need to change)."
                        ]
                    },
                    {
                        num: 11,
                        title: "Routines and procedures should be explained at patient's level",
                        icon: <MessageCircle className="text-purple-500 w-5 h-5"/>,
                        content: [
                            "Every procedure should be explained at the patient's level of understanding depending on the limitations placed on him by his symptoms.",
                            "Explaining procedures effectively reduces patient anxiety."
                        ]
                    },
                    {
                        num: 13,
                        title: "Discussion of personal relationships initiated by patient",
                        icon: <Users className="text-purple-500 w-5 h-5"/>,
                        content: [
                            "Questions about family, friends, home, and job are not good during the exploratory stages of establishing a relationship.",
                            "Feelings regarding family may cause guilt or anxiety. Listen when they talk, but avoid judgments.",
                            "Follow the patient's lead in selecting areas of conversation until you know the patient well."
                        ]
                    }
                ]
            },
            environment: {
                title: "Ward Environment & Management",
                icon: <ShieldCheck className="w-8 h-8" />,
                color: "bg-emerald-100 text-emerald-700",
                borderColor: "border-emerald-200",
                principles: [
                    {
                        num: 3,
                        title: "Consistency is used to contribute to patient's security",
                        icon: <Repeat className="text-emerald-500 w-5 h-5"/>,
                        content: [
                            "Consistency means having a routine pattern that doesn't change from time to time or person to person.",
                            "It reduces insecurity, mistrust, and fear of the unknown. When staff are consistent, the patient can predict reactions, building trust."
                        ],
                        accordions: [
                            {
                                title: "Areas where consistency must operate",
                                details: [
                                    "A - Attitudes of the staff: Teamwork is essential. Staff must be consistent in showing acceptance, giving reassurance, and setting limits.",
                                    "B - Ward routine: Reduces the number of decisions a patient must make. Explain waking, eating, medication times on admission.",
                                    "C - Defining limitations: Set limits on unacceptable behavior quietly and consistently."
                                ]
                            }
                        ]
                    },
                    {
                        num: 6,
                        title: "Unnecessary increase of patient's anxiety should be avoided",
                        icon: <AlertCircle className="text-emerald-500 w-5 h-5"/>,
                        content: [
                            "Anxiety is a feeling state of intense apprehension. Great anxiety causes loss of function and physical changes.",
                            "The nurse should study and avoid situations that increase the patient's anxiety, as they are already unable to cope with it."
                        ],
                        accordions: [
                            {
                                title: "Situations that can increase anxiety",
                                isWarning: true,
                                details: [
                                    "1. Direct contradiction of patient's psychotic ideas.",
                                    "2. Demands on the patient which he obviously cannot meet.",
                                    "3. Situations that result in patient's failure.",
                                    "4. Careless conversation or indiscriminate use of professional terms within hearing.",
                                    "5. Insincerity and lack of honesty.",
                                    "6. Calling attention to patient's defects.",
                                    "7. The nurse's own anxiety."
                                ]
                            }
                        ]
                    },
                    {
                        num: 9,
                        title: "Verbal and physical force must be avoided if possible",
                        icon: <XCircle className="text-emerald-500 w-5 h-5"/>,
                        content: [
                            "Any kind of force results in psychological trauma. Expert prediction of behavior can prevent the need for force.",
                            "Psychiatric nurses have therapeutic forces like verbal limitation that should be used first."
                        ],
                        accordions: [
                            {
                                title: "If force absolutely must be used",
                                isWarning: true,
                                details: [
                                    "1. Carry out procedure quickly, firmly, efficiently with adequate help.",
                                    "2. Don't show anger or annoyance.",
                                    "3. Limit verbal comments to explaining the reason in a matter-of-fact tone.",
                                    "4. Never let the patient feel punished; attend to needs as usual.",
                                    "5. Never remind the patient again about the incident.",
                                    "6. Team must have self-control."
                                ]
                            }
                        ]
                    },
                    {
                        num: 14,
                        title: "Organize social structure to promote participation",
                        icon: <Users className="text-emerald-500 w-5 h-5"/>,
                        content: [
                            "The physical environment and persons in it are major influences. It should be pleasant and homelike, not solely focused on control.",
                            "Social organization should encourage socialization. The ward unit can enhance recovery prospects by supporting social participation among patients, visitors, and personnel."
                        ]
                    }
                ]
            },
            care: {
                title: "Clinical Observation & Care",
                icon: <Search className="w-8 h-8" />,
                color: "bg-blue-100 text-blue-700",
                borderColor: "border-blue-200",
                principles: [
                    {
                        num: 7,
                        title: "Observation directed toward the 'why' behind behavior",
                        icon: <Eye className="text-blue-500 w-5 h-5"/>,
                        content: [
                            "Analyze everything the patient does/says to seek motivation and understand what they are trying to accomplish.",
                            "Always ask: What is the goal? Why behave this way? Validate and document observations.",
                            "Objectivity is essential: Evaluating behavior without mixing one's own feelings, opinions, or judgments."
                        ],
                        illustration: <ObjectivityIllustration />,
                        accordions: [
                            {
                                title: "Indications of lack of objectivity",
                                isWarning: true,
                                details: [
                                    "1. Being critical of the patient.",
                                    "2. Defending or justifying oneself.",
                                    "3. Demanding the patient treat the nurse in a certain way.",
                                    "4. Evaluating patient's behavior as right or wrong."
                                ]
                            }
                        ]
                    },
                    {
                        num: 10,
                        title: "Care centered on patient as a person, not on symptom control",
                        icon: <UserCheck className="text-blue-500 w-5 h-5"/>,
                        content: [
                            "Every behavior is meaningful. Care should be a holistic approach based on needs.",
                            "Example: Two patients express hostility verbally. One feels guilt (needs help channeling hostility indirectly). The other feels relief (should be encouraged to explore feelings)."
                        ]
                    },
                    {
                        num: 12,
                        title: "Modify procedures according to patients' needs",
                        icon: <Settings className="text-blue-500 w-5 h-5"/>,
                        content: [
                            "Many procedures in the nursing field are adapted to the protective needs of the patient.",
                            "However, this modification is done without altering the basic nursing principles."
                        ]
                    }
                ]
            }
        };

        const QUIZ_QUESTIONS = [
            {
                q: "According to Principle 1, what is the main difference between Acceptance and Approval?",
                options: [
                    "They are exactly the same concept.",
                    "Acceptance is non-judgmental, while approval means agreeing with potentially harmful behavior.",
                    "Approval is therapeutic, while acceptance is un-therapeutic.",
                    "Acceptance is only used for good behaviors, approval for bad ones."
                ],
                correct: 1
            },
            {
                q: "Which of the following is a recommended way to show TRUE reassurance to a psychiatric patient?",
                options: [
                    "Telling them 'You will get well soon.'",
                    "Saying 'Your fears are completely groundless.'",
                    "Sitting beside them silently, accepting their silence.",
                    "Telling them 'Everything will end well.'"
                ],
                correct: 2
            },
            {
                q: "Patient behavior is best changed through:",
                options: [
                    "Logical reasoning and intellectual debate.",
                    "Direct contradiction of their psychotic ideas.",
                    "Strict punishment of undesirable behavior.",
                    "Corrective emotional experiences."
                ],
                correct: 3
            },
            {
                q: "Objectivity in observing a mentally ill patient means:",
                options: [
                    "Evaluating behavior without mixing your own feelings or judgments.",
                    "Telling the patient clearly what is right and wrong.",
                    "Defending your nursing actions when the patient is hostile.",
                    "Focusing only on the physical symptoms."
                ],
                correct: 0
            },
            {
                q: "If physical force absolutely MUST be used with a patient, the nurse should:",
                options: [
                    "Remind the patient about the incident the next day to prevent recurrence.",
                    "Show anger so the patient knows it's serious.",
                    "Carry it out quickly, firmly, and never let the patient feel punished.",
                    "Have a long verbal debate during the procedure to calm them down."
                ],
                correct: 2
            }
        ];

        // --- COMPONENTS ---

        const Card = ({ children, className = "" }) => (
            <div className={`bg-white rounded-xl shadow-sm border border-slate-200 p-5 ${className}`}>
                {children}
            </div>
        );

        const SectionHeader = ({ title, icon, color }) => (
            <div className={`flex items-center gap-4 mb-8 p-6 rounded-2xl ${color} shadow-sm border border-white/20 backdrop-blur-sm`}>
                <div className={`p-3 rounded-full bg-white/80 shadow-sm ${color.replace('bg-', 'text-').split(' ')[1]}`}>
                    {icon}
                </div>
                <h2 className="text-2xl md:text-3xl font-bold">{title}</h2>
            </div>
        );

        const AccordionItem = ({ title, details, isWarning = false }) => {
            const [isOpen, setIsOpen] = useState(false);
            const baseColor = isWarning ? 'amber' : 'blue';
            
            return (
                <div className={`mt-4 border border-${baseColor}-200 rounded-lg overflow-hidden`}>
                    <button 
                        onClick={() => setIsOpen(!isOpen)}
                        className={`w-full flex justify-between items-center p-3 bg-${baseColor}-50 hover:bg-${baseColor}-100 transition-colors text-left font-semibold text-${baseColor}-800`}
                    >
                        <span className="flex items-center gap-2">
                            {isWarning && <AlertCircle size={16} className={`text-${baseColor}-600`} />}
                            {title}
                        </span>
                        {isOpen ? <ChevronUp size={18} /> : <ChevronDown size={18} />}
                    </button>
                    {isOpen && (
                        <div className="p-4 bg-white border-t border-slate-100 text-sm text-slate-700 leading-relaxed animate-in fade-in slide-in-from-top-2">
                            <ul className="space-y-2">
                                {details.map((item, idx) => (
                                    <li key={idx} className="flex items-start gap-2">
                                        <span className={`text-${baseColor}-400 mt-1`}>â€¢</span>
                                        <span>{item}</span>
                                    </li>
                                ))}
                            </ul>
                        </div>
                    )}
                </div>
            );
        };

        const PrincipleBlock = ({ num, title, icon, content, accordions, illustration }) => (
            <div className="mb-8 relative group">
                <div className="absolute -left-3 -top-3 w-10 h-10 bg-slate-800 text-white rounded-lg flex items-center justify-center font-bold shadow-md z-10 rotate-[-3deg] group-hover:rotate-0 transition-transform">
                    {num}
                </div>
                <Card className="pt-8 hover:shadow-md transition-shadow relative overflow-hidden">
                    <div className="absolute top-0 right-0 p-4 opacity-10">
                        {icon}
                    </div>
                    <h3 className="text-xl font-bold text-slate-800 mb-4 pr-8 leading-tight">{title}</h3>
                    <div className="space-y-3 text-slate-600">
                        {content.map((para, idx) => (
                            <p key={idx} className="leading-relaxed">{para}</p>
                        ))}
                    </div>
                    
                    {illustration && <div className="mt-6">{illustration}</div>}

                    {accordions && (
                        <div className="mt-4 space-y-3">
                            {accordions.map((acc, idx) => (
                                <AccordionItem key={idx} {...acc} />
                            ))}
                        </div>
                    )}
                </Card>
            </div>
        );

        // --- MAIN APP COMPONENT ---

        function PsychiatricPrinciplesApp() {
            const [activeSection, setActiveSection] = useState(SECTIONS.INTRO);
            const [quizScore, setQuizScore] = useState(0);
            const [quizSubmitted, setQuizSubmitted] = useState(false);
            const [quizAnswers, setQuizAnswers] = useState({});

            const handleNavClick = (section) => {
                setActiveSection(section);
                window.scrollTo({ top: 0, behavior: 'smooth' });
            };

            const handleQuizOption = (qIndex, optIndex) => {
                if (quizSubmitted) return;
                setQuizAnswers(prev => ({ ...prev, [qIndex]: optIndex }));
            };

            const submitQuiz = () => {
                let score = 0;
                QUIZ_QUESTIONS.forEach((q, i) => {
                    if (quizAnswers[i] === q.correct) score++;
                });
                setQuizScore(score);
                setQuizSubmitted(true);
            };

            const resetQuiz = () => {
                setQuizAnswers({});
                setQuizSubmitted(false);
                setQuizScore(0);
            };

            // --- Views ---

            const IntroView = () => (
                <div className="space-y-8 animate-in fade-in duration-500">
                    <div className="bg-gradient-to-br from-slate-800 to-slate-900 text-white p-8 md:p-12 rounded-3xl shadow-2xl relative overflow-hidden">
                        <div className="relative z-10">
                            <h1 className="text-4xl md:text-5xl font-extrabold mb-4 leading-tight">General Principles of<br/><span className="text-blue-400">Psychiatric Nursing</span></h1>
                            <p className="text-slate-300 text-lg max-w-2xl mb-8">
                                A comprehensive guide to the foundational attitudes, communication strategies, and clinical care approaches essential for mental health nursing.
                            </p>
                            <div className="flex flex-wrap gap-4">
                                <button onClick={() => handleNavClick(SECTIONS.ATTITUDES)} className="bg-blue-500 text-white px-8 py-3 rounded-full font-bold hover:bg-blue-600 transition shadow-lg shadow-blue-500/30">Start Exploring</button>
                                <button onClick={() => handleNavClick(SECTIONS.QUIZ)} className="bg-white/10 backdrop-blur-sm text-white border border-white/20 px-8 py-3 rounded-full font-bold hover:bg-white/20 transition">Take Knowledge Check</button>
                            </div>
                        </div>
                        <Target className="absolute -bottom-10 -right-10 text-white opacity-5 w-64 h-64" />
                    </div>

                    <Card className="border-l-4 border-l-blue-500 bg-blue-50/30">
                        <h3 className="text-xl font-bold mb-4 flex items-center gap-2 text-blue-900">
                            <BookOpen className="text-blue-500" /> Learning Objectives
                        </h3>
                        <p className="text-slate-600 mb-4 italic">By the end of this lecture, the student will be able to:</p>
                        <ul className="grid md:grid-cols-2 gap-x-6 gap-y-3">
                            {LEARNING_OBJECTIVES.map((obj, idx) => (
                                <li key={idx} className="flex items-start gap-3 bg-white p-3 rounded-lg border border-slate-100 shadow-sm">
                                    <span className="flex-shrink-0 w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-xs font-bold mt-0.5">{idx + 1}</span>
                                    <span className="text-sm text-slate-700">{obj}</span>
                                </li>
                            ))}
                        </ul>
                    </Card>

                    <div className="grid md:grid-cols-2 lg:grid-cols-4 gap-4 mt-8">
                        {[
                            { id: SECTIONS.ATTITUDES, title: PRINCIPLES_DATA.attitudes.title, color: 'bg-rose-50 hover:bg-rose-100 border-rose-200 text-rose-700', icon: <HeartHandshake size={24}/> },
                            { id: SECTIONS.COMMUNICATION, title: PRINCIPLES_DATA.communication.title, color: 'bg-purple-50 hover:bg-purple-100 border-purple-200 text-purple-700', icon: <MessageCircle size={24}/> },
                            { id: SECTIONS.ENVIRONMENT, title: PRINCIPLES_DATA.environment.title, color: 'bg-emerald-50 hover:bg-emerald-100 border-emerald-200 text-emerald-700', icon: <ShieldCheck size={24}/> },
                            { id: SECTIONS.CARE, title: PRINCIPLES_DATA.care.title, color: 'bg-blue-50 hover:bg-blue-100 border-blue-200 text-blue-700', icon: <Search size={24}/> }
                        ].map(nav => (
                            <button 
                                key={nav.id}
                                onClick={() => handleNavClick(nav.id)}
                                className={`flex flex-col items-center justify-center p-6 rounded-2xl border text-center transition-all hover:-translate-y-1 ${nav.color}`}
                            >
                                <div className="mb-3 bg-white p-3 rounded-full shadow-sm">{nav.icon}</div>
                                <span className="font-bold text-sm">{nav.title}</span>
                            </button>
                        ))}
                    </div>
                </div>
            );

            const CategoryView = ({ sectionKey }) => {
                const data = PRINCIPLES_DATA[sectionKey];
                return (
                    <div className="animate-in slide-in-from-right-4 duration-500 max-w-4xl mx-auto">
                        <SectionHeader title={data.title} icon={data.icon} color={data.color} />
                        <div className="space-y-6">
                            {data.principles.map(principle => (
                                <PrincipleBlock key={principle.num} {...principle} />
                            ))}
                        </div>
                    </div>
                );
            };

            const QuizView = () => (
                <div className="animate-in slide-in-from-right-4 duration-500 max-w-2xl mx-auto">
                    <SectionHeader title="Knowledge Check" icon={<Target size={32} />} color="bg-amber-100 text-amber-700" />
                    
                    {!quizSubmitted ? (
                        <div className="space-y-6">
                            {QUIZ_QUESTIONS.map((q, qIndex) => (
                                <Card key={qIndex} className="p-6">
                                    <h4 className="font-bold text-lg mb-4 text-slate-800">{qIndex + 1}. {q.q}</h4>
                                    <div className="space-y-2">
                                        {q.options.map((opt, optIndex) => (
                                            <button
                                                key={optIndex}
                                                onClick={() => handleQuizOption(qIndex, optIndex)}
                                                className={`w-full text-left p-4 rounded-xl border transition-all ${
                                                    quizAnswers[qIndex] === optIndex 
                                                        ? 'bg-blue-50 border-blue-500 shadow-sm ring-1 ring-blue-500 text-blue-900 font-medium' 
                                                        : 'bg-slate-50 border-slate-200 hover:bg-white hover:border-blue-300'
                                                }`}
                                            >
                                                {opt}
                                            </button>
                                        ))}
                                    </div>
                                </Card>
                            ))}
                            <button 
                                onClick={submitQuiz}
                                disabled={Object.keys(quizAnswers).length < QUIZ_QUESTIONS.length}
                                className="w-full py-4 bg-slate-800 text-white rounded-xl font-bold text-lg disabled:opacity-50 hover:bg-slate-700 transition shadow-lg"
                            >
                                Submit Answers
                            </button>
                        </div>
                    ) : (
                        <Card className="text-center p-10 bg-slate-800 text-white">
                            <div className="text-6xl mb-6">{quizScore >= 4 ? 'ðŸ†' : 'ðŸ“š'}</div>
                            <h2 className="text-3xl font-bold mb-3">You scored {quizScore} / {QUIZ_QUESTIONS.length}</h2>
                            <p className="text-slate-300 mb-8 text-lg">
                                {quizScore === 5 ? "Excellent! You have a solid grasp of psychiatric nursing principles." : "Good effort! Review the sections to strengthen your understanding."}
                            </p>
                            <button onClick={resetQuiz} className="bg-white text-slate-900 px-8 py-3 rounded-full font-bold hover:bg-slate-100 transition">Try Again</button>
                        </Card>
                    )}
                </div>
            );

            // --- NAVIGATION ---
            const navItems = [
                { id: SECTIONS.INTRO, label: 'Intro', icon: <BookOpen size={18}/> },
                { id: SECTIONS.ATTITUDES, label: 'Attitudes', icon: <HeartHandshake size={18}/> },
                { id: SECTIONS.COMMUNICATION, label: 'Communication', icon: <MessageCircle size={18}/> },
                { id: SECTIONS.ENVIRONMENT, label: 'Environment', icon: <ShieldCheck size={18}/> },
                { id: SECTIONS.CARE, label: 'Care', icon: <Search size={18}/> },
                { id: SECTIONS.QUIZ, label: 'Quiz', icon: <Target size={18}/> },
            ];

            return (
                <div className="min-h-screen bg-[#f1f5f9] font-sans text-slate-800 pb-20 md:pb-0 md:pl-64">
                    
                    {/* Desktop Sidebar Navigation */}
                    <nav className="hidden md:flex flex-col fixed left-0 top-0 bottom-0 w-64 bg-white border-r border-slate-200 z-50">
                        <div className="p-6 border-b border-slate-100 cursor-pointer" onClick={() => handleNavClick(SECTIONS.INTRO)}>
                            <div className="flex items-center gap-3 font-bold text-blue-900">
                                <DepartmentLogo className="w-12 h-12 flex-shrink-0" />
                                <span className="text-sm leading-tight">Psychiatric & Mental Health Nursing</span>
                            </div>
                        </div>
                        <div className="flex-1 overflow-y-auto py-6 px-4 space-y-2">
                            <p className="px-4 text-xs font-bold text-slate-400 uppercase tracking-wider mb-4">Modules</p>
                            {navItems.map(nav => (
                                <button
                                    key={nav.id}
                                    onClick={() => handleNavClick(nav.id)}
                                    className={`w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium transition-all ${
                                        activeSection === nav.id 
                                            ? 'bg-blue-50 text-blue-700 shadow-sm' 
                                            : 'text-slate-600 hover:bg-slate-50 hover:text-slate-900'
                                    }`}
                                >
                                    {nav.icon} {nav.label}
                                </button>
                            ))}
                        </div>
                        <div className="p-4 border-t border-slate-100 bg-slate-50 text-xs text-slate-500 text-center">
                            Principles of Psychiatric Nursing
                        </div>
                    </nav>

                    {/* Mobile Bottom Navigation */}
                    <nav className="md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 z-50 pb-safe">
                        <div className="flex justify-around items-center h-16 px-2">
                            {navItems.map(nav => (
                                <button
                                    key={nav.id}
                                    onClick={() => handleNavClick(nav.id)}
                                    className={`flex flex-col items-center justify-center w-full h-full space-y-1 transition-colors ${
                                        activeSection === nav.id ? 'text-blue-600' : 'text-slate-400'
                                    }`}
                                >
                                    {React.cloneElement(nav.icon, { size: activeSection === nav.id ? 22 : 20 })}
                                    <span className="text-[10px] font-medium">{nav.label}</span>
                                </button>
                            ))}
                        </div>
                    </nav>

                    {/* Mobile Top Header */}
                    <header className="md:hidden bg-white shadow-sm sticky top-0 z-40 px-4 h-16 flex items-center cursor-pointer" onClick={() => handleNavClick(SECTIONS.INTRO)}>
                        <div className="flex items-center gap-2 font-bold text-blue-900">
                            <DepartmentLogo className="w-8 h-8 flex-shrink-0" />
                            <span className="text-sm">Psychiatric Nursing</span>
                        </div>
                    </header>

                    {/* Main Content Area */}
                    <main className="px-4 py-8 md:p-10 max-w-6xl mx-auto">
                        {activeSection === SECTIONS.INTRO && <IntroView />}
                        {activeSection === SECTIONS.ATTITUDES && <CategoryView sectionKey="attitudes" />}
                        {activeSection === SECTIONS.COMMUNICATION && <CategoryView sectionKey="communication" />}
                        {activeSection === SECTIONS.ENVIRONMENT && <CategoryView sectionKey="environment" />}
                        {activeSection === SECTIONS.CARE && <CategoryView sectionKey="care" />}
                        {activeSection === SECTIONS.QUIZ && <QuizView />}
                    </main>

                    {/* Footer */}
                    <footer className="bg-slate-900 text-slate-300 py-10 mt-12 border-t-4 border-indigo-600">
                        <div className="max-w-5xl mx-auto px-6 flex flex-col md:flex-row items-center md:items-start justify-between gap-8">
                            <div className="flex flex-col sm:flex-row items-center sm:items-start gap-5 text-center sm:text-left">
                                <FacultyLogo className="w-24 h-28 flex-shrink-0 drop-shadow-md" />
                                <div className="mt-2">
                                    <p className="mb-1 text-lg font-bold text-white">Psychiatric Nursing & Mental Health</p>
                                    <p className="text-sm text-slate-400 max-w-xs">Introduction to Psychiatric and Mental Health Nursing â€¢ Educational Material</p>
                                </div>
                            </div>
                            
                            <div className="text-center md:text-right space-y-2 text-sm border-t md:border-t-0 border-slate-700 pt-6 md:pt-0 w-full md:w-auto">
                                <p className="flex flex-col sm:block"><span className="text-slate-500 text-xs uppercase tracking-wider block sm:inline sm:mr-2">Dean of The Faculty:</span> <span className="text-slate-200">Prof. Dr. Hanan Hosny El-Sherbiny</span></p>
                                <p className="flex flex-col sm:block"><span className="text-slate-500 text-xs uppercase tracking-wider block sm:inline sm:mr-2">Acting Head of Department:</span> <span className="text-slate-200">Asst. Prof. Dr. Mayar Ezz-Eldin El-Naqeeb</span></p>
                                <p className="flex flex-col sm:block"><span className="text-slate-500 text-xs uppercase tracking-wider block sm:inline sm:mr-2">Created by:</span> <span className="font-semibold text-white">M.Abdallah Abozaid</span></p>
                            </div>
                        </div>
                    </footer>

                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<PsychiatricPrinciplesApp />);
    </script>
</body>
</html>